<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Impression of “A Gentleman in Moscow”</title>
    <url>/Reading/A-Gentleman-in-Moscow/</url>
    <content><![CDATA[<p>《莫斯科绅士》讲述的是在沙皇被推翻之后，一个沙皇伯爵回到俄国，被软禁在莫斯科大都会酒店度过一生的故事。作者通过伯爵的回忆，简单描述了沙皇时期贵族的一些生活场景，又以伯爵的视角，通过描绘大都会酒店的变化，侧面反映了俄国的政治、社会变化。</p>
<p><img data-src="/downloads/images/blog/A-Gentleman-in-Moscow-Cover.jpg"></p>
<p>读完故事简介时，我以为这本书会很无趣，但是最后发现我自己陷入到里故事中去，一个月的时间就读完了此书。</p>
<p>我看书的时候一般不关注作者，但是在看这本书的过程中，我一直在不断地推测作者跟伯爵的关系。我想这会不会有点类似于传记的小说，作者就是伯爵本人或者他听过伯爵讲这些故事？毕竟他在对贵族场景和绅士遵守的规则时那么熟悉，毕竟他对伯爵心理活动的描述那么精确，我笔记中收藏了好几处他对伯爵心理活动的描写。退一步讲，如果他不是伯爵本人，那么至少他是一个地地道道的俄国人，一生中经历过沙皇倒台、十月革命、苏维埃政权建立以及斯大林时代结束。然而最终阅读完毕去查阅作者时，我才知到作者是一个美国人，不禁要感叹一声，此人何以如此厉害，居然可以如此了解那个时代的苏联，了解俄国人的特点和俄国的特色。</p>
<p>沙皇被推翻后，伯爵旧时的象征尊贵的身份此时却是一种罪。他被软禁在已经居住了许多年的大都会酒店中，只不过之前，他住的是能看到红场和大剧院的视野最好的大套房，如今却被安置到 6 楼的一个小房间。因为新房间过矮，身材高大的伯爵无法直起身子，而且因为房间变小，他的很多东西都只能舍弃。当时他从老家庄园搬到大都会酒店时就迫不得已丢弃了许多物品，此次剩下的便更少了。多么像人生的一辈子，就是在不断地舍弃，不断地舍弃。</p>
<p>伯爵被软禁之后，一直在竭力掌控自己的命运和生活，而不是被命运所掌控。一个人的命运是无法脱离社会的大环境而独立地发展的，就像伯爵自己，像伯爵在酒店中认识的第一个朋友小尼娜，像伯爵的朋友米什尔，没有一个人能够完全挣脱那个社会环境带给他们的命运。然而作为一个人仍然可以努力地掌控自己的生活，决定自己如何地生活。虽然伯爵不能摆脱被软禁在酒店半辈子的命运，但是他却可以始终选择做一名绅士，保持有规律的生活。他每天早晨 7 点起床，吃丰盛的有水果、茶和饼干的早餐，每天做几十个蹲起和伸展，每周二去理发，努力地不让生活变得一片荒芜。</p>
<p>人终究是群居动物，一个人总要与外界的生活有所羁绊，才能有勇气和动力坚持生活下去。伯爵被软禁之后，认识了第一个朋友小尼娜，我觉得小尼娜对于伯爵而言，是刚被软禁后的灰色生活中的一抹亮色，正如她爱穿的黄色一样。小尼娜有酒店的万能钥匙，带着伯爵访遍了酒店的各个角落，伯爵因此有机会再次进入他之前的大套间，透过那个视野最好的窗户看红场和大剧院，也有机会参观酒店的储物间。后来伯爵又与演员安娜有了一夜情缘，这一次他感觉受到了冷落。因为这次的冷落，伯爵突然觉得他已经被时代抛弃了，产生了轻生的想法，可是当他遗嘱等一切后事安排好，午夜 12 点站在酒店楼顶马上要纵身一跃的时候，被他之前认识的看房子的老人叫住了，热情地非得让他品尝蜂蜜，他在蜂蜜里尝到了他家乡苹果花的味道，然后也打消了轻生的念头。而本以为只是一夜情缘的伯爵与安娜，后来因为世事变幻，又保持了神秘亲密关系。随着时代的发展，他在酒店里成为了领班，认识了很多朋友，与饭店主厨和主管组成了 “三巨头”。又过去了很久，长大结婚后的尼娜与他的丈夫因为被流放到边境，把小索菲亚托付给老伯爵照看一个月，但是尼娜再也没有来领小索菲亚，因此老伯爵便承担起抚养小索菲亚的责任，他又有了一个更深的羁绊。</p>
<p>人不愿意为自己去冒险，却会为了爱的人全心谋划甘冒巨大风险。我看书前一直以为伯爵会伺机逃离大都会，可我发现他在里面呆了大半辈子都没想过要逃离，可是最终为了索菲亚能有更好的未来，可以获得更自由的生活，他制定了周密的计划将索菲亚送到了新的世界，自己也离开了大都会。</p>
<p>我想一个人对自己的国家和故土会有深深的眷恋，尤其是老去以后。逃离酒店后，我本以为他会去与小索菲亚汇合，没想到他回到了自己的故乡，最后从结局可以看出来他与安娜在故乡汇合了，不知道他们是否会遭到搜查，是否可以一直安稳幸福，不过我相信至少他们会努力把每一天过的都不荒芜。</p>
<p>我不清楚这本书本意想要带给读者什么，只聊聊自己读完之后的一些感想。看完之后我会觉得人一生中一些大的运数可能真的是由天或环境决定的，但是也不要因为那样，就任由命运摆布，完全放弃主动权。既然有很多事情不是自己能够决定的，那就做好自己可以决定的事情，不是非要做出什么伟大的事情，但是至少可以掌控自己的每一天的细小生活，把每一天过的不荒芜。此外我觉得虽然人生有那么多苦，但是在苦与苦的缝隙之间，还是隐藏了一些糖果和温暖，找到这些糖果和温暖，带着它们上路，我们就可以坚持走过下一段苦。</p>
<p>转载自 《余苗》</p>
]]></content>
      <categories>
        <category>Reading</category>
      </categories>
  </entry>
  <entry>
    <title>人类简史 摘录</title>
    <url>/Reading/A-Brief-History-of-Humankind/</url>
    <content><![CDATA[<p>[TOC]</p>
<p><img data-src="https://upload-images.jianshu.io/upload_images/8224064-9ac42874d7eae21c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/format/webp"></p>
<blockquote>
<p>尤瓦尔・赫拉利</p>
</blockquote>
<ul>
<li>赫拉利无疑是痛恨 “人类中心主义” 的。在他看来，正是这种罪恶的人类中心主义，把具有神一般的能力、本来应该成为宇宙间 “正能量” 的智人，变成了一种不负责任、贪得无厌又极具破坏力的怪兽，结果给地球生态带来了一场 “毁天灭地的人类洪水”。</li>
</ul>
<h1 id="人类一种也没什么特别的动物">人类：一种也没什么特别的动物</h1>
<ul>
<li>大约在 135 亿年前，经过所谓的 “大爆炸”（Big
Bang）之后，宇宙的物质、能量、时间和空间才成了现在的样子。</li>
<li>[三大变革] 在历史的路上，有三大重要革命：
<ul>
<li>大约 7 万年前，“认知革命”（Cognitive
Revolution）让历史正式启动。</li>
<li>大约 12000 年前，“农业革命”（Agricultural
Revolution）让历史加速发展。</li>
<li>到了大约不过是 500 年前，“科学革命”（Scientific
Revolution）可以说是让历史画下句点而另创新局。</li>
</ul></li>
<li>生物学家把所有生物划分成不同的 “物种”。而所谓属于同一物种，就是它们会彼此交配，能够产出下一代。从同一个祖先演化而来的不同物种，会属于同一个 “属”（
genus）。每一位在读这本书的应该都是一个 “Homo sapiens”：人属（
Homo，指 “人”）的人种（
sapiens，指 “明智”）。同一科的所有成员，都能追溯到某个最早的雄性或雌性祖先。</li>
<li>从整个历史来看，过去多种人种共存其实是常态，现在地球上只有 “一种人”，这才是异常。</li>
<li>有几项共同的人类特征。其中最重要的一点，就是人类的大脑明显大于其他动物。对智人来说，大脑只占身体总重约
2% ~
3%，但在身体休息而不活动时，大脑的能量消耗却占了 25%。人类另一项独有的特点，在于我们用两条腿直立行走。直立的步行方式需要让臀部变窄，于是产道宽度受限，而且别忘了婴儿的头还越来越大。于是，分娩死亡成了女性的一大风险。与其他动物相较，人类可说都是早产儿，许多重要器官的发育都还不够完善。由于人类出生的时候尚未发育完全，比起其他动物，也就更能够用教育和社会化的方式加以改变。我们以为，有比较大的大脑、会使用工具、有超凡的学习能力还有复杂的社会结构，都可说是人类巨大的优势。而且似乎不证自明，正是这些优势使人类成为地球上最强大的动物。然而，其实人类早就具有这些优势，但在整整 200 万年期间，人类一直就只是一种弱小、边缘的生物。</li>
<li>长久以来，智人一直只是稳定位于食物链的中间位置，直到最近才有改变。在先前长达数百万年的时间里，人类会猎杀小动物、采集种种能得到的食物，但同时也会遭到较大型肉食动物猎杀。一直要到
40 万年前，有几种人种才开始固定追捕大型猎物，而要到 10 万年前智人崛起，人类才一跃而居于食物链顶端。</li>
<li>[过于仓促的地位跳跃]
烹调让人类能吃的食物种类更多，减少所需的进食时间，还能缩小牙齿、减少肠的长度。</li>
</ul>
<h1 id="知善恶树">知善恶树</h1>
<ul>
<li>大约就是在距今 7 万到 3 万年前，出现了新的思维和沟通方式，这也正是所谓的认知革命。</li>
<li>" 讨论虚构的事物” 正是智人语言最独特的功能。</li>
<li>只要在
150 人以下，不论是社群、公司、社会网络还是军事单位，只要靠着大家都认识、彼此互通消息，就能够运作顺畅，而不需要规定出正式的阶层、职称、规范。</li>
<li>从认知革命以来，智人一直就生活在一种双重的现实之中。一方面，我们有像是河流、树木和狮子这种确实存在的客观现实；而另一方面，我们也有像是神、国家和企业这种想象中的现实。</li>
<li>自从认知革命之后，智人就能依据不断变化的需求迅速调整行为。这等于开启了一条采用 “文化演化” 的快速道路，而不再停留在 “基因演化” 这条总是堵车的道路上。</li>
<li>即使在今日，还是有些人类社会采用这种共同教养制，很多人以为在农业革命前的人类都只使用石器，其实这是考古偏误造成的误解。所谓的石器时代，其实说是 “木器时代” 更精确，当时的狩猎采集工具多半还是木制。</li>
<li>想光靠现存的文物来了解远古狩猎采集生活，就是会有这种偏差。想解决这个问题，方法之一就是去研究目前尚存的采集社会。通过人类学观察，我们就能直接研究这些社会。</li>
<li>有证据显示，自从采集时代以来，智人的脑容量其实是逐渐减少！要在那个时代活下来，每个人都必须有高超的心智能力。</li>
<li>这样的采集经济，能让大多数人都过着比在农业或工业社会中更有趣的生活。正因为这些在农业时代前的采集者有健康和多样化的饮食、相对较短的工作时间，也少有传染病的发生，许多专家将这种社会定义为 “最初的富裕社会”。</li>
<li>我们要小心不能只有了肤浅的认识，就断然将其妖魔化或理想化。亚契人既不是天使，也不是魔鬼，不过就是人类。</li>
</ul>
<h1 id="亚当和夏娃的一天">亚当和夏娃的一天</h1>
<ul>
<li>泛神论的一个特点，在于所有的灵都位于当场当地，不是什么万能的神，而是某只特定的鹿、某棵特定的树、某条特定的小溪、某个特定的鬼魂。</li>
<li>[沧海桑田] 远古的印度尼西亚海岸线现在深深沉在 100 米的海面下。</li>
</ul>
<h1 id="毁天灭地的人类洪水">毁天灭地的人类洪水</h1>
<ul>
<li>在历史上，人类首次抵达澳大利亚绝对算是大事一件，重要性不亚于哥伦布抵达美洲或是阿波罗
11 号登上月球。这是人类第一次成功离开亚非大陆生态系统，也是第一次有大型陆生哺乳动物能够从亚非大陆抵达澳大利亚。</li>
<li>[历史上的视野扩大]
智人最早是步行抵达美洲，因为当时海平面较低，从西伯利亚东北还有陆地与阿拉斯加的西北相连。</li>
<li>第一波的灭绝浪潮是由于采集者的扩张，接着第二波灭绝浪潮则是因为农民的扩张；这些教训，让我们得以从一个重要观点来看今日的第三波灭绝浪潮：由工业活动所造成的物种灭绝。有些环保人士声称我们的祖先总是和自然和谐相处，但可别真的这么相信。早在工业革命之前，智人就是造成最多动植物绝种的元凶。人类可以说坐上了生物学有史以来最致命物种的宝座。
&gt;
人类的三次扩张，受害的确实动物，多拿少取，不要浪费，不够买不必要的东西。</li>
<li>与陆地上的大型动物相较，大型海洋生物受到认知革命和农业革命的影响相对较小。然而，因为工业污染和过度滥用海洋资源，许多海洋生物都已经濒临绝种。
&gt; 现在是保护海洋动物的最佳时刻</li>
</ul>
<h1 id="史上最大骗局">史上最大骗局</h1>
<ul>
<li>从采集走向农业的转变，始于大约公元前 9500 年～公元前
8500 年，发源于土耳其东南部、伊朗西部和地中海东部的丘陵地带。 &gt;
采集走向农业</li>
<li>即使到了今天，虽然人类有着种种先进科技，但食物热量超过
90% 的来源仍然是来自人类祖先在公元前 9500 年到公元前
3500 年间驯化的植物：小麦、稻米、玉米、马铃薯、小米和大麦。在过去
2000 年间，人类并没有驯化什么特别值得一提的动植物。可以说，人到现代还有着远古狩猎采集者的心，以及远古农民的胃。</li>
<li>中国最早驯化的是稻米、小米和猪。</li>
<li>早在农业革命之前，采集者就已经对大自然的秘密了然于胸，毕竟为了活命，他们不得不非常了解自己所猎杀的动物、所采集的食物。农业革命所带来的非但不是轻松生活的新时代，反而让农民过着比采集者更辛苦、更不满足的生活。狩猎采集者的生活其实更为丰富多变，也比较少会碰上饥饿和疾病的威胁。确实，农业革命让人类的食物总量增加，但量的增加并不代表吃得更好、过得更悠闲，反而只是造成人口爆炸，而且产生一群养尊处优、娇生惯养的精英分子。普遍来说，农民的工作要比采集者更辛苦，而且到头来的饮食还要更糟。农业革命可说是史上最大的一桩骗局。</li>
<li>和远古相比，我们生活的更好吗？
<ul>
<li>人类以为自己驯化了植物，但其实是植物驯化了智人。就在短短
1000 年内，小麦突然就传遍了世界各地。生存和繁衍正是最基本的演化标准，而根据这个标准，小麦可以说是地球史上最成功的植物。</li>
</ul></li>
<li>如果要衡量某种物种演化成功与否，评断标准就在于世界上其
DNA 螺旋的拷贝数的多寡。农业革命真正的本质：让更多的人却以更糟的状况活下去。</li>
<li>[这么可怕的基因]
人类就像许多哺乳动物一样，自然有荷尔蒙和遗传机制来控制生育数。营养充足的时候，女性比较早进入青春期，成功怀孕的概率也比较高。而在土地贫瘠、营养不足的时候，女性进入青春期要来得晚，生育能力也下降。</li>
<li>在大多数的农业社会里，人类的第一重点是种植农作物，第二才是饲养动物。但是有些地方也出现了一种新型的社会，主要就是靠着剥削利用其他动物为生：游牧部落。</li>
<li>[奶牛场的残酷] 在许多现代的奶牛场里，奶牛通常只能活到
5 岁就会被宰杀。这
5 年中，它几乎一直在怀孕，为了维持最大的产奶量，在分娩后大约 60 ~
120 天就要再次受精。至于它的小牛们，则是一出生没多久就被带走，母的被养大成为新一代的奶牛，而公的就进了肉类产业的手里。</li>
<li>我们从农业革命能学到的最重要一课，很可能就是物种演化上的成功并不代表个体的幸福。</li>
</ul>
<h1 id="盖起金字塔">盖起金字塔</h1>
<ul>
<li>每当人类整体的能力大幅增加、看来似乎大获成功，个人的苦痛也总是随之增长。</li>
<li>正是这些征收来的多余食粮，养活了政治、战争、艺术和哲学，建起了宫殿、堡垒、纪念碑和庙宇。在现代晚期之前，总人口有九成以上都是农民，日出而作、胼手胝足。他们生产出来的多余食粮养活了一小撮的精英分子：国王、官员、战士、牧师、艺术家和思想家，但历史写的几乎全是这些人的故事。于是，历史只告诉了我们极少数的人在做些什么，而其他绝大多数人的生活就是不停挑水耕田。</li>
<li>瞠乎其后：在别人后面干瞪眼赶不上。形容远远落在后面。</li>
<li>人类在几百万年的演化过程中，一直都只是几十人的小部落。从农业革命之后，不过短短几千年就出现了城市、王国和帝国，但时间并不足以让人类发展出能够大规模合作的本能。</li>
<li>《汉谟拉比法典》认为，巴比伦的社会秩序根源于由神所指示、普遍且永久的正义原则。这里的阶级结构原则至关重要，将所有人类分成男女两种性别，以及上等人、平民和奴隶三种阶级；性别和阶级不同，价值也就天差地别。</li>
<li>《汉谟拉比法典》背后的一项重要假设，就是只要国王的臣民全部接受各自的阶级角色、各司其职，整个帝国上百万的人民就能有效合作。这么一来，这个社会不但能为所有成员生产足够的粮食、有效分配，还能保护国家抵抗敌人，甚至是扩张领土，好取得更多财富、更多安全保障。</li>
<li>奉为圭臬：</li>
<li>法国政治家塔列朗（Charles Maurice de
Talleyrand-Périgord）的政治生涯就像条变色龙，先是路易十六的臣子，再经过革命和拿破仑政权，又抓准时机再次投诚，回到君主制的政体。他曾总结自己几十年任职的经验，表示 “刺刀确实可以做很多事，但想安心地依靠它可是不太容易”。</li>
<li>在所有的人类集体活动中，最难组织推动的就是暴力活动。如果说社会秩序是由武力来维持，立刻就会碰上一个问题：那军队秩序是由什么来维持？想靠威胁来维持军队组织显然不太可行。至少必须有某些军官和某些士兵真正相信某些事情，不管是上帝、荣誉、祖国、男子气概，或是单纯相信金钱也成。</li>
<li>如果人们希望某个由想象建构出的秩序能维持久远，大部分的人（特别是大部分的精英分子）就必须真正相信它。</li>
<li>有三大原因，让人类不会发现组织自己生活的种种秩序其实是想象：
<ul>
<li>想象建构的秩序深深与真实的世界结合。 &gt;
房子的区别，中世纪睡大厅，现在的个人主义有单独的房间。<br>
</li>
<li>想象建构的秩序塑造了我们的欲望。 &gt;
个人欲望也就成为虚构秩序最强大的守护者。我们常常告诉朋友要 “随心所欲”，但这里的 “心” 就像是个两面间谍，听从的常常是外面那些主流的虚构故事。于是 “随心所欲” 不过也只是结合了
19 世纪浪漫主义与
20 世纪的消费主义，再植入我们的脑海罢了。浪漫主义告诉我们，为了要尽量发挥潜力，就必须尽量累积不同的经验。必须体会不同的情感，尝试不同的关系，品尝不同的美食，还必须学会欣赏不同风格的音乐。</li>
<li>想象建构的秩序存在于人和人之间思想的连接。</li>
</ul></li>
<li>“主观” 事物的存在，靠的是某个单一个人的意识和信念。如果这个人改变了自己的信念，这项主观事物也就不复存在或是跟着改变。</li>
<li>“主体间” 事物的存在，靠的是许多个人主观意识之间的连接网络。就算有某个人改变了想法，甚至过世，对这项事物的影响并不大。</li>
<li>身为人类，我们不可能脱离想象所建构出的秩序。每一次我们以为自己打破了监狱的高墙、迈向自由的前方，其实只是到了另一间更大的监狱，把活动范围稍稍加以扩大。</li>
<li>蜜蜂的未受精卵会发育成雄蜂，受精卵则发育成雌蜂，但雌蜂幼虫依据被喂食的食物不同，长大后可能成为蜂后，也可能成为一般的工蜂。</li>
<li>历史的铁则告诉我们，每一种由想象建构出来的秩序，都绝不会承认自己出于想象和虚构，而会大谈自己是自然、必然的结果。</li>
<li>大多数人都会认为只有自己社会的阶级是自然的，而其他社会的阶级分法都实在是虚假又荒谬。</li>
<li>复杂的人类社会似乎就是需要这些由想象建构出来的阶级制度和歧视。当然，各种阶级制度的道德意义不一，某些社会的歧视也比其他社会更为严重或极端，但至少就目前学者研究，还没有任何一个大型人类社会能真正免除歧视的情形。一次又一次，人类要让社会有秩序的方法，就是会将成员分成各种想象出来的阶级，像是上等人、平民和奴隶；白人和黑人；贵族和平民；婆罗门和首陀罗；又或是富人和穷人。所有这些阶级，就是要让某些人在法律上、政治上或社会上高人一等，从而规范了数百万人的关系。</li>
<li>" 黑人歧视法”（Jim Crow Laws） &gt;
南北战争后，居然还有黑人歧视法。</li>
<li>美国的审美观就是以白人的美丽作为标准，白人的特质就是美丽的标准，浅色的皮肤、金黄的直发、小而翘的鼻子等等。</li>
<li>随着时间流逝，不公不义的歧视常常只是加剧而不是改善。 &gt;
偶然历史事件造成的歧视，难以解决。</li>
<li>大多数社会政治阶级制度其实都没有逻辑或生物学的基础，不过就是由历史的偶然事件引起，再用虚构的故事延续壮大。</li>
<li>有某种阶级制度却是在所有已知的人类社会里都有着极高的重要性：性别的阶级。</li>
<li>《圣经》还写着：“若有男子遇见没有许配人的处女，抓住她，与她行淫，被人看见，这男子就要拿 50 舍客勒银子给女子的父亲；因他玷污了这女子，就要娶她为妻。”</li>
<li> 学者为了把概念讲清楚，通常把生物学上的区分称为 “性”（sex），而文化上的区分称为 “性别”（gender）。“性” 区分的是男性和女性，属于客观标准，在整个历史上未曾改变。至于 “性别” 区分的是男人和女人（某些文化也有其他类别），所谓 “够男人” 和 “够女人” 的标准存在于主体之间，而且会不断改变。</li>
</ul>
<h3 id="肌肉理论">肌肉理论</h3>
<h3 id="流氓理论">流氓理论</h3>
<h3 id="父权基因理论">父权基因理论</h3>
<h1 id="人类的融合统一">人类的融合统一</h1>
<h2 id="历史的方向">历史的方向</h2>
<ul>
<li>现代的政治秩序。自从法国大革命之后，全球人民逐渐同意 “自由” 和 “平等” 都是基本的价值观。然而这两者根本就互相抵触！想要确保 “平等”，就得限制住那些较突出的人；而要人人都能 “自由”，也就必然影响所有人的平等。自从 1789 年法国大革命以来，全球政治史可以说就是讲述着要如何解决这种矛盾。</li>
</ul>
<h3 id="用一种间谍卫星的高度">用一种间谍卫星的高度</h3>
<h3 id="全球视野">全球视野</h3>
<ul>
<li>公元前的 1000 年间，出现了三种有可能达到全球一家概念的秩序，相信这些秩序，就有可能相信全球的人类都 “在一起”，都由同一套规则管辖，让所有人类都成了 “我们”（至少有这个可能），“他们” 也就不复存在。这三种全球秩序，首先第一种是经济上的货币秩序，第二种是政治上的帝国秩序，而第三种则是宗教上的全球性宗教，像是佛教、基督教和伊斯兰教。</li>
</ul>
<h2 id="金钱的味道">金钱的味道</h2>
<h3 id="这要怎么算">这要怎么算</h3>
<h3 id="贝壳和香烟">贝壳和香烟</h3>
<ul>
<li>现在，大部分的钱也不是以硬币或钞票的方式存在。全球金钱总和为 60 兆美元，但所有硬币和钞票的金额加起来还不到 6 兆美元。换句话说，所有的钱有超过九成（超过 50 兆美元！）都只是显示在计算机上的数字而已。</li>
<li>“人人都想要” 正是金钱最基本的特性。人人都想要钱，是因为其他人也都想要钱，所以有钱就几乎可以换到所有东西。</li>
</ul>
<h3 id="金钱的运作原理">金钱的运作原理</h3>
<ul>
<li>金钱就是一种相互信任的系统，而且还不是随随便便的某种系统：
金钱正是有史以来最普遍也最有效的互信系统。</li>
<li>拿一张一美元的钞票来仔细瞧瞧，我们会发现这只是一张色彩丰富的纸，一面有美国财政部长的签名，另一面则写着 “In
God We Trust”（我们信神）。</li>
</ul>
<figure>
<img data-src="http://pic13.997788.com/pic_search/00/11/76/61/se11766198.jpg" alt="One Dollar">
<figcaption aria-hidden="true">One Dollar</figcaption>
</figure>
<h3 id="黄金福音">黄金福音</h3>
<ul>
<li>就算是在宗教上水火不容的基督徒和穆斯林，也可以在金钱制度上达成同样的信仰。原因就在于宗教信仰的重点是自己相信，但金钱信仰的重点是 “别人相信 "。</li>
<li>千百年来，哲学家、思想家和宗教人物都对钱嗤之以鼻，称钱为万恶的根源。但就算真是如此，钱同时也是人类最能接受的东西。比起语言、法律、文化、宗教和社会习俗，钱的心胸更为开阔。所有人类创造的信念系统之中，<strong>只有金钱能够跨越几乎所有文化鸿沟，不会因为宗教、性别、种族、年龄或性取向而有所歧视</strong>。</li>
</ul>
<h3 id="金钱的价格">金钱的价格</h3>
<ul>
<li>金钱制度有两大原则：
<ul>
<li>万物可换：钱就像是炼金术，可以让你把土地转为手下的忠诚，把正义转为健康，把暴力转为知识。</li>
<li>万众相信：有了金钱作为媒介，任何两个人都能合作各种计划。</li>
</ul></li>
<li>一直以来，人类社会和家庭的维系靠的是 “无价之宝”，像是荣誉、忠诚、道德和爱。但这些都不会被放上市场，也不应用金钱衡量。
<ul>
<li>然而，金钱一直试图打破这些限制，就像是水不断渗入大坝的裂缝。</li>
</ul></li>
<li>虽然金钱能建立起陌生人之间共通的信任，但人们信任的不是人类、社群或某些神圣的价值观，而只是金钱本身以及背后那套没有人性的系统。我们不信任陌生人，但我们现在也不信任隔壁的邻居，而只是信任他们手上的钱。</li>
<li>人类的经济史就像跳着微妙的舞步。我们用金钱来促进与陌生人的合作，但又害怕这会破坏人类的价值和亲密的关系。一方面，我们也想打破那些限制金钱和商业流动的社会大坝；但另一方面，我们又不断筑起新的大坝，希望保护社会、宗教和环境免受市场力量的奴役。</li>
</ul>
<h2 id="帝国的愿景">帝国的愿景</h2>
<h3 id="究竟帝国是什么">究竟帝国是什么</h3>
<ul>
<li>帝国是一种政治秩序，有两项重要特征：
<ul>
<li>第一，帝国必须统治着许多不同的民族，各自拥有不同的文化认同和独立的领土。</li>
<li>第二，帝国的特征是疆域可以灵活调整，而且可以几乎无限扩张。帝国不需要改变基本架构和认同，就能够纳入更多国家和领土。</li>
</ul></li>
<li>帝国正是造成民族多样性大幅减少的主因之一。帝国就像一台压路机，将许多民族独特的多样性逐渐夯平（例如努曼西亚人），整合制造出他们更大的新群体。
### 邪恶的帝国？</li>
<li>帝国四处征服、掠夺财富之后，不只是拿来养活军队、兴建堡垒，同时也赞助了哲学、艺术、司法和公益。现在人类之所以有许多文化成就，常常背后靠的就是剥削战败者。
### 这是为你们好 ### 当他们成了我们</li>
<li>在中国的统治阶级眼中，各个邻国及四方诸侯都是生活水深火热的蛮夷之邦，天朝中国应该泽被四方、广传华夏文化。</li>
<li>虽然也有些皇帝曾试着要回归自己的根源，让帝国的文化单纯一些，但多数帝国都已经从被征服的民族吸收了太多文化，而形成混合的文明。</li>
<li>有一则著名的逸事，讲的是有个印度人雄心勃勃，把英语学得无懈可击，上了西式舞蹈的课程，甚至还养成了用刀叉进食的习惯。他把这一切学好之后前往英格兰，在伦敦大学学院读法律，还成为一名合格的律师。然而，后来这个读法律的年轻人到了英属南非，穿着西装、打着领带，却因为坚持自己该坐头等车厢，而不是像他一样的 “有色人种” 该坐的三等车厢，便被赶下火车。这个人就是甘地。</li>
<li>文化的涵化（acculturation）与同化（assimilation）终于打破了新成员和旧精英之间的障碍。</li>
</ul>
<h3 id="历史上的好人和坏人">历史上的好人和坏人</h3>
<h3 id="全新的全球帝国">全新的全球帝国</h3>
<ul>
<li>未来的全球帝国，很有可能正是环保当道。</li>
<li>到了 2014 年，世界政治基本上仍是各行其政，但国家的独立性正在迅速消失。没有任何国家能够行使真正独立的经济政策，任意发动战争，甚至连国家内政也无法完全独立决定。对于全球市场的阴谋，各个国家也只能逐步开放，逐渐面对全球企业和非政府组织的干扰，还得面对全球舆论的监督和国际司法的干涉。</li>
<li>我们眼下正在形成的全球帝国，并不受任何特定的国家或族群管辖。就像古罗马帝国晚期，它是由多民族的精英共同统治，并且是由共同的文化和共同的利益结合。在世界各地，越来越多企业家、工程师、专家、学者、律师和经理人得到召唤，一起加入这个帝国。他们必须面对的问题，就是究竟该响应这个帝国的召唤，还是要忠于自己的国家和人民？而且，越来越多的人已经投入了帝国的一方。</li>
</ul>
<h2 id="宗教的法制">宗教的法制</h2>
<ul>
<li>我们今天常认为宗教造成的是歧视、争端、分裂，但在金钱和帝国之外，宗教正是第三种让人类统一的力量。</li>
<li>有了宗教之后，就能说法律并不只是人类自己的设计和想象，而是来自一种绝对的神圣最高权柄。这样一来，至少某些基本的法则便不容动摇，从而确保社会稳定。</li>
<li>我们可以说宗教是 “一种人类规范及价值观的系统，建立在超人类的秩序之上”。这里有两大基本要素：
<ul>
<li>宗教认为世界有一种超人类的秩序，而且并非出于人类的想象或是协议。</li>
<li>以这种超人类的秩序为基础，宗教会发展出它认为具有约束力的规范和价值观。</li>
</ul></li>
<li>某个宗教如果想推广，必须具备另外两种特性：
<ul>
<li>它信奉的超人类秩序必须普世皆同，不论时空而永恒为真。</li>
<li>它还必须坚定地将这种信念传播给大众。换句话说，宗教必须同时具备 “普世特质” 和 “推广特质 "。</li>
</ul></li>
</ul>
<h3 id="让羔羊变得沉默">让羔羊变得沉默</h3>
<ul>
<li>农业革命最初的宗教意义，就是让动植物从与人类平等的生物，变成了人类的所有物。</li>
<li>很多古代神话其实就是一种法律契约，人类承诺要永远崇敬某些神灵，换取人类对其他动植物的控制权。</li>
<li>对泛神论者来说，人类只是地球上众多生物的一种。但对多神教徒来说，整个世界就像是反映了神和人类的关系。人类的祷告、献祭、罪孽和善行，就会决定整个生态系统的命运。</li>
</ul>
<h3 id="偶像崇拜的好处">偶像崇拜的好处</h3>
<ul>
<li>多神教并不一定认为宇宙没有单一的权柄或法则。大多数的多神论甚至泛神论，都还是认为有一个最高的权柄，高于所有其他神灵、恶魔或是神圣的石头公。</li>
<li>真正让多神论与一神论不同的观点，在于<strong>多神论认为主宰世界的最高权力不带有任何私心或偏见</strong>，因此对于人类各种世俗的欲望、担心和忧虑毫不在意。</li>
</ul>
<!--
未来简史·人类简史（套装） (尤瓦尔·赫拉利)
- 您在位置 #9477-9479的标注 | 添加于 2019年10月17日星期四 下午11:23:34
-->
<ul>
<li><p>从多神教的概念向外推导，结果就是影响深远的宗教宽容。一方面，多神教徒相信有一个至高无上、完全无私的神灵；但另一方面，多神教徒也相信有许多各有领域、心有偏见的神灵，所以对于某个神的信徒来说，很容易能相信有其他神灵存在，而且也相信其他神灵同样神通广大。多神论本质上就属于开明，很少迫害异教徒。</p></li>
<li><p>在 16、17 世纪间席卷欧洲的天主教与新教徒之战。所有这些人都相信基督的神性，也相信他关于爱和怜悯的福音，只是对于 “爱” 的本质意见不合。新教徒认为，神如此爱着世人，所以让自己化为肉体，容许自己受到折磨、钉死在十字架上，从而赎了原罪，并对那些信他的人打开了天堂的大门。而天主教徒认为，虽然信仰是必要的，但光这样还不够。要进入天国，信徒还必须参加教堂礼拜，而且要多行善事。这点让新教徒无法接受，认为这样形同交易，对于神的爱和伟大是种贬抑。如果进不进天堂必须取决于自己的善行，岂不是放大了自己的重要性，而且暗示基督在十字架上为人类受的苦以及神对人类的爱都还不够？</p>
<ul>
<li>1572 年 8 月 23 日，强调个人善行的法国天主教徒，袭击了强调上帝之爱的法国新教徒。这场攻击称为圣巴塞洛缪节大屠杀。</li>
</ul></li>
</ul>
<h3 id="神是唯一">神是唯一</h3>
<ul>
<li>“本地一神教” 阶段
<ul>
<li>不论在何处，多神教都不断衍生出各种一神论宗教，但由于这些宗教无法放下唯我独尊的中心思想，所以一直只能处于边陲地位。以犹太教为例，仍然认为全宇宙至高的神还是有私心和偏见，而且关爱的眼神全在一小撮犹太民族和以色列这蕞尔之地。</li>
<li>一般而言，一神教徒比多神教徒更为狂热、更热衷传教。</li>
</ul></li>
</ul>
<h3 id="善恶之战">善恶之战</h3>
<ul>
<li>从历史上来看，一神论就像是个万花筒，承继了一神论、二元论、多神论和泛神论，收纳在同一个神圣论述之下。</li>
</ul>
<h3 id="自然法则">自然法则</h3>
<ul>
<li>释迦牟尼认为，人遇到事情通常就会产生欲念，而欲念总是会造成不满。
<ul>
<li>跳出困局：在事物带来快乐或痛苦的时候，<strong>重点是要看清事物的本质，而不是着重在它带来的感受</strong>，于是就能不再为此所困。
<ul>
<li>他要求信众不杀生、不邪淫、不偷盗，因为这些作为一定会让欲望如野火燎原，而一心追求权力、感官享受或财富。</li>
</ul></li>
</ul></li>
<li>佛陀的教诲一言以蔽之：痛苦来自欲望；要从痛苦中解脱，就要放下欲望；而要放下欲望，就必须训练心智，体验事物的本质。</li>
<li>佛教并不否认有神祇存在，认为他们有强大的神通，能够带来降雨和胜利，然而神祇对于 “由欲得苦” 这条法则却无能为力。</li>
<li>佛教徒崇拜的并不是神祇，而是这些已经开悟而尚未成佛的人，除了希望他们协助达到涅槃的境界，也希望他们帮忙处理一些世俗的问题。</li>
</ul>
<h3 id="当崇拜的对象变成了人">当崇拜的对象变成了人</h3>
<ul>
<li>有神论的宗教，重点在神的崇拜；至于人文主义宗教，重点就是对人的崇拜，或者讲得更明确，是对智人的崇拜。人文主义的基本信念，就是认为智人是独特的、神圣的，从本质上就与其他所有现代动物有所不同。</li>
<li>人文主义对 “人性” 的定义，大致上分成三种对立的教派：
<ul>
<li>自由人文主义，它认为人性就在于每个个人的自我特质，因此个人自由也就变得神圣不可侵犯。</li>
<li>社会主义者认为所谓 “人性” 是个集体而非个人的概念。因此，他们认为神圣的不是每个个人心中的声音，而是由所有智人这种物种构成的整体。</li>
<li>演化人文主义，以纳粹为最著名的代表。相对于其他人文主义者，纳粹相信人类并非处处相同，也不是永恒不变，而是一个会进化或退化的物种。人可以进化成超人，也可以退化成非人。</li>
</ul></li>
<li>自由人文主义和最新的生命科学研究成果之间已经出现一条鸿沟，我们很快就无法再忽视而必须直接面对。</li>
</ul>
<h2 id="成功的秘密">成功的秘密</h2>
<h3 id="马后炮的谬miu误">马后炮的谬 (miu) 误</h3>
<ul>
<li>历史还是所谓的 “二级” 混沌系统。混沌系统分成两级，一级混沌指的是 “不会因为预测而改变”。例如天气就属于一级混沌系统。至于二级混沌系统，指的是 “会受到预测的影响而改变”，因此就永远无法准确预测。例如市场就属于二级混沌系统。</li>
</ul>
<h3 id="盲目的历史女神克丽欧">盲目的历史女神克丽欧</h3>
<ul>
<li>没有任何证据，证明历史是为了人类的利益而进展；而原因就在于 “利益” 并没有客观的衡量标准。不同的文化对于 “善” 的定义不同，而且并没有客观标准可以决定何者为佳。</li>
<li>博弈理论告诉我们，在有多位参与者的时候，某些概念和行为模式可能对 “所有” 参与者都有害，但就是有办法继续存活下去。
<ul>
<li>军备竞赛就是一个著名的例子。</li>
</ul></li>
<li>无论我们把历史发展的动力称为博弈理论、后现代主义或迷因学，“提升人类福祉” 绝不是其主要目标。并没有证据显示史上最成功的文化就一定是对智人最好的文化。</li>
</ul>
<h1 id="科学革命">科学革命</h1>
<h2 id="第十四章-发现自己的无知">第十四章 发现自己的无知</h2>
<ul>
<li>1945 年 7 月 16 日上午 5 点 29 分 45 秒，美国科学家在新墨西哥的阿拉莫戈多引爆了第一颗原子弹。从这时开始，人类不仅有了改变历史进程的能力，更有了结束历史进程的能力。</li>
<li>在过去的 500 年中，人类越来越相信可以靠着投资科学研究提升人类的能力。而且这不只是盲目的信仰，而是经过了反复的证明。</li>
</ul>
<h3 id="不知为不知">不知为不知</h3>
<ul>
<li>现代科学愿意承认自己的无知，就让它比所有先前的知识体系更具活力、更有弹性，也更有求知欲。这一点大幅提升了人类理解世界如何运作的能力，以及创造新科技的能力。</li>
</ul>
<h3 id="科学教条">科学教条</h3>
<h3 id="知识就是力量">知识就是力量</h3>
<ul>
<li>用 “真实” 与否来为知识评分并不妥当。真正的考验就是实用性。能让我们做出新东西来的，就是知识。</li>
</ul>
<h3 id="进步论的理想">进步论的理想</h3>
<ul>
<li>无论是巴别塔、希腊神话的伊卡鲁斯（Icarus）或是犹太传说的活假人（Golem），这些神话故事都在告诫人类，不要企图超越人类的极限，否则只会灾难加身。</li>
<li>纵观历史，社会上有两种贫穷：
<ul>
<li>社会性的贫穷，指的是某些人掌握了机会，却不愿意释出给他人；</li>
<li>生物性的贫穷，指的是因为缺乏食物和住所，而使人的生存受到威胁。或许社会性的贫穷永远都会存在、无法根除，但在全球许多国家中，生物性的贫穷都已经成了过去式。</li>
</ul></li>
</ul>
<h3 id="吉尔伽美什计划">吉尔伽美什计划</h3>
<ul>
<li>想象一下，如果没有死亡，伊斯兰教、基督教或是古埃及宗教会变得如何？这些宗教告诉信众，他们应该和死亡达成一种协议，将重点放在来世，而不是在今生试图克服死亡、寻求永生。</li>
<li>唯一一个让死亡仍然占据核心的现代意识形态就是民族主义。在那些绝望到极点但又同时充满诗意的时刻，民族主义就会向人承诺，就算你牺牲了生命，但你会永远活在国家整体的永恒记忆里。只不过，这项承诺实在太缥缈。</li>
</ul>
<h3 id="科学研究的恩客">科学研究的恩客</h3>
<ul>
<li>科学家本身并不一定会察觉到各种控制金钱流动的政治、经济和宗教利益，许多科学家确实只是纯粹为了求知而研究。然而，真正控制科学发展进度表的，也很少是科学家。</li>
</ul>
<h2 id="第十五章-科学与帝国的联姻">第十五章 科学与帝国的联姻</h2>
<h3 id="为什么是欧洲">为什么是欧洲</h3>
<ul>
<li>从 1850 年起，欧洲之所以能够称霸世界，很大程度靠的就是军事、工业和科学领域的合作，以及如同巫术般神妙的科技。</li>
<li>中国甚至要到 1876 年，才建了第一条铁路，全长 25 公里，由欧洲人所建；而且来年就遭到中国政府拆除。所以，就算到了 1880 年，中国这个庞大的帝国连一条铁路也没有。</li>
<li>1500 年到 1850 年，虽然这段时期欧洲面对亚洲在科技、政治、军事、经济上并不具有什么明显的优势，但却是在厚植累积独特的潜力，直到 1850 年左右才终于爆发。
<ul>
<li>他们缺少的是西方的价值观、故事、司法系统和社会政治结构，这些在西方花了数个世纪才形成及成熟，就算想要照抄，也无法在一夕之间内化。</li>
</ul></li>
</ul>
<h3 id="征服的心态">征服的心态</h3>
<ul>
<li>欧洲帝国主义和先前的所有帝国完全不同。过去的帝国主义者都认为自己已经了解了整个世界，“征服世界” 只是为了要利用及传播他们自己对于世界的看法。
<ul>
<li>相较之下，欧洲帝国主义之所以要前往遥远的彼岸，除了为了新领土，也是为了新知识。</li>
</ul></li>
<li>随着时间过去，对知识的追寻和对领土的追寻变得越来越紧密交织。</li>
</ul>
<h3 id="地图上的空白">地图上的空白</h3>
<ul>
<li>这片西班牙船队向西航行所碰上的土地，终于首次以一块独立大陆的姿态出现在地图上。既然要画，瓦尔德泽米勒就得给它取个名字，但他误以为发现美洲的人是亚美利哥・韦斯普奇，因此为了向他致敬，这片大陆就被命名为 “America”（美洲）。
<ul>
<li>美洲的命名来源</li>
</ul></li>
</ul>
<h3 id="如同来自外层空间的侵略者">如同来自外层空间的侵略者</h3>
<h3 id="罕见的蜘蛛被遗忘的文字">罕见的蜘蛛，被遗忘的文字</h3>
<ul>
<li>帝国之所以会资助语言学、植物学、地理学和历史学，并不只是为了实用因素。另一项同样重要的原因，在于科学能够从思想上让帝国合理化。</li>
<li>对今日许多精英分子而言，要比较判断不同人群的优劣，几乎讲的总是历史上的文化差异，而不再是种族上的生物差异。我们不再说 “这就存在于他们的血液里”，而是说 “这就存在于他们的文化
里”。</li>
</ul>
<h2 id="第十六章-资本主义教条">第十六章 资本主义教条</h2>
<ul>
<li>在历史来到现代之前，这种交换的能力还十分有限。原因就在于，当时金钱只能代表一些 “实际存在于当下” 的物品。这与 “创业” 的概念无法兼容，因此也就很难促进经济成长。</li>
<li>正是 “信用” 的概念，让我们能够预支未来、打造现在。而这背后有一项基本假设，就是未来的资源肯定远远超过目前的资源；<strong>只要我们使用未来的收入来投资当下，就会带来许多全新而美好的商机</strong>。</li>
</ul>
<h3 id="会变大的饼">会变大的饼</h3>
<ul>
<li>人类全体财富的基础，就在于希望增加个人利润的自私心理。</li>
<li>亚当・斯密推翻了传统上认为财富与道德彼此对立的概念，这下天堂的大门也会为富人而敞开，而有钱也就是有了道德。
<ul>
<li>这么一来，可以说正是有钱人推动了经济成长的巨轮，让人人都得益，他们可真是整个社会里最有用的典范。</li>
</ul></li>
<li>在新的资本主义教条里，最神圣的开宗明义第一条就是：“生产的利润，必须再投资于提高产量”。</li>
<li>所谓的 “资本主义”（Capitalism），认为 “资本”（capital）与 “财富”（wealth）有所不同。资本指的是投入生产的各种金钱、物品和资源。而财富指的则是那些埋在地下或是浪费在非生产性活动的金钱、物品和资源。</li>
</ul>
<!-- 瞠乎其后 所费不赀 -->
<h3 id="哥伦布也需要金主">哥伦布也需要金主</h3>
<ul>
<li>当时西印度公司 (荷兰) 曾在殖民地筑起一道墙，用来抵御英国人和美国原住民，这道墙的位置现在成了世界上最著名的街道：华尔街（Wall
Street，直译为 “墙街”）。</li>
<li>密西西比公司利用其政治影响力操纵股价、推动购买热潮，结果让法国人民对法国金融系统和国王的金融智慧都失去信心。
<ul>
<li>商业对政府的干预例子 ### 以资本之名</li>
</ul></li>
</ul>
<h3 id="以资本之名">以资本之名</h3>
<ul>
<li>虽然印度尼西亚和印度分别在 1800 和 1858
年由荷兰和英国收归国有，但资本主义和帝国的关系非但没有结束，反而是在 19
世纪变得更为紧密。股份公司不再需要自己建立及管理殖民地，而是由经理和大股东直接在伦敦、阿姆斯特丹和巴黎与政治权力牵线接轨，直接由国家来帮忙维护利益。</li>
</ul>
<!--
未来简史·人类简史（套装）（尤瓦尔·赫拉利全球轰动作品！比尔·盖茨、扎克伯格、奥巴马热荐！人类迎来第二次认知革命。） (尤瓦尔·赫拉利)
- 您在位置 #11144-11146的标注 | 添加于 2020年2月10日星期一 上午8:39:18
-->
<ul>
<li>今天在判断某个国家的信用评级时，经济体系是否健全远比天然资源的多寡更为重要。信用评级代表的是国家清偿债务的可能性。除了纯粹的经济数据外，也会考虑政治、社会甚至文化因素。</li>
</ul>
<h3 id="对自由市场的崇拜">对自由市场的崇拜</h3>
<ul>
<li><p>奴隶贸易这场灾难的罪魁祸首并不是暴君或是种族主义者，而是不受限制的市场力量。</p></li>
<li><p>在中世纪，糖在欧洲是难得的奢侈品，必须由中东进口，而且价钱令人咋舌，使用的时候百般珍惜，视为某种秘密成分，加进各种美食或是蛇油为底的药物中。</p></li>
<li><p>这是自由市场资本主义美中不足之处。它无法保证利润会以公平的方式取得或是以公平的方式分配。而且相反的是，因为人类有追求利润和经济成长的渴望，就会决定盲目扫除一切可能的阻挠。等到 “成长” 成了无上的目标、不受其他道德伦理考虑的制衡，就很容易衍生成一场灾难。</p></li>
<li><p>孟加拉地区大饥荒，也是出于类似原因：英国东印度公司比较重视的是自己的利润，而不是
1000
万孟加拉地区人的生命。荷兰东印度公司在印度尼西亚的军事行动，后面出钱的也是一群善良的荷兰人，他们爱孩子，会捐钱给慈善事业，也懂得欣赏好音乐和好艺术，但他们就是没感受到爪哇、苏门答腊、马六甲这些地方人民的痛苦。</p></li>
</ul>
<h2 id="第十七章-工业的巨轮">第十七章 工业的巨轮</h2>
<ul>
<li>因为所有能量转换只能靠人类和动物的身体，当时几乎所有人类活动靠的就是<strong>肌肉的力量</strong>。人类的肌肉能用来造车盖房，牛的肌肉能用来拖犁耕田，马的肌肉能用来运输货物。而所有能用来供应这些 “有机肌肉机器” 的能量来源只有一种：植物。至于植物的能量，则是来自太阳。植物靠着光合作用，将太阳能转为有机化合物。由此看来，历史上人类成就的几乎所有事情，第一步靠的都是将植物取得的太阳能转换为肌肉的力量。</li>
</ul>
<h3 id="厨房里的密码">厨房里的密码</h3>
<ul>
<li>从中国炼丹术士发现火药，到土耳其人用大炮粉碎君士坦丁堡的城墙，之间足足过了 600 年。</li>
</ul>
<h3 id="能源的汪洋大海">能源的汪洋大海</h3>
<ul>
<li><p>这世界缺的不是能源，而是能够驾驭并转换符合我们所需的知识。如果与太阳任何一天放射出的能量相比，全球所有化石燃料所储存的能源简直是微不足道。</p></li>
<li><p>现在人类所有活动和产业每年约消耗 500 艾焦，而地球只要大约短短 90 分钟，就能从太阳接收到这么多能量。而且，这还只是太阳能而已。</p>
<ul>
<li>MC: 太阳能量恐怖。</li>
</ul></li>
</ul>
<h3 id="输送带上的生命">输送带上的生命</h3>
<ul>
<li><p>机械化不只是机器的事，连植物和动物也同样遭到机械化。差不多就是在以人为本的宗教将智人提升到神的地位的时候，<strong>各种农场上的动物已经不再被视为活生生、能够感受到痛苦的生物，而是被视为机器一般对待</strong>。</p>
<ul>
<li>这些动物的一生就像是巨大生产线的齿轮，决定它们生命长短及质量的，就只是各种商业组织的利润和亏损。</li>
</ul></li>
<li><p>猪的智商和好奇心在哺乳动物里数一数二，可能只低于巨猿。</p></li>
<li><p>大西洋奴隶贸易并非出于对非洲人的仇恨，而现代畜牧业也同样不是出于对动物的仇恨。这两者背后共同的推手，就是冷漠。</p></li>
<li><p>讽刺的是，正是那些制造了挤奶器和集蛋器的科学，最近也赤裸裸指出这些哺乳动物和鸟类同样有复杂的感觉和情绪。它们不仅能感受到生理上的痛苦，也同样能感受到心理情绪上的痛苦。</p></li>
<li><p>工业化农业的悲剧在于，它一味强调动物的客观需求，却忽略了它们的主观需要。</p></li>
<li><p>因为农业释放出了数十亿的人力，由工厂和办公室吸纳，才开始像雪崩一样有各种新产品倾泻而出。</p></li>
</ul>
<h3 id="血拼的年代">血拼的年代</h3>
<ul>
<li><p>消费主义的美德就是消费更多的产品和服务，鼓励所有人应该善待自己、宠爱自己，就算因为过度消费而慢慢走上绝路，也是在所不惜。</p></li>
<li><p>制造商设计产品的时候，刻意让它在一段短时间后就被淘汰；而且就算旧型号明明就足以满足各种需求，厂商还是会不断推出新型号，</p></li>
<li><p>肥胖这件事，可以说是消费主义的双重胜利。一方面，如果大家吃得太少，就会导致经济萎缩，这可不妙；另一方面，大家吃多了之后，就得购买减肥产品，再次促进经济成长。</p></li>
</ul>
<h2 id="第十八章-一场永远的革命">第十八章 一场永远的革命</h2>
<ul>
<li>世界越来越被塑造成适合智人需求的样子，但其他物种的栖地就遭到破坏，这让它们迅速灭绝。地球曾经是一片蓝天绿地，但现在已经成了混凝土和塑料构成的商场。</li>
</ul>
<h3 id="摩登的现代">摩登的现代</h3>
<ul>
<li><p>1880 年，英国政府迈出了前所未有的一步，立法规定全英国的时刻表都必须以格林尼治时间为准。这是史上第一次有国家采取了全国统一的时刻表，要求人民依据人工的时钟来过生活，而不是依据当地的日升日落周期有所调整。</p></li>
<li><p>天才的德国物理学家，居然找出一套方法，只要靠着钟声在广播中的微小差异，就能判断伦敦当时的天气。</p></li>
</ul>
<h3 id="家庭和社群的奔溃">家庭和社群的奔溃</h3>
<ul>
<li><p>在工业革命之前，多数人的日常生活都逃不脱三大传统框架：核心家庭、大家庭，以及当地的密切社群。</p></li>
<li><p>随着时间过去，国家和市场的权力不断扩大，也不断削弱家庭和社群过去对成员的紧密连接。</p></li>
<li><p>要解放个人是有代价的。现在许多人都悲叹着家庭和社群功能不再、觉得疏离，而且感觉冷漠的国家和市场对我们造成许多威胁。</p>
<ul>
<li>很多时候，个人遭到市场的剥削，而国家不但不保护个人，反而还用军队、警察和官僚施加迫害。</li>
</ul></li>
<li><p>一般来说，人们还是认为现代家庭可以满足人类最亲密的需求，这是国家和市场（到目前为止）无法提供的。</p></li>
<li><p>年轻人越来越不需要听从长辈的意见，而一旦孩子的人生出了任何问题，似乎看来总是可以怪在父母头上。</p></li>
</ul>
<h3 id="想象的社群">想象的社群</h3>
<ul>
<li><p>市场和国家要增强这些情感面，靠的就是塑造 “想象的社群”（ imagined
communities，另译 “想象的共同体”），纳入的人数可能达到数百万之巨，而且是专为国家或商业需求量身打造。</p></li>
<li><p>现代所兴起的两大想象社群，就是 “民族” 和 “消费大众”。</p>
<ul>
<li>消费主义和民族主义可说是夙夜匪懈，努力说服我们自己和其他数百万人是一伙的，认为我们有共同的过去、共同的利益以及共同的未来。</li>
</ul></li>
<li><p>近几十年来，所谓民族的社群概念不断被一群又一群的消费者削弱。这些消费者彼此并不认识，但都有同样的消费习惯和兴趣，因此不但相信还定义大家就是同一伙的。</p></li>
<li><p>他们最主要的定义方式也是靠着消费。这可以说是他们身份认同的基石。</p></li>
</ul>
<h3 id="变动不休">变动不休</h3>
<ul>
<li><p>谈到现代革命，一般人想到的会是 1789 年的法国大革命，1848
年的欧洲自由革命，或是 1917
年的俄国革命。但事实上，讲到现代，其实每年都有革命性的改变。</p></li>
<li><p>激烈的社会运动可能引发血腥暴力。讲到 19 世纪和 20
世纪的政治历史，常常讲到的就是一连串生灵涂炭的战争、革命和大屠杀。就像是雨天的时候，小孩喜欢穿着雨鞋从一个水洼跳到下一个水洼，这种历史观点也像是在跳着，从第一次世界大战跳到第二次世界大战，从第二次世界大战跳到冷战，从亚美尼亚大屠杀跳到犹太人大屠杀，再跳到卢安达大屠杀，从把路易十六送上断头台的罗伯斯庇尔（Robespierre）再跳到希特勒。</p></li>
<li><p>在现代晚期，虽然暴力和恐惧达到前所未有的高峰，但和平与安宁也同时来到历史新高。</p></li>
</ul>
<h3 id="我们这个年代的和平">我们这个年代的和平</h3>
<ul>
<li><p>纵观历史，大多数的暴力事件是出于家庭之间或社群之间的仇恨。</p></li>
<li><p>在早期农业社会里，农民唯一知道的政治组织就是自己的社群，但他们受到的暴力对待层出不穷。要等到王国和帝国的力量增强之后，人类社会才开始对社群有了约束力，而使暴力程度下降。</p></li>
</ul>
<h3 id="帝国的退位">帝国的退位</h3>
<ul>
<li><p>历史上，我们看到各个帝国总是铁腕镇压叛乱，而且就算再也压制不住，最后也会孤注一掷，常常就是进行一场浴血混战。而等到帝国灭亡，接着就有一段无政府状态，战乱频传。但自从
1945
年以来，多数帝国都选择了和平的退位方式，帝国解体崩溃的过程变得相对迅速、平和且有序。</p></li>
<li><p>在 1945 年，英国还统治着 1/4 的地球。但不过 30 年后，它统治的土地就只剩下几个小岛。</p></li>
<li><p>帝国退位后，由各个独立的国家接管，大部分就享受着既成的稳定边界，也与四周的邻国愉快地和平共处。</p></li>
<li><p>英国撤退已经称得上是和平和秩序的典范。相较之下，法国殖民帝国就比较顽固了，崩溃撤退时仍然在越南和阿尔及利亚掀起血战，造成数十万人死亡。</p></li>
<li><p>1989
年苏联解体，过程可以说是更为和平，只是在巴尔干半岛、高加索和中亚地区仍然爆发了种族冲突。一个如此强大的帝国，竟然消失得如此安静且迅速，可以说是史上罕见。</p></li>
<li><p>苏联最后一位统治者戈尔巴乔夫等人所放下的，不只是苏联在第二次世界大战所攻下的领地，更包括了更早之前由沙皇所征服的波罗的海、乌克兰、高加索和中亚地区。</p></li>
</ul>
<h3 id="核子和平">核子和平</h3>
<ul>
<li><p>自 1945
年以来，没有任何一个经联合国承认的独立国家遭到征服而灭国。虽然小型国际战争时而发生，仍有达百万的民众在战事中丧命，但战争已经不再是常态。</p></li>
<li><p>目前已经有许多学者发表许多著作和文章，解释为何现在会有这个令人愉悦的发展，其中大致提出几项重要因素。</p>
<ul>
<li>战争的成本大幅上升。</li>
<li>正因为战争的成本飙升，也就代表其利润下降。
<ul>
<li>过去的财富多半就是田地、牛、奴隶和黄金，无论要抢劫或占领都十分方便。但到了今天，财富的形式变成了人力资本、科技知识，以及像是银行这种复杂的社会经济结构，想要抢夺或是占领都相当困难。</li>
</ul></li>
<li>虽然战争已经不再那么有利可图，但和平却成了一笔越来越划算的生意。
<ul>
<li>到了现代的资本主义经济，外贸和投资变得至关重要，和平可以说也开始有了特殊的红利。</li>
</ul></li>
<li>在于全球政治文化也有了结构性的大变动。史上有许多领导精英（像是匈奴的单于、维京人的首领、阿兹特克的祭司）其实认为战争是件好事；也有些领袖虽然认为战争很邪恶，但认为这避无可避，只能做好准备，随时要抢占上风。
<ul>
<li>在我们这个时代，是史上第一次由爱好和平的精英分子来领导，这些政治家、商人、知识分子和艺术家确实相信战争是一种邪恶，而且也相信战争能够避免。</li>
</ul></li>
<li>所以，现在有四大因素形成了一个良性循环。核子末日的威胁促进了和平主义；和平主义大行其道，于是战争退散、贸易兴旺；贸易成长，也就让和平的利润更高，而战争的成本也更高。随着时间过去，这个良性循环也就对战争造成另一个阻碍，而且可能最后看来会是最重要的阻碍：因为国际网络日渐紧密，使得多数国家无法再维持全然独立，所以其中任何一国片面宣战的机会也就大幅降低。</li>
</ul></li>
<li><p>现在正面临着全球帝国的形成。而这个帝国与之前的帝国也十分类似，会努力维持其疆域内的和平。正因为全球帝国的疆域就是全世界，所以世界和平也就能得到有效的维持。</p></li>
<li><p>我们只要回顾过往就会发现，自己对于过去历史的看法总是受到近几年事件的左右。</p></li>
</ul>
<h2 id="第十九章-从此过着幸福快乐的日子">第十九章
从此过着幸福快乐的日子</h2>
<ul>
<li><p>学者研究历史，但只是点出了一切的情形，像是政治、社会、经济、性别、疾病、性、食物、服装，而很少有人提到这些究竟如何影响人类的幸福。这是我们对于历史理解的最大空白之处。</p></li>
<li><p>要评估全球幸福程度的时候，只看上层阶级、只看欧洲人、只看男性，都是巨大的错误。而且，或许只看人类也同样有失公允。</p></li>
</ul>
<h3 id="快乐该如何计算">快乐该如何计算？</h3>
<ul>
<li><p>目前有一项耐人寻味的结论：金钱确实会带来快乐，但是有一定限度，超过限度之后的效果就不那么明显。</p></li>
<li><p>另一项有趣的发现是疾病会短期降低人的幸福感，但除非病情不断恶化，或是症状带有持续、让人无力的疼痛，否则疾病并不会造成长期的不快。</p></li>
<li><p>目前看来，对快乐与否的影响，家庭和社群要比金钱和健康来得重要。</p></li>
</ul>
<h3 id="快乐的化学成分">快乐的化学成分</h3>
<ul>
<li><p>快乐或痛苦在演化过程里的作用，就只在于鼓励或阻挡生存和繁衍。</p>
<ul>
<li>举例来说，演化就把快感当成奖赏，鼓励男性和女性发生性行为、将自己的基因传下去。如果性交没有高潮，大概很多男性就不会那么热衷。</li>
</ul></li>
<li><p>大多数生物学家也不是完全只看生物这一套。虽然他们主张快乐 “主要” 是取决于生化机制，但也同意心理学和社会学因素同样有其影响力。</p></li>
<li><p>百忧解（Prozac）之所以让人不再沮丧，靠的就不是对任何体制的改革，而只是提高血清素的浓度。</p>
<ul>
<li>想要有长期的快乐，只能靠血清素、多巴胺和催产素。</li>
</ul></li>
</ul>
<h3 id="生命的意义">生命的意义</h3>
<ul>
<li><p>正如尼采所言，只要有了活下去的理由，几乎什么都能够忍受。生活有意义，就算在困境中也能甘之如饴；生活无意义，就算在顺境中也度日如年。</p></li>
<li><p>从我们所知的纯粹科学角度来看，人类的生命本来就完全没有意义。人类只是在没有特定目标的演化过程中，盲目产生的结果。</p></li>
<li><p>所谓的快乐，很可能只是让个人对意义的错觉和现行的集体错觉达成同步而已。只要我自己的想法能和身边的人的想法达成一致，我就能说服自己、觉得自己的生命有意义，而且也能从这个信念中得到快乐。</p></li>
</ul>
<h3 id="认识你自己">认识你自己</h3>
<ul>
<li><p>佛教与现代生物学和新世纪运动的相同点，在于都认定快乐不在于外在条件。但佛教更重要也更深刻的见解在于，真正的快乐也不在于我们的主观感受。</p></li>
<li><p>苦真正的来源不在于感受本身，而是对感受的不断追求。</p></li>
</ul>
<h2 id="第二十章-智人末日">第二十章 智人末日</h2>
<ul>
<li>选择育种（selective
breeding）来走快捷方式，加速自然选择的进程。</li>
</ul>
<h3 id="老鼠和人">老鼠和人</h3>
<ul>
<li>所谓生物工程，指的是人类刻意在生物层次进行的干预行为（例如植入基因），目的在于改变生物体的外形、能力、需求或欲望，以实现某些预设的文化概念。</li>
</ul>
<h3 id="让尼安德特人再现">让尼安德特人再现</h3>
<ul>
<li>操纵基因并不一定会让智人大批死亡而绝种，但很可能会让智人这个物种大幅改变，到最后就成了另一个物种，而不宜再使用智人这个名称。</li>
</ul>
<h3 id="仿生的生命">仿生的生命</h3>
<ul>
<li><p>仿生工程结合有机和无机组织，创造出 “生化人”（cyborg）。从某种意义上，现代所有人几乎多多少少都是生化人，用各种其他设备来辅助我们的感官和能力，像是眼镜、心脏起搏器、辅具，甚至还包括计算机和手机（这样一来就能减轻一些大脑要储存及处理数据的负担）。</p></li>
<li><p>2006 年，美国海军水下作战中心（Naval Undersea Warfare
Center）也曾提出计划研发仿生鲨鱼，表示 “本中心正研发一种鱼用标签，希望通过神经植入物控制宿主动物的行为”。</p></li>
<li><p>德国的 “Retina Implant”
（视网膜植入）公司取得政府资金，正在开发一种人工视网膜，可能让盲人重获部分视力。它的做法是将一个微芯片植入患者眼中，光感应器吸收进入眼中的光线，将光能转为电能，刺激视网膜上未受损的神经细胞。细胞发出神经冲动刺激大脑，就会转译为视觉影像。</p>
<ul>
<li>Good news.</li>
</ul></li>
<li><p> 所有目前进行的研究当中，最革命性的就是要建构一个直接的大脑–计算机双向接口，让计算机能够读取人脑的电子信号，并且同时输回人脑能够了解的电子信号。</p>
<ul>
<li>如果这种设备成功，再直接将大脑连上网络，或是让几个大脑彼此相连、形成 “脑际网络”，情况会如何？</li>
</ul></li>
</ul>
<h3 id="另一种生命">另一种生命</h3>
<ul>
<li><p>第三种改变生命法则的方式，则是创造出完全无机的生命。最明显的例子，就是能够自行独立演化的计算机程序和计算机病毒。</p></li>
<li><p>许多程序设计师都有一个梦想，希望能创造出一个能够独立于创造者、完全自行学习演化的程序。</p></li>
<li><p>计算机病毒在网络上流传的时候，会不断自我复制数百万到数亿次，一面要躲避追杀的防毒软件，一面又要与其他病毒争夺网络里的空间。而总有某一次，在病毒自我复制的时候出现了错误，这就成了一种计算机化的突变。这种突变有可能是因为病毒设计师，原本就让病毒偶尔会发生随机复制错误；也有可能就是因为某种随机发生的误差。</p></li>
<li><p>假设在偶然下，突变后的病毒比较能躲过防毒软件的侦测，而且仍然保留着入侵其他计算机的能力，就会在网络里迅速传播。于是，这种突变种就能生存下来，而且开始繁衍。随着时间过去，网络空间就会充满这些并非由人所设计出来、经过无机演化而成的新型病毒。</p></li>
</ul>
<h3 id="奇异点">奇异点</h3>
<ul>
<li><p>未来世界主人翁与我们之间的差异，可能会远大于我们和尼安德特人之间的差异。</p></li>
<li><p>物理学家认为宇宙大爆炸（Big
Bang）就是一个奇异点（singularity）。在奇异点之前，所有我们认知的自然法则都还不存在，就连时间也不存在。所以要说宇宙大爆炸 “之前” 如何如何，对我们来说是没有意义、无法理解的。而我们可能正在接近下一个奇异点，所有我们现在这个世界的意义（不论是你我、男女、爱恨）都即将变得再也无关紧要。而在那个点之后的任何事，都还超出我们现在所能想象的。</p></li>
</ul>
<h3 id="科学怪人预言">科学怪人预言</h3>
<ul>
<li><p>历史一再让我们看到，许多以为必然会发生的事，常常因为不可预见的阻碍而无法成真，而某些难以想象的情节，最后却成为事实。</p></li>
<li><p>既然我们可能很快也能改造我们的欲望，或许真正该问的问题不是 “我们究竟想要变成什么”，而是 “我们究竟希望自己想要什么”，</p></li>
</ul>
<h1 id="后记-变成神的这种动物">后记 变成神的这种动物</h1>
<!--
无远弗届:指不管多远之处，没有不到的.
-->
<p>我们让自己变成了神，而唯一剩下的只有物理法则，我们也不用对任何人负责。正因如此，我们对周遭的动物和生态系统掀起一场灾难，只为了寻求自己的舒适和娱乐，但从来无法得到真正的满足。</p>
<h1 id="历史年表">历史年表</h1>
<p>距今年代<br>
- 135 亿年 * 物质和能量出现。物理学的开始。 *
原子和分子出现。化学的开始。 - 45 亿年 * 地球形成。 - 38 亿年<br>
* 有机生物形成。生物学的开始。 - 600 万年 * 人类和黑猩猩最后的共同祖先。
- 250 万年 * 非洲的人属开始演化。出现最早的石器。 - 200 万年 *
人类由非洲传播到欧亚大陆。 演化为不同人种。 - 50 万年<br>
* 尼安德特人在欧洲和中东演化。 - 30 万年<br>
* 开始日常用火。 - 20 万年 * 智人在东非演化。 - 7 万年<br>
* 认知革命。出现能够描述虚拟故事的语言。 *
历史学的开始。智人传播至非洲之外。 - 4.5 万年 *
智人抵达澳大利亚。澳大利亚巨型动物绝种。 - 3 万年<br>
* 尼安德特人绝种。 - 1.6 万年 * 智人抵达美洲。美洲巨型动物绝种。 -
1.3 万年 * 弗洛里斯人绝种。智人成为唯一存活的人类物种。 - 1.2 万年 *
农业革命。驯化动植物。 * 出现永久聚落。 - 5000 年 *
出现最早的王国、文字和金钱。多神教信仰。 - 4250 年 *
出现最早的帝国：萨尔贡大帝的阿卡德帝国。 - 2500 年 *
出现最早的硬币：通用的金钱。 *
波斯帝国：普世的政治秩序（“为全人类的福祉而努力”）。 *
印度佛教：普世的真理（“让所有人类解脱痛苦”）。 - 2000 年 * 中国汉帝国。 *
地中海罗马帝国。 * 基督教。 - 1400 年 * 伊斯兰教。 - 500 年 *
科学革命。人类承认自己的无知，开始取得前所未有的能力。 *
欧洲人开始征服美洲和各大洋。整个地球形成单一历史场域。资本主义兴起。 -
200 年 * 工业革命。家庭和社群被国家和市场取代。动植物大规模绝种。 - 现在
* 人类脱离了地球的疆域。 * 核武器威胁人类的生存。 *
生物开始越来越由智慧设计形塑，而非自然选择。 - 未来<br>
* 智慧设计成为生命的基本原则？ * 智人被超人类取代？</p>
<h1 id="history">History</h1>
<ul>
<li>20200930 完成第一次整理。</li>
</ul>
]]></content>
      <categories>
        <category>Reading</category>
      </categories>
      <tags>
        <tag>History</tag>
      </tags>
  </entry>
  <entry>
    <title>Review on A Hopping Robot for Planetary Exploration</title>
    <url>/paper/A-Hopping-Robot-for-Planetary-Exploration/</url>
    <content><![CDATA[<p>[toc]</p>
<p>A Hopping Robot for Planetary Exploration</p>
<p>本文提出一个行星探测跳跃机器人，可以通过跳跃来移动和滚动来拍照。一个突出的特点是机器人可以依靠单个马达
(single motor) 朝指定方向跳跃。</p>
<blockquote>
<p>The goal of this project is to explore a different mobility paradigm
which may present advantages over conventional wheel and leg
locomotion.</p>
</blockquote>
<!-- 本文多次讲到系统的设计，比如机械设计的考虑点等，考虑的方向值得参考。-->
<h1 id="introduction">INTRODUCTION</h1>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/Hopping_NASS_JPL_CAD.png" alt="CAD rendering of the hopping robot">
<figcaption aria-hidden="true">CAD rendering of the hopping
robot</figcaption>
</figure>
<p>除了轮式和足式机器人，爬行、旋转和跳跃也是可能的前进方式。</p>
<blockquote>
<p>Laboratory experiments have demonstrated the feasibility of
<strong>slithering, rolling and hopping</strong> as alternate propulsion
methods, thus paving the way to a more comprehensive approach to
mobility than is currently considered.</p>
</blockquote>
<p>跳跃是在低重力环境下的一种有效移动方式。</p>
<blockquote>
<p>It shows that hopping is an efficient form of transportation in a
low-gravity environment.</p>
</blockquote>
<p>常见的二足式跳跃机器人的运动是离散的，因为在跳跃中会有重定向
(reorientation) 和推力机制蓄能 (recharge of the thrust mechanism)
的间隔。</p>
<blockquote>
<p>The common characteristic of these two hopping systems is motion
discontinuity, since a pause for reorientation and recharge of the
thrust mechanism is inserted between jumps.</p>
</blockquote>
<h1 id="system-description">SYSTEM DESCRIPTION</h1>
<p>系统设计目标：最小化驱动器、大小和重量。</p>
<blockquote>
<p>The design is driven by the desire of minimizing the number of
actuators, and the overall size and weight, while achieving useful
scientific capabilities.</p>
</blockquote>
<p>系统的缺陷：软地面不能自纠正；爬山坡不可行。</p>
<blockquote>
<p>A possible drawback of this design is limited mobility on soft
terrain, since the ground will conform to the shape of the robot and
prevent it from self-righting.</p>
</blockquote>
<h2 id="the-hopping-mechanism">The Hopping Mechanism</h2>
<p>蛋型 + 自纠正能力</p>
<blockquote>
<p>The chosen mechanism is a robust egg-shaped body with self-righting
capability.</p>
</blockquote>
<h2 id="computer-and-sensor-electronics">Computer and Sensor
Electronics</h2>
<p>具体的芯片设计和能耗管理，比如掉电功能、通信协议等等。</p>
<h1 id="static-and-dynamic-models">STATIC AND DYNAMIC MODELS</h1>
<p>再一次验证了那句话，好的模型可以为系统的最优设计提供参考。</p>
<blockquote>
<p>The critical design constraint required to achieve maximum hopping
distance.</p>
</blockquote>
<h1 id="large-and-fine-motion-微运动">LARGE AND FINE MOTION
(微运动)</h1>
<p>地表状况会对轨迹的计算造成影响。Soil mechanics 土壤力学</p>
<blockquote>
<p>Furthermore, the uncertainty of the terrain condition and of the
lift-off angle will prevent the advanced calculation of the trajectory
parameters.</p>
</blockquote>
<!-- 我的想法，如果观测地表推断结论不靠谱，那么就要依据跳跃的情况来推断地表的土壤情况，为下一次的跳跃提供参考。 -->
<p>如何精确地跳跃短距离，然后抵达目标点呢？</p>
<blockquote>
<p>To cover short distances and to approach the desired target, we are
planning to develop and test two new methods for fine motion control of
the hopping robot.</p>
</blockquote>
<p>这应该属于路径规划的一个考虑点吧，毕竟在月球上一次跳跃的距离很长呢。</p>
<h1 id="initial-tests">INITIAL TESTS</h1>
<p>以数学为基准去驱动设计和实现。</p>
<h1 id="conclusions">CONCLUSIONS</h1>
<p>新奇的机械设计：蛋型 + 单驱动</p>
<blockquote>
<p>The robot consists of an egg-shaped shell enclosing a thrust
mechanism, power storage devices and control and sensing
electronics.</p>
</blockquote>
<p>旋转重定向是依靠传感器提供的偏心力实现的，依赖必要的设备来实现其他功能。</p>
<blockquote>
<p>Hopping is powered by a spring released under computer control,
whereas orientation is achieved by rotating an off-axis mass, consisting
of the video camera and its transmitter, about the robot vertical
axis.</p>
</blockquote>
<blockquote>
<p>Future Work: In the future, we plan to carry out extensive
simulations and experiments with the prototype to test its mobility
capabilities and fully develop a new method of fine motion control based
on hopping and rolling.</p>
</blockquote>
]]></content>
      <categories>
        <category>paper</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>paper</tag>
        <tag>Robotics</tag>
      </tags>
  </entry>
  <entry>
    <title>未来简史 摘录</title>
    <url>/Reading/A-Brief-History-of-Tomorrow/</url>
    <content><![CDATA[<!--
title

- A_Brief_History_of_Tomorrow
-->
<p>[toc]</p>
<!--

读书《人类简史》和《未来简史》，和自己的备考英语时间冲突，大概拖沓了一年多，才把这两本书看完了

-->
<h1 id="未来简史">未来简史</h1>
<p><img data-src="http://5b0988e595225.cdn.sohucs.com/images/20190815/f10bf7b7dd21425493b7ad237accd25f.jpeg"></p>
<hr>
<h1 id="第一部分-智人征服世界">第一部分 智人征服世界</h1>
<h2 id="第一章节-人类的新议题">第一章节 人类的新议题</h2>
<!--
未来简史·人类简史（套装）（尤瓦尔·赫拉利全球轰动作品！比尔·盖茨、扎克伯格、奥巴马热荐！人类迎来第二次认知革命。） (尤瓦尔·赫拉利)
- Your Highlight at location 45-46 | Added on Thursday, 14 May 2020 23:28:19
-->
<ul>
<li>不管是 20 世纪的中国人、中世纪的印度人，还是古代的埃及人，都面临着同样的三大问题：饥荒、瘟疫和战争，它们永远都是人类的心头大患。</li>
</ul>
<h3 id="生物贫困线">生物贫困线</h3>
<!--
未来简史·人类简史（套装）（尤瓦尔·赫拉利全球轰动作品！比尔·盖茨、扎克伯格、奥巴马热荐！人类迎来第二次认知革命。） (尤瓦尔·赫拉利)
- Your Highlight at location 81-81 | Added on Thursday, 14 May 2020 23:33:02
-->
<ul>
<li>饥饿：1692—1694 年，法国约有 280 万人饿死，约占总人口的 15%；2010 年，饥饿和营养不良合计夺走了约 100 万人的生命，但肥胖却让 300 万人丧命。</li>
</ul>
<h3 id="看不见的舰队">看不见的舰队</h3>
<ul>
<li>瘟疫：最有名的一次流行病就是黑死病，始于 14 世纪 30 年代的东亚或中亚某处，跳蚤携带的鼠疫杆菌（Yersinia
pestis）通过跳蚤叮咬而感染人类。
<ul>
<li>曾有更大的灾难随着第一批欧洲人的脚步而来，袭击了美国、澳大利亚和太平洋岛屿。这些欧洲探险家和殖民者并不知道，自己身上带着当地居民缺乏免疫力的传染病，造成多达 90% 的当地居民丧生。</li>
<li>1918 年 1 月，身处法国北部战壕的士兵开始染上一种特别强大的流感，俗称 “西班牙流感”，数千人因此丧生。</li>
</ul></li>
<li>新的传染病出现的主要原因是病原体基因组发生突变，使病原体能够从动物身上转移到人类身上，打败人体免疫系统，或是对抗生素之类的药物产生抗药性。</li>
</ul>
<h3 id="打破弱肉强食的丛林法则">打破弱肉强食的丛林法则</h3>
<!--
未来简史·人类简史（套装）（尤瓦尔·赫拉利全球轰动作品！比尔·盖茨、扎克伯格、奥巴马热荐！人类迎来第二次认知革命。） (尤瓦尔·赫拉利)
- Your Highlight at location 241-243 | Added on Saturday, 16 May 2020 17:46:07
-->
<ul>
<li><p>2012 年，全球约有 5600 万人死亡，其中 62
万人死于人类暴力（战争致死 12 万，犯罪致死 50
万）。相较之下，自杀的人数有 80 万，死于糖尿病的更是有 150
万。现在，糖可比火药更致命。</p></li>
<li><p><strong>过去主要的财富来源是物质资产，比如金矿、麦田、油井，现在的主要财富来源则是知识</strong>。发动战争虽然能抢下油田，却无法霸占知识。因此，随着知识成为最重要的经济资源，战争能带来的获利已经下降；可能发生战争的地方越来越局限在世界的特定区域（比如中东和中非），这些地方仍然维持着旧式的物质经济。</p></li>
<li><p>正如最初是核武器促成了新的和平，未来的科技发展也可能掀起新的战争。特别是<strong>网络战</strong>的出现，让小国或非政府主体也可能有能力痛击超级大国，这就有可能让世界陷入动荡。</p>
<ul>
<li>在未来，朝鲜或伊朗等国家就有可能用逻辑炸弹（logic
bomb）让加州大断电、德州炼油厂爆炸、密歇根州火车相撞。
<ul>
<li>“逻辑炸弹” 就是恶意软件代码，能够在和平时期植入，远程操控。不管是美国还是其他许多国家，控制重要基础设施的网络很有可能已经遭到许多此类软件代码的入侵。</li>
</ul></li>
</ul></li>
<li><p>“契诃夫法则”（Chekhov
Law）：契诃夫有一句名言：在第一幕中出现的枪，在第三幕中必然会发射。</p></li>
<li><p>认可人类过去的努力，其实传达出了希望和责任，激励我们在未来更加努力。</p></li>
<li><p>成功孕育着野心，而我们最新的成就也推动人类设下更大胆的目标。我们已经达到前所未有的繁荣、健康与和谐，而由人类过去的记录与现有价值观来看，接下来的目标很可能是<strong>长生不死、幸福快乐，以及化身为神</strong>。</p></li>
</ul>
<h3 id="死亡的末日">死亡的末日</h3>
<ul>
<li><p>联合国在第二次世界大战后通过了《世界人权宣言》（Universal
Declaration of Human
Rights），这或许是我们最接近全球宪法的一份文件，其中就明确指出 “有权享有生命” 是人类最基本的价值。</p></li>
<li><p>高呼着人类不死的科学家，其实就像高喊 “狼来了” 的那个男孩：狼要来，只是早晚的事。</p></li>
<li><p>就算我们在有生之年还无法达到永生，这场与死亡的战争仍有可能是 21
世纪的旗舰计划。考虑到我们对于 “生命神圣” 的信念、整个科学界的动向，再加上最重要的资本主义经济的需求，一场对死亡的无情战争似乎已不可避免。我们的意识形态看重人的生命，绝不允许我们轻易接受人的死亡。只要人是出于某种原因而死，我们就会努力战胜这种原因。</p></li>
</ul>
<h3 id="幸福快乐的权利">幸福快乐的权利</h3>
<ul>
<li><p>1776
年，除了生命权和自由权以外，美国的开国元勋也把 “追求幸福” 列为人人不可剥夺的权利。</p>
<ul>
<li>必须强调，美国《独立宣言》保障的是 “追求幸福” 的权利，而不是 “享有幸福” 的权利。</li>
</ul></li>
<li><p>人们到底想要什么？他们不想总是忙着生产，而是想要幸福快乐。生产之所以重要，是因为能够为幸福提供物质基础。但这只是手段，不是目的。</p>
<ul>
<li>你愿意当一个生产力高但不开心的新加坡人，还是当一个生产力低但心满意足的哥斯达黎加人？</li>
</ul></li>
<li><p>在石器时代，人类平均每天消耗 4000
卡路里的热量，除了用来觅食之外，还要准备工具、衣服、艺术和营火。而今天，美国人平均每天消耗
22.8
万卡路里的热量，除了填饱自己的胃，还要供给自己的汽车、计算机、冰箱、电视所需。</p></li>
<li><p>幸福快乐的玻璃天花板有两大支柱，分别属于心理与生理层面。</p>
<ul>
<li>在心理层面，快乐与否取决于你的预期，而非客观条件。</li>
<li>虽然人类近几十年来的客观生活条件大幅改善，但带来的并不是更大的满足，而是更大的预期。</li>
</ul></li>
<li><p>从生理层面来说，不管是预期还是幸福感，其实都是由我们的生化机制控制的，而不是由经济、社会和政治局势决定的。</p></li>
<li><p>历经无数代人之后，我们的生化系统不断适应变化，为的是增加生存和繁衍的机会，而不是幸福快乐的机会。只要是有利于生存和繁衍的行为，生化系统就会用愉悦的感觉来回应。</p></li>
<li><p><strong>让我们快乐的不是结果，而是追求目标的过程</strong>。</p>
<ul>
<li>攀登珠穆朗玛峰的过程会比站在山顶更令人满足，挑逗和前戏要比最后的性高潮更为精彩，进行开创性的实验也比最后获得赞美和奖项更有趣。</li>
</ul></li>
<li><p>通过生化反应追求快乐，也是这个世界上的头号犯罪原因。</p>
<ul>
<li>人们喝酒是为了遗忘，抽大麻是为了感到平静，用可卡因和甲基苯丙胺（冰毒）是为了感到敏锐而自信；摇头丸能让人感受狂喜，而 LSD（麦角酸二乙基酰胺，一种强致幻剂）则会让你落入一场脱离现实的迷幻梦境。</li>
</ul></li>
<li><p>要通过生化操纵方式得到幸福快乐并不容易，因为这其实改变了生命最基本的模式。</p></li>
<li><p>几个世纪前，佛教甚至还有一个更激进的主张，认为<strong>追求快感正是痛苦的根源</strong>。这种感觉只是一种短暂且毫无意义的感受。得到快感时，我们的反应不是满足，而是想得到更多。因此，不论我们得到多少幸福、兴奋的感觉，都永远无法满足。</p></li>
<li><p>21 世纪的第二大议题 -- 确保全球的幸福快乐 --
就是涉及再造智人，让人可以享受永恒的愉悦。</p></li>
</ul>
<h3 id="地球的神">地球的神</h3>
<ul>
<li>人要升级为神，有三条路径可走：生物工程、半机械人工程、非有机生物工程。</li>
</ul>
<!--
未来简史·人类简史（套装）（尤瓦尔·赫拉利全球轰动作品！比尔·盖茨、扎克伯格、奥巴马热荐！人类迎来第二次认知革命。） (尤瓦尔·赫拉利)
- Your Highlight at location 705-707 | Added on Saturday, 16 May 2020 20:20:14
-->
<ul>
<li><p>我们能说的只有：像我们这样的人，很有可能会用生物科技来再造人类的心灵，而以我们现在的心灵，并不能预测接下来将会发生什么。</p></li>
<li><p>在 21
世纪，人类的第三大议题就是为人类取得神一般的创造力及毁灭力，将 “智人” 进化为 “智神”。</p></li>
<li><p>纵观历史，人们通常相信大多数的神并不是无所不能的，而只是拥有特定的超能力，比如能够设计和创造生命，</p></li>
<li><p>在古代农业社会，许多宗教对于形而上或来世的问题缺乏兴趣，只着重于一项非常世俗的议题：如何增加农业的产量。</p></li>
<li><p>智人将自己一步一步升级进化，在这个过程中持续与机器人和计算机融合，直到某天我们的后代回顾这段历史，才赫然发现自己已经不再是那个曾经写下《圣经》、建起长城或会因为卓别林的滑稽动作而发笑的动物了。</p></li>
</ul>
<h3 id="发展可以踩刹车吗">发展可以踩刹车吗？</h3>
<ul>
<li><p>有个朋友就曾告诉我，她对于变老最担心的一点，是怕自己与时代脱节，变成一个总在怀旧的老女人，再也看不懂身边的世界，也做不出什么贡献。</p></li>
<li><p>正因为如此，有越来越多的个人、团体、企业和政府都非常认真地追求着长生不死、幸福快乐以及如神一般的能力。预期寿命大幅提升，已经让保险公司、退休基金、卫生系统和财政部门心惊胆战。<strong>现代人活得要比预期更久，而我们并没有足够资金应付他们的退休金和医疗开支</strong>。由于未来的
70 岁有可能就像现在的 40
岁，已有专家呼吁提高退休年龄，并重新调整就业市场的结构。</p></li>
</ul>
<!--
未来简史·人类简史（套装）（尤瓦尔·赫拉利全球轰动作品！比尔·盖茨、扎克伯格、奥巴马热荐！人类迎来第二次认知革命。） (尤瓦尔·赫拉利)
- Your Highlight at location 782-783 | Added on Saturday, 16 May 2020 20:31:21
-->
<ul>
<li><p>经济需要永远持续的增长，也就需要能永远持续的议题 --
追寻不死、快乐和神性。</p></li>
<li><p>治愈与进化并没有明确的界限，医学一开始几乎总是要拯救那些低于正常下限的人，但同样的工具和知识也能用来超越正常的上限。</p>
<ul>
<li>现代整形外科诞生于第一次世界大战时期，整形手术一方面继续帮助伤病患者，另一方面也越来越多地用来为健康人士加分。</li>
</ul></li>
<li><p>发生在特定药物上的事，也有可能发生在整个医药领域。</p></li>
<li><p>只要等到干细胞研究能让我们廉价取得无限量的人类胚胎，你就能从几百个选项中选出你最理想的宝宝，这些宝宝都带着你的
DNA，保证没有遗传疾病，而且也不需要未来再做基因工程。将这个过程重复几代，最后很容易就会制造出超人类。</p></li>
<li><p>有一个突破性案例，与线粒体 DNA（mitochondrial
DNA）有关。线粒体是人类细胞内微小的细胞器，产生细胞使用的能量。线粒体有自己的基因组，与细胞核中的
DNA 无关。如果线粒体 DNA
有缺陷，就会导致各种造成人体衰弱甚至致命的疾病。</p>
<ul>
<li>使用体外受精技术，目前在技术上已经可以制造 “三亲宝宝”，以避免线粒体遗传疾病。这种婴儿的细胞核
DNA 来自父母，而线粒体 DNA 则来自第三人。</li>
<li>每次的进化升级，最初的理由都是为了治疗。</li>
</ul></li>
<li><p>人类只要一有重大突破，就不可能只用于治疗而不用于进化升级。</p></li>
</ul>
<h3 id="知识的悖论">知识的悖论</h3>
<ul>
<li><p>未来的经济、社会和政治，将会由 “试图战胜死亡” 所塑造，但并不代表人类必然能在
2100 年做到不死。</p></li>
<li><p>这正是历史知识的悖论。知识如果不能改变行为，就没有用处。但知识一旦改变了行为，本身就立刻失去意义。我们拥有越多数据，对历史了解越深入，历史的轨迹就改变得越快，我们的知识也过时得越快。</p></li>
</ul>
<h3 id="一段关于草坪的历史">一段关于草坪的历史</h3>
<ul>
<li><p>我们每个人都出生在某个特定的历史现实中，受特定的规范和价值观制约，也由独特的经济和政治制度来管理。我们都会觉得自己所处的现实是理所当然的，认为这一切纯属自然、不可避免、无法改变。但我们忘了世界是由一连串的意外事件所创造的，历史不仅塑造了我们的科技、政治和社会，也塑造了我们的思想、恐惧和梦想。</p>
<ul>
<li>“过去” 从祖先的坟墓里伸出冰冷的手，掐住我们的脖子，让我们只能看向某个未来的方向。我们从出生那一刻就能感受到这股力量，于是以为这就是自然，是我们不可分割的一部分，也就很少试着挣脱并想象自己的未来还有其他可能性。</li>
</ul></li>
<li><p>研究历史，就是为了<strong>挣脱过去的<ruby>桎<rt> zhi</rt><rt></rt></ruby><ruby> 梏<rt> gu</rt></ruby></strong>，让我们能看向不同的方向，并开始注意到前人无法想象或过去不希望我们想象到的可能性。观察让我们走到现在的一连串意外事件，就能了解人类的每个念头和梦想是如何变成现实的，然后我们就能开始以不同的方式思考并编织出不同的梦想。</p></li>
<li><p>那些希望改变世界的举动，常常从改写历史入手，从而使人们能够重新想象未来。</p>
<ul>
<li>第一步都是重述他们的历史。新的历史会告诉他们：“现在的状况既非自然而然，也不会永恒不变。过去曾经是另一个样子，只是有了一连串的偶然事件，才创造出现在这个不公平的世界。只要我们采取明智的行动，就能改变并创造出更好的世界。”</li>
</ul></li>
<li><p> 这种在私人住宅和公共建筑前设置一片草坪的想法，诞生于中世纪晚期英法两国贵族的城堡。到了现代早期，这个习惯已经根深蒂固，成了贵族的标志。</p>
<ul>
<li>草坪越大、修整越完美，就代表这个家族越强盛。如果你拜访一位公爵，却看到草坪维护不佳，就知道他有麻烦了。</li>
<li>王室宫殿和公爵的城堡让草坪变成一种权力象征。就算到了现代晚期，王朝倾覆、公爵人头落地，新掌权的总统和总理还是保留了草坪的传统。从议会、最高法院、总统官邸到其他公共建筑，就这么用一片平整的绿地宣告着自己的权力。同时，草坪也征服了体育界。</li>
<li>只要沿着街道走一遭，就能从草坪的大小和维护质量，快速判断出每个家庭的财富和地位。</li>
</ul></li>
<li><p>除了玉米和小麦之外，草是美国时下最普遍的作物，草坪业（包括植物、肥料、割草机、洒水设备、园丁）每年产值有数十亿美元。</p></li>
<li><p>这正是研究历史最好的理由：不是为了预测未来，而是要摆脱过去，想象另一种命运。当然，我们仍不免受到过去的影响，所以永远不可能得到完全的自由；然而，部分自由总比全无自由要好得多。</p></li>
<li><p>本章描述的未来，只是 “过去的” 未来；换句话说，也就是基于过去 300
年的思想和希望而指向的未来。然而，基于 21
世纪将诞生的新想法、新希望而形成的真正的未来，可能与过去的未来完全不同。</p></li>
<li><p>想知道超级聪明的半机械人可能怎么对待只是一般血肉身躯的人类吗？先去看看人类如何对待不太聪明的动物表亲吧。当然，这绝不是一个完美的类推，但这是我们唯一能够观察而不只是想象的最佳原型。</p></li>
<li><p>人们<strong>之所以不愿改变，是因为害怕未知</strong>。但历史唯一不变的事实，就是一切都会改变。</p></li>
</ul>
<h2 id="第二章-人类世">第二章 人类世</h2>
<h3 id="蛇的孩子">蛇的孩子</h3>
<ul>
<li>泛灵论只把人类看成另一种动物，但《圣经》则认为人类是上帝独特的创造，<strong>要说人也是动物，等于否认上帝的能力和权威</strong>。</li>
</ul>
<h3 id="祖先的需求">祖先的需求</h3>
<p>人类开始农耕畜牧之后，导致新一波的生物大灭绝，但更重要的是创造出另一种全新的生命形式：家畜。</p>
<ul>
<li><p>所有的本能、冲动、情感之所以会进化，都是为了适应生存和繁衍的进化压力。</p></li>
<li><p>这是进化心理学基本的一课：几千世代以前形成的需求，就算已经不再是今日生存和繁衍所需，仍然会留存在主观感受中。可悲的是，农业革命让人类有了确保家畜生存和繁衍的能力，却忽视了家畜的主观需求。</p></li>
</ul>
<h3 id="生物也是算法">生物也是算法</h3>
<ul>
<li>就连诺贝尔经济学奖得主也只在很少时间会用纸笔和计算器来做计算；人类有
99%
的决定，包括关于配偶、事业和住处的重要抉择，都是由各种进化而成的算法来处理，我们把这些算法称为感觉、情感和欲望。</li>
</ul>
<h3 id="农业交易">农业交易</h3>
<ul>
<li>所有农业宗教（也包括耆那教、佛教和印度教）都有一套说辞，认为人类就是高出一等，剥削利用动物实属正当（就算不是杀生取肉，至少也是获取其乳汁，或是利用其劳力）。这些宗教都声称有一种自然的阶层结构，赋予人类控制和使用其他动物的权力，唯一的条件就是人类要遵守一定限制。
<ul>
<li>人类就这样自己谈成了一场
“农业交易”。根据这项交易，某种宇宙力量给了人类控制其他动物的权力，条件是人类要对神、自然以及动物本身履行某些义务。</li>
</ul></li>
<li>农场也就成了新社会的原型，有着目空一切的农场主人，比较低等而可以剥削利用的其他动物，可以消灭的外部野兽，以及在一切之上有位伟大的神，对这一切安排给予祝福。</li>
</ul>
<h3 id="五百年孤寂">五百年孤寂</h3>
<ul>
<li><p>全球无数教师传颂着牛顿的神话，鼓励学生要有好奇心，暗示只要我们得到足够的知识，就能在地球上创造出天堂。</p></li>
<li><p>农业革命促成了有神论宗教，而科技革命则催生了人文主义宗教：以人取代了神。有神论者崇拜的是神，人文主义者则是崇拜人。人文主义的奠基概念认为智人拥有某些独特而神圣的本质，这些本质是宇宙间所有意义和权力的来源。</p>
<ul>
<li>宇宙间发生的所有事，都会以 “对智人的影响” 作为判断好坏的依据。</li>
</ul></li>
</ul>
<h2 id="第三章-人类的特质">第三章 人类的特质</h2>
<ul>
<li>传统一神论会说，只有智人拥有永恒的灵魂。虽然身体会衰老、腐烂，但灵魂会踏上通往救赎或诅咒的旅程，不是在天堂享受永恒的幸福，就是在地狱承受永远的痛苦。</li>
</ul>
<h3 id="谁怕达尔文">谁怕达尔文？</h3>
<ul>
<li>从字面来看，英文的
“individual”（个体、个人）指的就是无法（in-）再分割（divide）的东西。于是，说自己是个
“in-dividual”，也就是说我是个完整的个体，而不是由几个独立部分形成的集合。</li>
</ul>
<h3 id="为什么股票交易所没有意识">为什么股票交易所没有意识？</h3>
<ul>
<li>虽然电子信号的传递和接收只是个简单的生化现象，但这些信号的互动却会创造出复杂得多的意识流。我们在许多其他领域也能观察到同样的动态。单一车辆的移动只是个简单的动作，但几百万辆车同时移动及互动，就出现了交通堵塞。单一股票的买卖再简单不过，但几百万股民同时买卖几百万只股票，就可能造成让专家也跌破眼镜的经济危机。</li>
</ul>
<h3 id="生命的等式">生命的等式</h3>
<ul>
<li><p>意识可能就是在复杂的神经网络信号传送之后造成的心理污染，没有任何功用，</p></li>
<li><p>由于计算机是以硅为基础的，而人类的神经网络是以碳为基础的，两者架构大不相同，因此人类意识的特征很可能无法套用。</p></li>
</ul>
<h3 id="实验室大鼠的抑郁生活">实验室大鼠的抑郁生活</h3>
<ul>
<li>究竟该由哪方来负责举证？我们到底是该先把狗视为无意识的机器，直到证明并非如此为止，还是要把狗看作像人类一样有意识，直到出现令人信服的反证为止？
<ul>
<li>真正的问题在于举证责任。</li>
</ul></li>
</ul>
<h3 id="有自我意识的黑猩猩">有自我意识的黑猩猩</h3>
<h3 id="聪明的马">聪明的马</h3>
<ul>
<li><p>本质上，我们人类和大鼠、狗、海豚或黑猩猩并没有多大的差异。正如它们，我们也没有灵魂。正如我们，它们也有意识，有着充满感觉和情感的复杂世界。</p></li>
<li><p>根据智力的大多数定义，人类在大约 <strong>1 万年前</strong>就已经成为地球上最聪明的动物，也是工具制作的冠军，人类却仍然只是一种不重要的生物，对周围的生态系统也没有什么影响力。</p></li>
<li><p>如今人类完全主宰地球，并不是因为单个人比单个黑猩猩或狼更聪明，或是手指更灵巧，而是地球上只有智人这个物种能够大规模而灵活地合作。</p>
<ul>
<li>大象、黑猩猩等哺乳动物的合作以彼此认识为基础。</li>
<li>只有智人能够与无数陌生个体进行非常灵活的合作。正是这种实际具体的能力，决定了为何目前主宰地球的是人类，而不是什么永恒的灵魂或是独有的意识。</li>
</ul></li>
</ul>
<h3 id="革命万岁">革命万岁</h3>
<ul>
<li><p>纵观历史，纪律严明的军队就是能击败散兵游勇，志同道合的精英就是能主导无序大众。</p></li>
<li><p>虽然权力已经从掌权者手中滑落，却不是由广场上的群众来承接，虽然他们人数众多、群情激昂，却不知道该怎样组织起来。因此，权力又来到了一小群政治玩家的手中，他们唯一有的就是良好的组织能力。</p>
<ul>
<li>别人吃肉，那些冒着生命危险、在广场抗议的群众却只能喝汤，就是因为他们不知道如何合作建立一个高效的组织来维护自己的利益。</li>
</ul></li>
<li><p>在社会主义罗马尼亚，几乎一切都归于国有。但到了民主的罗马尼亚，却迅速将一切资产私有化，再以低廉的价格售予前政府高官；只有这些人知道发生了什么事，并且合作互谋其利。控制着国家基础设施和天然资源的国营公司，被以特价出售给前政府高官，同时基层官员也能用极低的价格买到房屋和公寓。</p></li>
</ul>
<h3 id="在色情与暴力之外">在色情与暴力之外</h3>
<ul>
<li><p>整个蜂巢的能力会远大于单只蝴蝶的能力，然而这并不意味着单只蜜蜂比单只蝴蝶更神圣。</p></li>
<li><p>对于黑猩猩、狼和海豚等有社会关系的哺乳动物，社交合作大多以彼此认识为基础。以黑猩猩为例，它们一定要等到互相熟识、建立起社会阶级之后，才有可能一起去猎食。因此，黑猩猩要花很多时间进行社会互动、权力斗争。如果两只不认识的黑猩猩碰到一起，通常不但不能合作，反而会互相咆哮、扭打或是尽快逃离。</p></li>
<li><p>研究指出，不论是朋友还是敌人，智人能够真正熟识的对象不超过 150 人。不管人类靠什么打造出了大规模合作网络，总之绝不是仅靠个人熟识而已。</p></li>
<li><p>由于组织和经费因素，绝大多数实验对象都只是个人或小型群体。然而，想用小群体的行为来推断大众社会的动态，风险实在很高。拥有 1 亿人口的国家，运作方式从根本上就和 100 人的小部落大不相同。</p></li>
<li><p>最后通牒博弈 (100 美元的自由划分) 影响深远，不仅动摇了古典经济学理论，也建立起近几十年最重要的一项经济学发现：智人的行事并不是依照冷冰冰的数学逻辑，而是根据有温度的社交逻辑。</p></li>
<li><p>这样的威胁和承诺通常都能成功创造稳定的阶级制度和民众合作网络，但前提是民众相信自己是在顺应不可避免的自然法则，或是神的旨意，而不只是听命于另一个人。所有的大规模人类合作，到头来都是基于我们想象的秩序。</p>
<ul>
<li>只要智人住在相信同样一套故事的地方，就会遵守一样的规矩，于是不仅很容易预测陌生人会有什么行为，也很方便组织大规模合作的网络。</li>
</ul></li>
</ul>
<h3 id="意义之网">意义之网</h3>
<ul>
<li><p>多数人以为，现实只有客观或主观两种，没有第三种可能。</p></li>
<li><p>现实还有第三个层次：互为主体（intersubjective）。这种互为主体的现实，并不是因为个人的信念或感受而存在，而是依靠许多人类的沟通互动而存在。</p></li>
<li><p>1991 年 12 月 8 日，在维斯库里（Viskuli）附近的一幢乡间大宅，俄罗斯、乌克兰和白俄罗斯的领导人签署了《别洛韦日协定》其中声明：“吾等白俄罗斯共和国、俄罗斯联邦暨乌克兰，作为 1922 年苏联成立条约之签署创始国，兹声明终止苏联作为国际法主体及地缘政治现实。” 就这样，苏联从此解体。</p></li>
<li><p>我们希望相信自己的生命有客观意义，希望自己的种种牺牲不只是为了脑子里的各种空想。但事实上，大多数人生活的意义，都只存在于彼此讲述的故事之中。</p>
<ul>
<li>人类会以一种不断自我循环的方式，持续增强彼此的信念。每一次互相确认，都会让这张意义的网收得更紧，直到你别无选择，只能相信大家都相信的事。</li>
</ul></li>
<li><p>不过，经过几十年、几世纪，意义的网也可能忽然解体，而由一张新的网取而代之。读历史就是在看这些网的编织和解体，并让人意识到，<strong>对这个世代的人来说最重要的事情，很有可能对他们的后代就变得毫无意义</strong>。</p></li>
<li><p>这正是历史展开的方式。人类编织出一张意义的网，并全然相信它，但这张网迟早都会拆散，直到我们回头一看，实在无法想象当时怎么可能有人真心相信这样的事。</p>
<ul>
<li>在现在的 100 年后，我们现在对民主和人权的信念，也有可能会让我们的后代感到同样难以理解。</li>
</ul></li>
</ul>
<h3 id="大同世界">大同世界</h3>
<ul>
<li>能够创造出互为主体的实体，这种能力不仅让人与其他动物有所不同，也让人文科学与生命科学出现分歧。</li>
<li>随着人类的种种虚构想象转译成基因和电子代码，互为主体的现实将会吞没客观现实，而使生物学与历史融合在一起。</li>
<li>如果我们想了解人类的未来，只是破译基因组、处理各种数据数字还远远不够，我们还必须破解种种赋予世界意义的虚构想象。</li>
</ul>
<hr>
<h1 id="第二部分-智人为世界赋予意义">第二部分 智人为世界赋予意义</h1>
<h2 id="第四章-虚构的力量">第四章 虚构的力量</h2>
<ul>
<li><p>智人则是活在一种三重现实之中。除了树木、河流、恐惧和欲望，智人的世界还有各种关于金钱、神、国家和公司的虚构故事。历史逐渐展开，神、国家和公司的影响不断增长，而河流、恐惧和欲望则被弱化。</p></li>
<li><p>文字与货币让人突破了人类大脑的数据处理限制。文字和货币让人类开始能够向数十万人收税，从而组织起复杂的官僚体系，建造出幅员辽阔的王国。</p>
<ul>
<li>在文字出现之前，故事受限于人类大脑的能力，不能讲得太复杂，否则就没人能记得。但文字出现之后，忽然人类可以开始创造长篇复杂的故事，不再单靠人类大脑，而能记在黏土板或莎草纸上。</li>
<li>有了文字之后，人类就能组成网络，每个人完成庞大算法里的一个小步骤，而最后的重要决定由整个算法做出。这正是官僚体系的本质。</li>
</ul></li>
</ul>
<h3 id="纸上的生活">纸上的生活</h3>
<h3 id="神圣的经文">神圣的经文</h3>
<p>- 现代非洲各国边界所反映的并不是当地民族自己的期许和斗争，而是由从未踏足非洲的欧洲官僚一笔画定。</p>
<ul>
<li><p>分数是历史相对晚一些的发明。</p>
<ul>
<li>直到工业时代出现了大众教育系统后，才开始固定使用精确的分数。</li>
</ul></li>
<li><p>就像法老统治下的埃及、欧洲的各个帝国以及现代的学校系统，这些真正有力的人类组织，并不一定都把现实呈现得清清楚楚。这些组织大部分的力量，都在于能够将虚构的信仰建立在一个让人顺从的现实之上。</p></li>
<li><p>在包括英美在内的全世界许多国家，证人上法庭做证，也会把手放在《圣经》上，发誓说出事实、完整的事实，也唯有事实。然而，发这个誓的时候，他们所凭依的书里竟充满虚构、神话和错误，岂不讽刺？</p></li>
</ul>
<h3 id="运转良好的人类协作">运转良好的人类协作</h3>
<ul>
<li><p>虚构故事能让人类更容易合作，但代价在于，这些虚构故事同时也会决定我们合作的目标。因此，我们可能拥有非常复杂的合作制度，却只是为了服务于虚构的目标和利益。这样一来，虽然整个制度看起来运转良好，但出发点可能只是这个制度的标准。</p></li>
<li><p>想评估人类合作网络究竟是好是坏，一切都取决于用什么标准和观点。</p>
<ul>
<li>1850 年，不管是中国的农民还是曼彻斯特工厂里的劳工，工时都比狩猎采集者更长，工作对身体的负担更重，对心理的压力也更大；他们的饮食比远古更不均衡，卫生条件更为落后，而传染病则更为常见。</li>
<li>公司、货币和国家，都只存在于我们的想象之中，是人类发明了这些概念，好让它们为人类服务；为什么最后反而是人类为这些概念服务，甚至牺牲性命呢？</li>
</ul></li>
</ul>
<h2 id="第五章-科学与宗教之争">第五章 科学与宗教之争</h2>
<ul>
<li><p>人类往往为某些虚构实体（例如神和国家）的荣誉而努力，而不是让真正拥有感受的生命过得更好。</p></li>
<li><p>现代科学和宗教的关系究竟是什么？</p></li>
</ul>
<h3 id="细菌和恶魔">细菌和恶魔</h3>
<ul>
<li>宗教并不等于迷信，因为大多数人都不可能把自己最相信的事称为迷信。自己相信的，一定是 “真理”；只有别人相信的，才会是 “迷信”。</li>
</ul>
<h3 id="如果遇见佛陀">如果遇见佛陀</h3>
<ul>
<li><p>撒旦不知道怎样才能让自己创造的事物永续，因此在物质的世界里，一切终将腐败瓦解。为了将自己创造的瑕疵品赋予生命，撒旦就会诱惑来自纯洁灵性世界的灵魂，再将灵魂关在物质的身体里，这就成了人：一个美好而灵性的灵魂，被困在邪恶而物质的身体里。</p>
<ul>
<li>灵魂就这样从一个身体转移到另一个身体，虚耗光阴，追求食物、性和权力。</li>
</ul></li>
<li><p>只要是在人生旅程中质疑着各种世俗的惯例和契约，并前往未知的目的地，我们都会称之为灵性之旅。</p>
<ul>
<li>这种旅程与宗教有根本的差异，因为宗教要巩固世俗秩序，但灵性要逃离世俗秩序。通常，灵性的流浪者最重要的义务之一，就是挑战各大宗教的信仰和惯例。</li>
</ul></li>
<li><p>贩卖赎罪券</p></li>
<li><p>从历史的观点来看，灵性之旅总是以悲剧收场，因为这是一条孤独的道路，只适合个人，而不适合整个社会。人类要合作，就不能只有问题，而是需要坚定的答案。推倒某些荒谬的宗教制度，往往又促成了新的宗教制度的建立。</p></li>
</ul>
<h3 id="伪造上帝">伪造上帝</h3>
<ul>
<li>虽然科学家能够研究世界如何运转，却没有科学方法告诉我们人类该做些什么。
<ul>
<li>科学家的实用研究仍有赖于宗教见解。
<ul>
<li>三峡大坝蓄水后，将淹没陆地面积超过 600 平方公里，其中包括许多城镇村庄、数千处考古遗迹，以及独特的风景和动物栖息地。超过百万人迁离，数百种物种生命受到威胁。看起来，<strong>大坝是白鳍豚灭绝的直接原因</strong>。</li>
</ul></li>
</ul></li>
<li>许多宗教教条最重要的部分并不在于其伦理原则，而在于其关于事实的主张声明，
<ul>
<li>《圣经》是由神所著，而非由人所著</li>
<li>教皇永远是对的</li>
</ul></li>
<li>当我们从缥缈的哲学领域回归历史现实时，会观察到宗教故事几乎总是包括三个部分：
<ul>
<li>伦理判断，例如，“人命神圣”。</li>
<li>事实声明，例如，“人命始于受孕那一刻”。</li>
<li>伦理判断与事实声明相结合，给出具体的指示，例如，“就算受孕才一天，也不得堕胎”。</li>
</ul></li>
<li>对于宗教的伦理判断，科学无法加以反驳或证实；但对于宗教的事实声明，科学家就大有意见了。</li>
</ul>
<!--
无远弗届：指不管多远之处，没有不到的。
无从置喙(huì)：没有话可说，没有可插嘴的。
-->
<ul>
<li><p>《君士坦丁赠礼》是在大约公元 8
世纪的时候，在古罗马教廷伪造而成。虽然瓦拉从未质疑这份古代帝王谕令的道德权威，但他的科学分析确实影响了这份谕令的具体指示，也就是欧洲人应该服从教皇的谕令。</p></li>
<li><p>罗马人为了镇压犹太起义（Great Jewish
Revolt），于公元 70 年一把火烧毁了耶路撒冷及圣殿。<strong>圣殿成了残垣断壁，祭司家族霎时失去了宗教权威与经济权力基础，甚至失去了存在的理由</strong>。以犹太教圣殿、祭司和英勇战士为特点的传统犹太教，从此消失于历史；取而代之的是一个以书籍、拉比和吹毛求疪的学者为特点的新犹太教。</p></li>
</ul>
<h3 id="神圣教条">神圣教条</h3>
<ul>
<li>如果没有一些宗教元素作为引导，就不可能维持大规模的社会秩序，就算是大学和实验室也需要一点宗教的支持。宗教能为科学研究提供伦理上的理由，也因此能够影响科学研究的议题以及科学发现的使用方式。</li>
</ul>
<h3 id="猎巫行动">猎巫行动</h3>
<ul>
<li>宗教最在乎的其实是<strong>秩序</strong>，宗教的目的就是创造和维持社会结构；而科学最在乎的则是<strong>力量</strong>，科学的目的是通过研究得到力量，以治疗疾病、征伐作战、生产食物。</li>
</ul>
<h3 id="与现代的契约">与现代的契约</h3>
<ul>
<li>我们只是在一个行星上占据着再小不过的一点位置，存在着再短不过的一段时间，</li>
</ul>
<h3 id="银行家与吸血蝙蝠有何不同">银行家与吸血蝙蝠有何不同</h3>
<ul>
<li>信贷正是 “信任” 在经济上的表现。如今，如果想开发新药物，但手上资金不足，我们可以去向银行贷款，或是寻找私人投资或创投基金。</li>
</ul>
<!--

未来简史·人类简史（套装）（尤瓦尔·赫拉利全球轰动作品！比尔·盖茨、扎克伯格、奥巴马热荐！人类迎来第二次认知革命。） (尤瓦尔·赫拉利)
- Your Highlight at location 2838-2840 | Added on Saturday, 8 August 2020 23:00:21
-->
<h3 id="经济增长的奇迹">经济增长的奇迹</h3>
<ul>
<li><p>现代政治和经济笃信增长的必要性有三个原因。</p>
<ul>
<li>首先，生产越多，消费就越多，越能提高生活水平，也越能享受到所谓的更快乐的生活。</li>
<li>其次，只要人类持续繁衍壮大，仅仅为了维持现状，经济增长就已经很有必要了。</li>
<li>最后，就算印度的人口停止增长，中产阶级也对目前的生活水平感到满意，那么那些上亿的印度贫困人口又该怎么办？</li>
</ul></li>
<li><p>至于新加坡这个极其务实的城市国家，更进一步实践了这种思维，让部长的薪资与国家 GDP 挂钩。</p></li>
<li><p>由于经济增长据称是一切美好事物的源头，因此它鼓励大家放下各种道德的偏见，共同采取能够使成功最大化的长期措施。</p></li>
<li><p>国际象棋这种源于前现代时期的游戏，假设的就是一个停滞的经济。你在开局的时候有 16 枚棋子，等到游戏结束，也绝不可能多出任何 1 枚。虽然极少数情况能让你把兵变成后，但就是不会有多出来的新棋子，也不可能把马升级成坦克。所以，国际象棋玩家永远不用考虑投资这回事。相比之下，许多现代桌游或计算机游戏都把投资增长当作重点。</p></li>
</ul>
<h3 id="方舟综合征">方舟综合征</h3>
<ul>
<li><p>人类经济之所以能够增长，是因为人类可以找到新的原材料、新的能源。</p></li>
<li><p>传统观念把世界看成一块大小固定的饼，隐藏的假设就是世界上只有两种资源：原材料和能源。但事实上，<strong>资源有三种：原材料、能源和知识</strong>。原材料和能源取之有尽，用得越多，剩下的就越少；但知识是不断增长的，用得越多，反而拥有越多。而且，随着知识的不断增长，还能带来更多原材料和能源。</p></li>
<li><p>资源短缺的问题看起来很有可能被克服，但现代经济真正的敌人是生态崩溃。</p></li>
<li><p>由于发展的脚步不断加快，犯错的空间也在不断缩小。以前可能只要一个世纪发明出一项神奇的产品便已足够，但现在可能每两年就得设法拿出一项奇迹。</p></li>
<li><p>目前的主政者表面上重视环保，收割眼前的政治利益，却把减少排放（也就会减缓增长）要付出的重大政治代价留给了未来的主政者。</p>
<ul>
<li>把未来人类的希望，寄托于假设未来的科学家能有些现在不可知却能拯救地球的发现，这种想法真的理性吗？</li>
</ul></li>
<li><p>穷人怎么了？他们为什么不抗议？如果洪水真的来临，穷人将付出所有代价；如果经济停滞，穷人也首当其冲。<strong>在资本主义世界里，穷人的生活唯有在经济增长时才可能改善</strong>。因此，如果一定要放慢当下的经济增长速度，以减少未来的生态威胁，并不太可能得到他们的支持。</p></li>
</ul>
<h3 id="为什么我们总想要更多">为什么我们总想要更多？</h3>
<p>《共产党宣言》说得精辟，<strong>现代世界就是 “永远的不安定和变动”，各种固定的关系和古老的偏见都遭到扫除，而新的结构等不到固定便已经陈旧，一切固定的东西都烟消云散</strong>。在这样混乱的世界中，生活本已不易，管理则更是难上加难。</p>
<p>从目前的事实看，<strong>人类不仅比过去任何时候都更有力量，而且也更为和平，合作也更为愉快</strong>。人类是怎么做到的？在一个没有神、没有天堂、没有地狱的世界上，道德、美丽甚至同理心，是如何保存下来并且发展蓬勃的呢？</p>
<h3 id="人文主义革命">人文主义革命</h3>
<ul>
<li>纵观历史，先知和哲学家都认为，如果人类不再相信有一个伟大的宇宙计划，所有的法律和秩序都会消失。今天，对全球法律和秩序造成最大威胁的正是那些继续相信唯一真神和伟大计划的人。对神怀有敬畏的叙利亚，比世俗的荷兰要暴力许多。</li>
</ul>
<h3 id="向内心探寻">向内心探寻</h3>
<ul>
<li><p>正是人文主义，让人类摆脱了人生无意义、存在无依据的困境。</p></li>
<li><p>人文主义宗教崇拜人性，期望由 “人类” 来扮演上帝在基督教或真主在伊斯兰教中扮演的角色，或自然法则在佛教和道教中扮演的角色。</p>
<ul>
<li>只会沉溺在一时的感官享受及世俗幻象之中。</li>
</ul></li>
<li><p>我们从小就不断听到各种<strong>人文主义</strong>的口号：“要聆听自己的声音，对自己真诚，相信自己，追随自己的内心，做让自己快乐的事。”</p></li>
<li><p> 几个世纪以来，人文主义一直想让我们认为，人类自己就是意义的本源，因此自由意志也是最高的权威。</p></li>
<li><p>理论上，<strong>现代的心理治疗师与中世纪的神父</strong>站在同一个位置，</p>
<ul>
<li>治疗师最有可能做的事，就是用一种温暖且关怀的声音问：“那你对这一切有什么看法呢？”</li>
<li> 大多数心理学家相信，唯有从人的感觉出发，才有权判断人类行为的真正意义。</li>
<li>中世纪的神父仿佛和上帝有一条热线，能够为我们分辨好坏，但现代的心理治疗师只会帮助我们触及自己内心的感觉。</li>
</ul></li>
<li><p>中世纪将婚姻视为神赐圣事，神同时授权父亲依据自己的愿望和利益，为孩子安排嫁娶。于是，<strong>婚外情等于明目张胆地同时挑战了神权和父权</strong>。</p>
<ul>
<li>今天，人们因为相爱而结婚，而这种关系的价值来自他们的个人感受。</li>
</ul></li>
<li><p>如果某个行为不会让任何人感觉不好，就等于没错。</p></li>
<li><p>在过去 10 年间，以色列的 LGBT
社群每年都会在耶路撒冷的街道举行同性恋游行。在这个充满冲突的城市，这一天难得显得如此和平，因为不管是犹太教徒、穆斯林还是基督徒，都忽然有了共同的敌人：同性恋游行。</p>
<ul>
<li>LGBT
是女同性恋者（lesbian）、男同性恋者（gay）、双性恋者（bisexual）和跨性别者（transgender）的首字母缩写。</li>
</ul></li>
<li><p>个人的自由意志选择正是最终的政治权威。</p></li>
<li><p>在伦理上，人文主义的座右铭是 “感觉对了，就做吧”。在政治上，人文主义告诉我们 “选民能做出最好的选择”。在美学上，人文主义说 “看的人觉得美，就是美”。</p>
<ul>
<li>在自由市场上，顾客永远是对的。</li>
</ul></li>
<li><p>人文主义思想的兴起也彻底改变了教育制度。在中世纪，所有意义和权威都来自外部，因此<strong>教育的重点在于顺从</strong>、背诵经文、研读古老传统。</p>
<ul>
<li>相比之下，<strong>现代人文主义教育则教导学生要自己思考</strong>。能知道亚里士多德、所罗门王和阿奎纳对政治、艺术和经济有何看法是很不错，但因为意义和权威的本源在于我们的内心，所以更重要的是你自己对这些事情的看法。</li>
</ul></li>
<li><p>对于天使和魔鬼的概念，已经从漫游在森林和沙漠中的实体，转换为人类内心的力量。天堂和地狱也不再是云层之上和火山之下的实际地点，而是人类内在的精神状态。只要你心中燃起愤怒和仇恨的火焰，就是经历地狱的苦痛；只要你原谅敌人、忏悔错误、与穷人分享财富，就是享有天堂的幸福。</p></li>
</ul>
<h3 id="踏上绿野仙踪的黄砖路">踏上绿野仙踪的黄砖路</h3>
<ul>
<li>在中世纪的欧洲，获得知识的主要公式是：知识 = 经文 × 逻辑；
<ul>
<li>科学革命的知识公式则非常不同：知识 = 实证数据 ×
数学。如果想知道某个重要问题的答案，我们要做的就是收集相关的实证数据，再用数学工具加以分析。</li>
<li>人文主义提供了另一种选择。等到人类对自己有了足够的信心之后，一个获取伦理知识的新公式出现了：知识
= 体验 ×
敏感性。<strong>如果想知道任何道德问题的答案，我们需要面向自己内心的体验，以最大的敏感性来观察它</strong>。在实践中，这意味着追求知识的方法要靠多年的体验累积，并锻炼敏感性，好让我们正确理解这些体验。</li>
</ul></li>
<li>没有必要的敏感性，就无法体验到某些事物；没有长期的体验，就无法培养敏感性。</li>
</ul>
<!--
以喝茶为例，自己属于初期阶段，但是脱离了喝糖品茶的阶段-->
<ul>
<li><p>人文主义认为生命就是一种内在的渐进变化过程，靠着体验，让人从无知走向启蒙。人文主义生活的最高目标，就是通过各式智力、情绪及身体体验，充分发展人的知识。</p></li>
<li><p>存在的目的就是 “在生命最广泛的体验中，提炼出智慧”。他还写道：“生命只有一座要征服的高峰 —— 设法体验一切身为人的感觉。”
这正可作为人文主义者的座右铭。</p></li>
</ul>
<h3 id="战争的真相">战争的真相</h3>
<h3 id="人文主义的分裂">人文主义的分裂</h3>
<ul>
<li><p><strong>自由主义政治认为，选民能做出最好的选择</strong>。自由主义艺术认为，观看作品的人觉得美，就是美。自由主义经济学认为，顾客永远是对的。自由主义伦理认为，只要感觉对了，就该去做。自由主义教育认为，我们要为自己思考，因为从内心就能找到所有答案。</p></li>
<li><p>我当下的政治观点、喜好与厌恶、兴趣和抱负，都没有反映真实的自我，只是反映了我的成长和社会环境，这都是由我的阶级、邻里和受教育水平决定的。</p></li>
<li><p><strong>社会主义并不鼓励自我探索，而是主张建立强有力的集体制度</strong>（比如社会主义政党和工会），为我们解读这个世界。</p></li>
<li><p>进化人文主义源于达尔文的进化论，认为冲突是福不是祸，能够促成自然选择、推动进步。</p></li>
<li><p>进化并不是到了智人就停止，后面还有很长的路要走。如果以人权或人类平等之名，去压制人类的最适者，就不可能产生超人类，甚至可能导致智人退化和灭绝。</p></li>
<li><p>战争是让自然选择全然脱缰，消灭弱者，奖励残暴及野心。战争揭示出生命的真相，唤醒获得权力、荣耀和征服的意志。尼采的结论是：战争是 “生命的学校”，“那些杀不死我的，会使我更强大”。</p></li>
<li><p>和平的时候，全世界大概有九成的人，过的大概都是邪恶而商业化的生活，愚蠢、自私、奢侈、执着于鸡毛蒜皮的小事。但到了战时，一切都变得野蛮，但至少更诚实，也更直接。</p></li>
</ul>
<h3 id="贝多芬比查克.贝里更高级吗">贝多芬比查克。贝里更高级吗？</h3>
<h3 id="宗教的人文战争">宗教的人文战争</h3>
<ul>
<li>如果有个自由主义者在 1914 年 6 月沉沉睡去，直到 2014 年 6 月才醒来，大概不会觉得有什么异样。</li>
</ul>
<h3 id="电力基因学伊斯兰激进主义">电力、基因学、伊斯兰激进主义</h3>
<ul>
<li><p>反清的太平天国运动，时间从 1850 年到 1864 年，是整个 19
世纪最惨烈的一场战争，惨烈程度远超过拿破仑战争或美国内战。</p>
<ul>
<li>你不知道的历史点</li>
</ul></li>
<li><p>如果你也认为全国的卫生服务、退休基金和义务教育十分重要，应该感谢马克思和列宁（以及俾斯麦），而大概不会感谢洪秀全或马赫迪。</p>
<ul>
<li>补充知识点：苏丹民族英雄马赫迪，在 1881 年 1
月领导反抗英埃统治的斗争，1898 年 4 月因英国殖民军镇压而失败，被苏丹人民尊为 “独立之父”。</li>
</ul></li>
<li><p>在马克思之前，人们定义和区分彼此的标准是对上帝的看法，而不是生产方式。在马克思之后，比起关于灵魂和来世的辩论，科技与经济结构问题更为重要，造成的分裂也更加严重。</p></li>
<li><p>几个世纪以来，<strong>修道院和教会学校一直是欧洲最重要的学习中心</strong>，协助成立诸多欧洲顶尖大学，例如，博洛尼亚大学、牛津大学，以及萨拉曼卡大学。</p></li>
<li><p>《圣经》早已不再真正启发灵感，但仍被尊为权威的来源。</p></li>
<li><p><strong>人文主义长期崇拜人类的生命、情感及欲望</strong>，于是人文主义文明希望让人有最长的生命、最大的幸福、最强的力量。</p></li>
</ul>
<h1 id="第三部分-智人失去控制权">第三部分 智人失去控制权</h1>
<h2 id="第八章-实验室里的定时炸弹">第八章 实验室里的定时炸弹</h2>
<ul>
<li><p>就目前最先进的科学来看，人的选择不是生物预设就是随机，</p></li>
<li><p>根据进化论，动物做的所有选择（选择栖息地、食物或伴侣）都是基因密码的反映。</p>
<ul>
<li>这里最重要的问题并不在于鹦鹉或人类能不能根据内在欲望采取行动，而是究竟<strong>能不能选择要产生什么欲望</strong>。</li>
</ul></li>
<li><p>因为大脑里某种生化过程创造出的感觉。这些过程可能是生物预设，也可能是随机发生的，但绝不是自由意志。</p></li>
<li><p>人的欲望不是一种 “选择”，我们只能 “感觉” 到欲望，再据以行事。</p></li>
<li><p>你或许觉得不服气，认为如果能让脑中的声音噤声或是放大，其实是增强而非削弱了自由意志。</p></li>
</ul>
<h3 id="我是谁">我是谁</h3>
<ul>
<li><p>自由主义认为每个人都有单一的、不可分割的自我。“individual”（个人）这个英文单词的意思，就是 “in-dividual”（不可分割）。</p></li>
<li><p>左右脑也有情感和认知方面的分工，只是不够清晰。例如，多数认知活动都会同时用到左右脑，只是程度有大小之别。例如，在大多数情况下，左脑在语言和逻辑推理时扮演着较重要的角色，右脑则在处理空间信息时有较大优势。</p></li>
<li><p>关于癫痫患者：在 20
世纪中叶，如果其他疗法都无法奏效，医生的最后一招就是把连接两个半球的神经束切断，让某个脑半球掀起的电子风暴不会影响到另一半球。</p>
<ul>
<li>“脑裂”（split-brain）患者</li>
</ul></li>
<li><p>人体内至少有两种自我：体验自我（experiencing
self）及叙事自我（narrating self）。</p></li>
<li><p>许多妇女分娩时都会经历难以忍受的痛苦，这会让人认为，只要生过一次，没有哪个心智正常的女性会愿意再生一次。但在分娩后的几天，内分泌系统会分泌皮质醇和 β–内啡肽，舒缓疼痛，让人感到安慰，甚至是欢快，再加上<strong>对小婴儿的爱与日俱增</strong>，又得到来自亲友、宗教和民族主义宣传的多方赞誉，从而合力把分娩从创伤转为正面记忆。</p>
<ul>
<li>大多数文化都将分娩描绘成美妙的体验，而不是一种创伤。</li>
</ul></li>
<li><p>体验自我和叙事自我并非各自独立，而是紧密交织的。叙事自我也会用到我们的种种体验，作为重要（但非唯一）的故事素材。反过来，这些故事也会塑造体验自我的种种感受。</p>
<ul>
<li><strong>大多数人认同的都是自己的叙事自我</strong>。我们口中的 “我”，讲的是我们脑中的故事，而不是身体持续感觉到的当下体验。</li>
</ul></li>
</ul>
<h3 id="生命的意义">生命的意义</h3>
<ul>
<li><p>我们对一个想象故事做出的牺牲越多，就可能越坚持，只<strong>为了让我们的一切牺牲和痛苦有意义</strong>。</p></li>
<li><p>活在幻想里是一个更为轻松的选项，唯有这样，才能让一切痛苦有了意义。</p></li>
<li><p>我们的叙事自我宁可在未来继续痛苦，也不想承认过去的痛苦完全没有意义。最后，如果我们想把过去的错误一笔勾销，叙事自我就一定得在情节中安排某个转折，为错误注入意义。</p></li>
</ul>
<h2 id="第九章-大分离">第九章 大分离</h2>
<ul>
<li>人类将会失去在经济和军事上的用途，因此经济和政治制度将不再继续认同人类有太多价值。</li>
</ul>
<!--
甚至是抹除所有金融记录，让数万亿美元就这样消失于无形，没人知道究竟哪些钱归谁所有。
-->
<ul>
<li><p>在今天的许多不对称冲突中，大多数公民只能作为各式先进武器的人肉盾牌。</p></li>
<li><p>必须是具有意识的个体，才能执行需要高度智能的任务，例如下棋、开车、诊疗，或是辨认出恐怖分子。</p></li>
<li><p>军队和企业需要具有智能的代理人才有办法运作，但这样的代理人却不见得需要有意识和主观体验。</p></li>
<li><p>我们回想一下，马在工业革命开始后命运如何。任何一匹农场里的马，不论是在嗅觉、爱的能力、认人的能力、跳过栅栏的能力或是其他上千件事情上，绝对都远高于历史上首款平民汽车福特 T 型车，或是价值百万美元的兰博基尼。</p></li>
<li><p>2015 年 8
月，谷歌实验中的无人驾驶汽车发生了车祸。当时这辆车正接近一个十字路口，发现有位行人想过马路，于是刹了车。但接着这辆车就遭到后方车辆追尾，后面那辆车的人类司机心不在焉，可能正思索着宇宙的奥秘，结果就忘了看路。</p></li>
<li><p>虽然人类总对自己的情绪智能洋洋得意，却也常常受情绪影响，做出消极反应。</p></li>
</ul>
<h3 id="无用阶级">无用阶级</h3>
<ul>
<li><p><strong>人类有两种基本能力：身体能力和认知能力</strong>。在机器与人类的竞争仅限于身体能力时，人类还有数不尽的认知任务可以做得更好。所以，随着机器取代纯体力工作，人类便转向专注于需要至少一些认知技能的工作。然而，一旦算法在记忆、分析和辨识各种模式的能力上超过人类，会发生什么事？</p></li>
<li><p>随着时间的推移，不仅是因为算法变得更聪明，也是因为人类逐渐走向专业化，所以用计算机来取代人类越来越容易。</p></li>
<li><p>人工智能目前绝无法做到与人类匹敌。但对大多数的现代工作来说，99%
的人类特性及能力都是多余的。<strong>人工智能要把人类挤出就业市场，只要在特定行业需要的特定能力上超越人类，就已足够</strong>。</p></li>
<li><p>随着算法将人类挤出就业市场，财富和权力可能会集中在拥有强大算法的极少数精英手中，造成前所未有的社会及政治不平等。</p></li>
<li><p>从生命科学的角度来看，艺术并不是出自什么神灵或超自然灵魂，而是有机算法发现数学模式之后的产物。</p></li>
<li><p>2011 年，柯普出版了《激情之夜：人和机器所作的俳句两千首》（ Comes
the Fiery Night: 2000 Haiku by Man and
Machine），其中有一部分是安妮写的，其他则来自真正的诗人。但书中并未透露具体篇目的作者是谁。如果你认为自己一定可以看出人类创作与机器作品的差异，欢迎挑战。</p></li>
<li><p>到了 2033 年，计算机能够取代考古学家的可能性只有
0.7%，因为这种工作需要极精密的模式识别能力，而且<strong>能够产生的利润又颇为微薄</strong>，因此很难想象会有企业或政府愿意在接下来 20 年间投入足够的资本，将考古学推向自动化。</p></li>
<li><p>一旦人工智能超越人类智能，可能就会直接消灭人类。人工智能这么做的理由，一是可能担心人类反扑、拔掉它的插头，二是要追求某种我们现在还难以想象的目标。</p></li>
</ul>
<h3 id="的可能性">87% 的可能性</h3>
<ul>
<li><p>“量化自我”（Quantified
Self）的运动认为，所谓的自我，就是数学模型。但这些模型非常复杂，人类心智无法理解。所以，如果真想遵从德尔菲神殿的神谕 “认识你自己”，就别再浪费时间研究哲学、冥想或精神分析，反而该系统性地收集自己的生物计量数据，允许算法为你分析这些数据，告诉你你是谁、该做些什么。这波运动的箴言，就是 “通过数据，认识自己。”</p></li>
<li><p> 算法并不会忽然占领、奴役人类，反而是能够帮上大忙，为我们做出各种明智的抉择。到那时候，不听算法的，才是不明智的决定。</p></li>
<li><p>像这种追求健康的愿望，很可能让我们大多数人都愿意突破保护个人隐私的阻碍，允许国家机构或跨国公司进入我们身体的最深处。举例来说，允许谷歌阅读我们的电子邮件、追踪我们的各种活动，就可能让谷歌在流行病暴发而传统卫生机构都还浑然不觉的时候，向我们发出警告。</p></li>
<li><p>在 2008 年，谷歌确实推出了谷歌流感预测（Google Flu
Trends）服务，靠着监测谷歌搜索内容，追踪流感暴发的迹象。</p></li>
<li><p>从以前到现在，人类都是自主实体，由叙事自我叙写的故事所操纵。但在未来，每个人都将会是整个巨型全球网络的一部分。</p></li>
<li><p>正如卡尼曼的冷水实验，叙事自我到了政治领域，一样会遵循 “峰终定律”，忘了绝大多数的事情，只记得几件极端的事件，并对最近的事件赋予完全不成比例的高权重。</p></li>
<li><p>在欧洲帝国主义的全盛时期，殖民者和商人用彩色的珠子，就从当地人那里换来了整座岛屿、整个国家。而<strong>在
21
世纪，个人数据可能是大多数人能够提供的最宝贵资源，但我们正亲手把这些数据交给各大科技企业，好换来免费的电子邮箱或是有趣的小猫视频</strong>。</p></li>
</ul>
<h3 id="从先知到君主">从先知到君主</h3>
<ul>
<li><p>今天在美国，读电子书的人数已超过读纸质书的人数。比如亚马逊的 Kindle 等电子书，就能在用户阅读时收集数据。举例来说，你的 Kindle 会知道你在哪些地方读得快、哪里读得慢，在哪一页你休息了一会儿，又是在哪一行你放弃了这本书，再也没读过（最好赶快告诉作者，让他重写那一部分）。</p></li>
<li><p>最后可能是我们一分一秒都无法与这个全知的网络断开。断开，就等于死亡。假设医疗理想得以实现，未来的人类将会在体内植入许多生物监测装置、仿生器官和纳米机器人，以监测人体健康状况，并避免感染、疾病和伤害。</p></li>
<li><p>21 世纪的新科技可能会彻底扭转人文主义革命，让人类交出权威，送到非人类的算法手中。如果你觉得这个方向实在太骇人，该怪的并不是那些计算机怪才，这其实是生物学家的责任。</p></li>
<li><p><strong>一旦生物学家判断生物也是算法，就等于拆除了有机和无机之间的那堵墙</strong>，让计算机革命从单纯的机械事务转变为生物的灾难，也将权威从个人转移到了算法网络。</p></li>
<li><p>确实有些人对这种发展感到恐惧，但事实上，也有数百万人再乐意不过。<strong>今天许多人已经放弃了自己的隐私和个性，把许多生命点滴全放到网络上</strong>，每个行动都记录下来，与网络的连接一中断，就算只是几分钟，也会让他们歇斯底里。</p></li>
<li><p>今天，大多数企业和政府都会尊重每个人的个性，承诺依据每个人的需求和愿望提供医药、教育和娱乐活动。但为了达到这个目的，企业和政府就得将个人解构为许多生化子系统，用无所不在的传感器监测这些子系统，并用强大的算法加以解读。在这个过程中，我们会发现所谓不可分割的个体只是一个宗教幻想。现实中，个人是许多生化和电子算法的混合体，没有清晰的边界，也没有自我中心。</p></li>
</ul>
<h3 id="不平等的再升级">不平等的再升级</h3>
<ul>
<li><p>在自由主义面临的三个实际威胁中，我们已经讨论了两个： *
第一，人类将完全不具价值；</p>
<ul>
<li>第二，人类整体仍然有价值，但个人将不再具有权威，而是由外部算法来管理。
<ul>
<li>算法系统仍然需要由你来谱写交响乐、教历史或编写计算机程序，但算法系统对你的了解会超越你自己，也因此会为你做出大部分重要的决定；而且，你还会觉得这真是太好了。这个世界并不一定不好，但会是一个后自由主义的世界。</li>
</ul></li>
<li>自由主义面临的第三个威胁在于：有些人仍然会不可或缺，算法系统也难以了解，而且会形成一个人数极少的特权精英阶层，由升级后的人类组成。这些超人类将会拥有前所未有的能力及创造力，让他们能够做出许多世上最重要的决定。他们会为算法系统执行关键的服务，而算法系统既无法了解也无法管控这些人。然而，大多数人并不会升级，于是也就成了一种新的低等阶级，同时受到计算机算法和新兴的超人类的控制主导。</li>
</ul></li>
<li><p><strong>人类如果从生物定义上分裂成不同的阶级，就会摧毁自由主义意识形态的根基</strong>。有自由主义的地方，仍然可能有各种社会及贫富差距，而且因为自由主义把自由看得比平等更为重要，所以甚至也觉得有差距是理所当然，但自由主义仍然假定所有人都有同样的价值和权威。</p></li>
<li><p><strong>自由主义面对社会不平等的解药，不是让每个人都有同样的体验，而是对于不同的人类体验赋予同等的价值</strong>。然而，如果贫富差距已经不只体现在财产价值上，而且出现了真正的生物学上的差异，这一套还行得通吗？</p></li>
<li><p>到 2016 年年初，全球 62 名最富有的人，拥有的财产总值等于最贫穷的
36 亿人的总和！由于目前全球人口约为 72 亿，也就是说，这 62
名亿万富翁所拥有的财富，大约就是较为贫穷的全球一半人口的财产总和。</p></li>
<li><p>20 世纪的医学旨在治愈病人，但 <strong>21
世纪的医学则逐渐走向要让健康的人再升级</strong>。“治愈病人” 代表的是一种平等，因为这假设有个身心健康的规范标准，而人人都应享有这样的健康。</p></li>
<li><p>相较之下，要让健康的人再升级，背后则是精英的概念，因为这里并没有所有人通用的标准，而是要让某些人比其他人
做比较的时候，我们找的比较对象通常都是同时代更幸运的人，而不是以前命运不佳的祖先。</p></li>
<li><p>人类最大的医疗成就正是为大众提供卫生设施、疫苗接种，消灭流行病。</p></li>
<li><p>人类在 20
世纪的伟大成就 —— 克服饥荒、瘟疫和战争 —— 都是为了让所有人享有富足、健康与和平。至于
21
世纪的新议题：获得永生、幸福快乐、化身为神，也同样希望为全人类服务。</p></li>
</ul>
<h2 id="第十章-意识的海洋">第十章 意识的海洋</h2>
<ul>
<li><p>就像社会主义承诺以蒸汽和电力为世界提供救赎，在接下来的几十年间，新的科技宗教也可能承诺以算法和基因为世界提供救赎，进而征服世界。</p></li>
<li><p>早在一个世纪前，<strong>进化人文主义就希望创造出超人类，而现在的科技人文主义则可说是这个梦想的新形态</strong>。希特勒等人的想法，是要通过选择<strong>性育种</strong>和<strong>种族清洗</strong>来创造超人，但 21 世纪科技人文主义则希望通过<strong>基因工程</strong>、<strong>纳米技术</strong>和<strong>脑机界面</strong>，以更和平的方式达成这个目标。</p></li>
</ul>
<h3 id="心智的差距">心智的差距</h3>
<ul>
<li>心理状态的频谱可能无限延伸，但科学目前还只研究了其中两小部分：次规范群体（sub-normative），以及 WEIRD（western,
educated, industrialised, rich, and
democratic，即来自西方、受过教育、工业化、富裕、民主）群体。</li>
</ul>
<!--
封在时间胶囊
-->
<ul>
<li><p>萨满、僧侣或修士都很有系统地探索心智这片神秘的土地，并带回种种激动人心的故事，诉说着我们闻所未闻的意识状态，比如无上的宁静、极端的敏锐、无可比拟的感性，讲述着心智如何延展至无边无际、遁入一片虚空。</p></li>
<li><p>蝙蝠活在一个回声的世界里。就像人类的世界认为每个物品都有代表性的外形及颜色，蝙蝠的世界则认为每个物品都有专属的回声模式。仅从某只飞蛾纤纤翅膀反射的回声，蝙蝠就能判断这只飞蛾究竟是美食还是毒药。</p></li>
<li><p>回声定位世界复杂和激烈的程度，并不亚于我们所熟悉的视觉及听觉世界，但我们就是全然未知。</p></li>
<li><p>关于心智的哲学，一篇经典之作就是《当蝙蝠的感觉如何？》（What Is
It Like to Be a Bat？）</p></li>
<li><p>智人之所以统治世界，并不是因为智人的情感更深刻或音乐体验更复杂。至少在某些体验领域里，智人确实可能不如鲸鱼、蝙蝠、老虎或鹈鹕。</p></li>
</ul>
<h3 id="我闻到恐惧的味道">我闻到恐惧的味道</h3>
<ul>
<li>到了第三个千年的开端，我们将会面临一种全新的挑战，自由人文主义被科技人文主义取代，而医学也越来越着重于让健康的人升级，而非治愈病人。</li>
</ul>
<p>现代人类已经患上 “错过恐惧症”（Fear Of Missing
Out，FOMO），总在担心自己错过了什么；虽然手中的选择比以往任何时候都多，但选了之后又很难全心全意对待。</p>
<p>抑郁的人常常想要的并不是简单的解决方案，而是希望有人能够聆听他们的想法、同情他们的恐惧和疑虑。</p>
<p>真正感情好的朋友会比较有耐心，不会急着找出解决方案，而是会聆听你的忧虑，给你时间和空间，好让种种矛盾的情绪和折磨人的焦虑一一浮现。</p>
<h3 id="科技人文主义的两难">科技人文主义的两难</h3>
<p>目前最耐人寻味的新兴宗教正是 “数据主义”（Dataism），它崇拜的既不是神也不是人，而是数据。</p>
<h2 id="数据主义">数据主义</h2>
<ul>
<li><p>数据主义指出，同样的数学定律同时适用于生化算法及电子算法，于是让两者合而为一，打破了动物和机器之间的隔阂，并期待电子算法终有一天能够解开甚至超越生化算法。</p></li>
<li><p>根据这种观点，自由市场资本主义和国家控制共产主义就不是意识形态、伦理教条或政治制度上的竞争，而根本是不同数据处理系统间的竞争。资本主义采用分散式处理，而苏联式共产主义则是集中式处理。资本主义让所有的生产者和消费者直接相连，并允许他们自由交换信息、独立做出决定来处理数据。</p></li>
<li><p>正如奥地利经济学家弗里德里希・哈耶克（Friedrich
Hayek）所说：“在一个把相关事实的知识分散给许多人的系统中，可以靠价格协调不同人各自的独立行动。”</p></li>
<li><p> 苏联及东欧可说是尽力逼近。它们放弃了分散式数据处理的原则，转换为集中式数据处理，苏联各地的所有信息都流向莫斯科一处，也是由莫斯科做出所有重大决定。生产者和消费者无法直接沟通，而且必须服从政府的命令。</p></li>
<li><p>资本主义能够赢得 “冷战”，是因为至少在这个科技加速改变的时期，分散式数据处理的效果就是比集中式数据处理更好。20
世纪末期的世界变化实在太快，<strong>苏联共产党中央委员会</strong>无法处理。像这样把所有数据都集中起来、所有重大决策都由一群官员决定，虽然能够生产出原子弹，却绝不可能打造出苹果或维基百科。</p></li>
</ul>
<h3 id="所有的权力都去了哪儿">所有的权力都去了哪儿？</h3>
<ul>
<li><p>在未来几十年间，我们很可能还会看到更多类似互联网的革命，而科技会抢走政治的所有风头。人工智能和生物科技可能即将彻底变革人类社会和经济，甚至是人类的身体和心智，但当前的政治对此却几乎毫无警觉。现今民主制度收集和处理相关数据的速度太过缓慢，而且大多数选民对生物学和控制论（cybernetics）的认识也不足，无法形成切中要点的意见。因此，传统民主政治正逐渐失去控制，也提不出有意义的未来愿景。</p></li>
<li><p>正因为科技进步如此迅速，不论议会还是独裁者都被来不及处理的数据压得喘不过气，现今政治人物的眼界，要比一个世纪前狭窄太多。于是，到了
21
世纪早期，政治已不再有宏伟愿景，政府就只剩下行政功能，维持着国家现状，却不再能够带领人民向前。</p></li>
<li><p>许多新自由主义经济学家和政治学家认为，所有重大决策最好都交给自由市场来决定，结果这就成了政客无为和无知的借口，还认为这种做法是大智慧。对政客来说，反正一切交给市场就好，自己何必要懂这个世界呢？这可真是太方便啦！</p></li>
<li><p>之所以不该将未来完全交给市场力量来决定，是因为<strong>这些力量造成的结果可能只利于市场，而不见得有利于人类或全世界</strong>。市场那只手不仅人类看不见，而且它本身也是盲目的。如果完全不加约束，面对类似全球变暖的威胁或人工智能的潜在危险时，市场就有可能毫无作为。</p></li>
<li><p>权力真空的状况并不会持续太久。如果传统政治结构在 21 世纪无法迅速处理数据，形成有意义的愿景，就会出现更有效率的新结构，取代它们的地位。这些新的结构可能完全不同于任何先前的政治制度，既非民主，也非专制。这里唯一的问题，就是由谁来建立并控制这些结构。</p></li>
</ul>
<h3 id="人类历史是数据处理过程">人类历史是数据处理过程</h3>
<h3 id="信息渴求自由">信息渴求自由</h3>
<ul>
<li>数据主义不只是空谈理论，而是像每一种宗教一样都拥有实际的诫命。
<ul>
<li>最重要的第一条诫命，就是<strong>数据主义者要连接越来越多的媒介，产生和使用越来越多的信息，让数据流最大化</strong>。</li>
<li>第二条诫命，就是要把一切连接到系统，就连那些不想连入的异端也不能例外。</li>
</ul></li>
<li>信息不再流通，与死亡有何异？因此对数据主义来说，信息自由就是最高的善。</li>
</ul>
<h3 id="记录上传分享">记录，上传，分享！</h3>
<ul>
<li><p>有些人其实很愿意成为数据流的一部分，就算这代表着放弃隐私、自主性和个别性，他们觉得这无伤大雅。</p></li>
<li><p>随着全球数据处理系统变得全知全能，“连接到这个系统” 也就成了所有意义的来源。人类之所以想要融入这个数据流，正是因为只要成为数据流的一部分，你就会加入一个比自己更伟大的计划。</p></li>
<li><p>至于现在的数据宗教则说，你说的每个字、你的每个举动，都是伟大数据流的一部分，算法一直看着你，也在意你的所有想法与感受。</p></li>
<li><p>人文主义认为所有的体验发生在我们心中，我们要从自己的心里找出一切事物的意义，进而为宇宙赋予意义。数据主义则认为，体验不分享就没有价值，而且我们并不需要（甚至不可能）从自己心里找到意义。我们该做的，就是要记录自己的体验，再连接到整个大数据流中，接着算法就会找出这些体验的意义，并告诉我们接下来该怎么做。</p></li>
<li><p>我们必须向自己和系统证明自己仍然有价值，而且价值不在于单纯拥有体验，而在于能将体验转化为自由流动的数据。</p></li>
</ul>
<h3 id="认识你自己">认识你自己</h3>
<ul>
<li><p>数据主义对人类的体验并没有什么恶意，只是并不认为体验在本质上有何价值。</p></li>
<li><p>在《黑客帝国》（Matrix）里，主角原本完全被超级计算机玩弄于掌心，被邪恶的机器人射了满满一轮子弹，但受到爱人的启发，就忽然大显神威，彻底扭转局势。</p></li>
<li><p><strong>你的感觉正是几百万祖先的声音，而且他们都撑过了严酷的环境，成功生存和繁衍下来</strong>。</p></li>
<li><p>随着机器学习和人工神经网络兴起，有越来越多算法会独立进化、自我改进、从自己的错误中学习。这些算法分析的数据量是天文数字，绝非人力可及，而且<strong>它们也能找出人类找不出的模式</strong>，采用人类想不到的策略。最早的种子算法或许是由人类开发的，但算法逐渐发展，就会走出自己的路，前往人类未曾踏足之地，而且人类也无力追寻。</p>
<ul>
<li>可怕的是，算法自我升级。</li>
</ul></li>
</ul>
<h3 id="数据流里的一片涟漪">数据流里的一片涟漪</h3>
<ul>
<li>这个世界的变化速度比以往更快，而我们又已被海量的数据、想法、承诺和威胁所淹没。人类正逐渐将手中的权力交给自由市场、集体智慧和外部算法，部分原因就在于人类无力处理大量数据。过去想阻挡思想言论，做法是阻挡信息流通。但到了
21
世纪<strong>想阻挡思想言论，反而靠的是用不相关的信息把人淹没</strong>。
<ul>
<li>比如延迟退休的消息，混在明星出轨的八卦中，没有太多人关注。</li>
</ul></li>
<li>在古代，力量来自有权获得资料。而到今天，力量却是来自知道该忽略什么。</li>
</ul>
<!--
中国经济增长放缓

这原来是大家共同的看法啊
-->
<ul>
<li>如果把视野放大到整个生命，其他的问题或发展的重要性，都比不过以下三项彼此息息相关的发展：</li>
</ul>
<ol type="1">
<li>科学正逐渐聚合于一个无所不包的教条，也就是认为所有生物都是算法，而生命则是进行数据处理。</li>
<li>智能正与意识脱钩。</li>
<li>无意识但具备高度智能的算法，可能很快就会比我们更了解自己。</li>
</ol>
<!--
内观禅修（Vipassana meditation）的技巧
-->
<p>感谢戴维・米尔纳（David
Milner），他绝佳的编辑功力帮助我减少了许多丢脸的错误，并提醒我键盘上最重要的键可能就是 “Del“.</p>
]]></content>
      <categories>
        <category>Reading</category>
      </categories>
      <tags>
        <tag>History</tag>
      </tags>
  </entry>
  <entry>
    <title>解读 A Peer-to-Peer Electronic Cash System</title>
    <url>/BTC/A-Peer-to-Peer-Electronic-Cash-System/</url>
    <content><![CDATA[<p>[toc]</p>
<!--
解读 Bitcoin: A Peer-to-Peer Electronic Cash System
-->
<p>在 2008 年，比特币创始人 中本聪 (Satoshi Nakamoto)
发表了这篇可以载入史册的论文 - 比特币：一种点对点的电子现金系统
(Bitcoin: A Peer-to-Peer Electronic Cash
System)，讲述了比特币是如何产生和工作的。</p>
<p>官网下载链接是 <a href="https://bitcoin.org/en/bitcoin-paper">white
paper</a>，其中有多种语言的翻译版。建议有英文阅读能力的同学，优先选择英文原版阅读。</p>
<p>比特币涉及到计算机原理、密码学、概率学等复杂的知识。如果想彻底搞懂比特币原理，光看这一篇论文显然是不够的，还需要大量的衍生阅读。这篇文章的起点门槛比较高，但是这篇文章是学习比特币原理，最权威、第一手的资料，能让你对比特币的设计原理有大体的了解，体会
中本聪 设计比特币的初衷。</p>
<p>如果你想参与比特币等数字货币的交易，那么欢迎移步阅读我的另一篇教程文章
- <a href="http://waylon.one/monthly-skills/buy-one-bitcoin/">购买自己的第一枚数字货币</a>。</p>
<h1 id="abstract">Abstract</h1>
<p>中本聪设计比特币的目的：通过构建完全点对点技术，实现一种电子货币，达到<strong>无需金融中介</strong>，<strong>无需双方信任</strong>的情况下，实现在线的电子化支付。</p>
<blockquote>
<p>A purely peer-to-peer version of electronic cash would allow online
payments to be sent directly from one party to another without going
through a financial institution.</p>
</blockquote>
<p>论文的主要成就：使用点对点的技术，在不依赖第三方交易平台 (financial
institution, a trusted third party)
的情况下，利用区块链技术，实现了去中心化的目的，解决了双重支付
(double-spending) 问题。</p>
<blockquote>
<p>Digital signatures provide part of the solution, but the main
benefits are lost if a trusted third party is still required to prevent
double-spending. We propose a solution to the double-spending problem
using a peer-to-peer network.</p>
</blockquote>
<p>中本聪通过数字签名 (digital signatures)，随机散列，哈希算法
(hash)，工作量证明 (proof-of-work, POW)，动态链式存储 (ongoing chain)
等技术，设计了一系列的机制，使比特币能够解决电子支付中的双花难题
(double-spending)，记录篡改等问题，并最终通过严密的数学论证，证明该系统安全有效，稳定可行。</p>
<h1 id="introduction">Introduction</h1>
<p>目前互联网贸易越来越依赖金融机构作为可信任的第三方，那么完全的不可撤销交易实际上是不存在的；那么对不可撤销服务进行支付将需要更大的成本，比如索取付款方更多的个人信息，我们迫切需要在不引入一个可信任方而能在通信通道上进行支付的机制。</p>
<p>本文提出一个基于密码学原理，而不是信任的电子支付系统，该系统允许任何有意愿的双方能直接交易而不需要一个可信任第三方。</p>
<blockquote>
<p>What is needed is an electronic payment system based on cryptographic
proof instead of trust, allowing any two willing parties to transact
directly with each other without the need for a trusted third party.</p>
</blockquote>
<p>本文提出的比特币系统，具有以下三个优点： -
基于密码学原理，而不是信任来建立支付系统。 * based on cryptogtaphic
proof instead of trust - 不需要引入第三方金融机构。 * without third
party financial institutions - 交易不可逆。 * no reverse
transactions</p>
<h1 id="transactions">Transactions</h1>
<!--
如何完成收付款，验证交易有效性，以及存储交易记录，是
-->
<p>我们定义一枚电子货币就是一条数字签名链。 &gt; We define an electronic
coin as a chain of digital signatures.</p>
<p>每个拥有者都通过将上一次交易和<strong>下一个拥有者的公钥</strong>的哈希值的<strong>数字签名</strong>添加到此货币末尾的方式将这枚货币转移给下一个拥有者。收款人可以通过验证数字签名来证实其为该链的所有者。</p>
<blockquote>
<p>Each owner transfers the coin to the next by digitally signing a hash
of the previous transaction and the public key of the next owner and
adding these to the end of the coin. A payee can verify the signatures
to verify the chain of ownership.</p>
</blockquote>
<p><img data-src="http://www.waylon.one/downloads/images/blog/BTC_WhitePaper_Signatures.PNG"></p>
<p>知识点：哈希（Hash）是将目标文本转换成具有<strong>相同长度</strong>的、<strong>不可逆</strong>的杂凑字符串（或叫做消息摘要），而加密（Encrypt）是将目标文本转换成具有<strong>不同长度</strong>的、<strong>可逆</strong>的密文。</p>
<p>到目前为止，有一个问题需要解决，那就是 "收款人不能证实拥有者之一没有对此货币进行双重支付"，也就是一份钱付给了两个人，这也是后面文章中要解决的主要问题。</p>
<blockquote>
<p>The problem of course is the payee can't verify that one of the
owners did not double-spend the coin.</p>
</blockquote>
<h1 id="timestamp-server">Timestamp Server</h1>
<p>时间戳服务器计算包含多个需要被打时间戳的数据项的区块的哈希值，并<strong>广泛地发布公开</strong>这个哈希值。</p>
<blockquote>
<p>A timestamp server works by taking a hash of a block of items to be
timestamped and widely publishing the hash.</p>
</blockquote>
<p>时间服务器，类似于一个交易编年史，把一次次交易按时间顺序记录下来，形成一个个区块链，并为公众所知晓。</p>
<h1 id="proof-of-work">Proof-Of-Work</h1>
<p>工作量证明要解决的问题：采取搜索一个数，使得被哈希时 (如使用
SHA-256)，得到的哈希值以数个 0 比特开始。</p>
<p>平均所需工作量将随所需 0
比特呈指数级增长，而验证却只需执行一次哈希。一般情况下，10 min
求解出一次答案，也就是挖矿的过程。</p>
<blockquote>
<p>The proof-of-work involves scanning for a value that when hashed,
such as with SHA-256, the hash begins with a number of zero bits. The
average work required is exponential in the number of zero bits required
and can be verified by executing a single hash.</p>
</blockquote>
<p>POW 约束：当前区块包含了上一区块的 hash
值，从而形成带时间戳、可验证的链式结构；一旦消耗了 CPU
算力使区块满足了工作量证明，那么除非重做这个工作否则就无法更改区块。由于后面的区块是链接在这个区块后面的，改变这个区块将需要重做所有后面的区块。</p>
<blockquote>
<p>Once the CPU effort has been expended to make it satisfy the
proof-of-work, the block cannot be changed without redoing the work. As
later blocks are chained after it, the work to change the block would
include redoing all the blocks after it.</p>
</blockquote>
<p>POW 特点：按 CPU 投票，解决了多数决定中的确定方式问题 (the problem of
determining representation in majority decision
making)。最长的链代表了多数决定，因为有最大的计算工作量证明的精力投入到这条链上。</p>
<blockquote>
<p>Proof-of-work is essentially one-CPU-one-vote. The majority decision
is represented by the longest chain, which has the greatest
proof-of-work effort invested in it.</p>
</blockquote>
<p>POW
算力限制：为了抵消<strong>硬件运算速度的增加</strong> (摩尔定律) 及平衡不同时期运行节点的利益，工作量证明的难度将由移动平均数法来确定每小时生成区块的平均数。如果区块生成得过快，那么生成的难度就会增加。</p>
<p>MC：BTC 是一个复杂系统，在设计之初，就详细考虑了方方面面。</p>
<blockquote>
<p>To compensate for increasing hardware speed and varying interest in
running nodes over time, the proof-of-work difficulty is determined by a
moving average targeting an average number of blocks per hour. If
they're generated too fast, the difficulty increases.</p>
</blockquote>
<h1 id="network">Network</h1>
<h2 id="分布式网络的运行步骤">分布式网络的运行步骤</h2>
<ol type="1">
<li>新交易向所有节点广播。</li>
</ol>
<!--
广播丢失了怎么办？
-->
<ol start="2" type="1">
<li>每个节点将新交易收集到一个区块。</li>
<li>每个节点为它的区块寻找工作量证明。</li>
<li>当一个节点找到了工作量证明，就向所有节点广播这个区块。</li>
<li>节点只有在区块内所有交易都是有效的且之前没有被支付的情况下接收这个区块。</li>
</ol>
<!--
验证工作量证明是否符合，没有被恶意篡改；验证没有付款方恶意的双重支付的问题。
-->
<ol start="6" type="1">
<li>节点通过使用这个区块的哈希值作为上一个哈希值，在链中创建下一个区块的方式表示对这个区块的接受。</li>
</ol>
<p>根据规定，节点总是认为最长的链为正确的并持续致力于延长它。</p>
<blockquote>
<p>Nodes always consider the longest chain to be the correct one and
will keep working on extending it.</p>
</blockquote>
<h2 id="网络的鲁棒性">网络的鲁棒性</h2>
<ol type="1">
<li>新交易的广播不必到达所有的节点。</li>
</ol>
<ul>
<li>只要到达一些节点，不久就会进入到一个区块。</li>
</ul>
<ol start="2" type="1">
<li>区块广播也是能容忍消息丢失的。</li>
</ol>
<ul>
<li>如果一个节点没有收到某个区块，它将在收到下一个区块时发现它丢失了一个区块然后去请求这个区块。</li>
</ul>
<blockquote>
<p>New transaction broadcasts do not necessarily need to reach all
nodes. As long as they reach many nodes, they will get into a block
before long. Block broadcasts are also tolerant of dropped messages. If
a node does not receive a block, it will request it when it receives the
next block and realizes it missed one.</p>
</blockquote>
<h1 id="incentive">Incentive</h1>
<h2 id="激励组成">激励组成</h2>
<p>我们约定，区块中的第一笔交易是特殊的交易，奖励区块创建者一枚属于 TA
的新货币
(挖矿收益)。这就增加了对支持网络的节点的激励，并提供了一种分发货币到流通领域的方法。
* BTC 消耗 CPU 计算时间和电力 (CPU time and electricity)
资源来稳定地增加新货币，替代了中心发币机构。</p>
<blockquote>
<p>By convention, the first transaction in a block is a special
transaction that starts a new coin owned by the creator of the block.
This adds an incentive for nodes to support the network, and provides a
way to initially distribute coins into circulation, since there is no
central authority to issue them.</p>
</blockquote>
<p>激励也可以由交易费充当。如果交易的输出值小于其输入值，差价就作为交易费被加到<strong>包含此交易的区块的激励</strong>中。一旦预定量的货币进入了流通领域，激励将变为只含有交易费，这样可以完全避免通货膨胀。</p>
<p>所以，区块奖励 = 区块新货币奖励 (若有，奖励逐渐减少) +
区块包含交易中的手续费奖励。</p>
<blockquote>
<p>The incentive can also be funded with transaction fees. If the output
value of a transaction is less than its input value, the difference is a
transaction fee that is added to the incentive value of the block
containing the transaction.</p>
</blockquote>
<p>激励会有助于鼓励节点保持诚实，遵守规则比破坏系统和他自己财产的有效性更有利。</p>
<blockquote>
<p>The incentive may help encourage nodes to stay honest. He ought to
find it more profitable to play by the rules, such rules that favour him
with more new coins than everyone else combined, than to undermine the
system and the validity of his own wealth.</p>
</blockquote>
<h1 id="reclaiming-disk-space">Reclaiming Disk Space</h1>
<p>一旦某个货币的最新交易已经被足够多的区块覆盖，这之前的支付交易就可以被丢弃以<strong>节省磁盘空间</strong>。
* 老的交易被哈希进默克尔树 (Merkle Tree)
(树枝内部的哈希不需要被保存)，只有根节点被纳入到区块的哈希值，那么老的区块可通过剪除树枝的方式被压缩，又不破坏区块的哈希值。</p>
<blockquote>
<p>Once the latest transaction in a coin is buried under enough blocks,
the spent transactions before it can be discarded to save disk
space.</p>
</blockquote>
<p>分布式存储可行性论证：每个不包含交易信息的区块头大约是 80
bytes。如果每 10 分钟生成一个区块，每年生成 80 bytes * 6 * 24 * 365 =
4.2 MB。</p>
<blockquote>
<p>A block header with no transactions would be about 80 bytes. If we
suppose blocks are generated every 10 minutes, 80 bytes * 6 * 24 * 365 =
4.2MB per year.</p>
</blockquote>
<h1 id="simplified-payment-verification">Simplified Payment
Verification</h1>
<p>不运行一个完整的网络节点也是可以进行支付验证的。用户只需拥有一个最长工作量证明链的区块头副本，他可以通过向其他网络节点查询以确认他拥有了最长的链，并获取链接该交易到给交易打时间戳区块的默克尔分支。</p>
<blockquote>
<p>It is possible to verify payments without running a full network
node. A user only needs to keep a copy of the block headers of the
longest proof-of-work chain, which he can get by querying network nodes
until he's convinced he has the longest chain, and obtain the Merkle
branch linking the transaction to the block it's timestamped in.</p>
</blockquote>
<p>虽然收款方自己不能核实这个交易
(零知识证明)，但如果交易已经链接到链中的某个位置，就说明一个网络节点已经接受了此交易，而其后迫加的区块进一步确认网络已经接受了它。</p>
<blockquote>
<p>He can't check the transaction for himself, but by linking it to a
place in the chain, he can see that a network node has accepted it, and
blocks added after it further confirm the network has accepted it.</p>
</blockquote>
<p>缺陷：同样地，只要诚实节点控制着网络，这种简化验证就是可靠的；如果网络被攻击者控制，简化验证
(SPV)
会变得比较脆弱。虽然网络节点可以验证他们自己的交易，但只要攻击者持续控制网络那么这种简化的方法就可能被攻击者的伪造交易欺骗。比如，SPV
钱包 (轻钱包) 存在一定的安全隐患。</p>
<blockquote>
<p>As such, the verification is reliable as long as honest nodes control
the network, but is more vulnerable if the network is overpowered by an
attacker.</p>
</blockquote>
<p>为了更加独立的安全性以及更快的支付确认，收款频繁的公司可能仍需运行他们自己的节点。</p>
<blockquote>
<p>Businesses that receive frequent payments will probably still want to
run their own nodes for more independent security and quicker
verification.</p>
</blockquote>
<h1 id="combining-and-splitting-value">Combining and Splitting
Value</h1>
<p>为允许交易额被分割和合并，交易将包含多个输入值和输出值。
通常是一个从之前交易而得的较大输入值或多个较小输入值的组合，以及最多两个输出值：一个作为支付，另一个作为找零，如果有的话，退还给支付发送方。</p>
<blockquote>
<p>To allow value to be split and combined, <strong>transactions contain
multiple inputs and outputs</strong>. Normally there will be either a
single input from a larger previous transaction or multiple inputs
combining smaller amounts, and <strong>at most two outputs</strong>: one
for the payment, and one returning the change, if any, back to the
sender.</p>
</blockquote>
<h1 id="privacy">Privacy</h1>
<h2 id="如何保护隐私">如何保护隐私？</h2>
<p><img data-src="http://www.waylon.one/downloads/images/blog/BTC_WhitePaper_Privacy.PNG"></p>
<p>如上图，不同于传统的银行模型 (通过限制参与方和可信任第三方对信息的访问来达到一定级别的隐私)，BTC
交易通过保持<strong>公钥匿名</strong> (public keys anonymous)
来保证用户信息的隐私。 *
公众能看到有人正在发送一定量货币给其他人，但是不能将交易关联到某个人，可以类比于证券交易。</p>
<!--
![BTC_WhitePaper_Privacy](AEF5223F2C6D43BE8BCDEE3DF6317CF1)
-->
<blockquote>
<p>The necessity to announce all transactions publicly precludes this
method, but privacy can still be maintained by breaking the flow of
information in another place: by keeping public keys anonymous. The
public can see that someone is sending an amount to someone else, but
without information linking the transaction to anyone.</p>
</blockquote>
<h2 id="又一层隐私保障">又一层隐私保障</h2>
<p>作为额外的防火墙，对每笔交易使用<strong>新密钥</strong> (new key
pair) 对可以防止他们被关联到一个共同的拥有者。</p>
<blockquote>
<p>As an additional firewall, a new key pair should be used for each
transaction to keep them from being linked to a common owner.</p>
</blockquote>
<p>新秘钥泄露隐私风险：由于多输入值交易存在，有些关联仍不可避免，因为<strong>多输入值交易必然暴露其多个输入是属于同一个拥有者的</strong>。风险就在于如果一个密钥的拥有者被暴露，关联性将暴露其他属于同一个拥有者的交易。所以，BTC
交易虽然是支持匿名的，但是不能杜绝通过关联性来获知用户<strong>交易信息</strong>。</p>
<blockquote>
<p>Some linking is still unavoidable with multi-input transactions,
which necessarily reveal that <strong>their inputs were owned by the
same owner</strong>. The risk is that if the owner of a key is revealed,
linking could reveal other transactions that belonged to the same
owner.</p>
</blockquote>
<h1 id="calculations">Calculations</h1>
<h2 id="攻击者的收益">攻击者的收益</h2>
<p>假设一个攻击者生成一条比诚实链更快的替代链，那么系统也不会变得可以任意修改。这种情况下，攻击者既不能凭空创建货币，也拿不走不属于他的钱，因为<strong>网络节点将不会接受无效的交易作为支付，而且诚实节点永远不会接受一个包含无效交易的区块</strong>。<strong>攻击者只可能改变他自己的某笔交易来拿回他不久前已经支出的钱</strong>。</p>
<!--
有没有一种可能，攻击者根本不是为了盈利，而是破坏系统，破坏数学的信任感。
-->
<blockquote>
<p>An attacker can only try to change one of his own transactions to
take back money he <strong>recently</strong> spent.</p>
</blockquote>
<p>攻击者从某一落后位置赶上诚实链的概率类似于赌徒破产理论 (a Gambler's
Ruin problem)，本节主要建立概率模型来估算攻击者赶上诚实链的概率。</p>
<blockquote>
<p>The probability of an attacker catching up from a given deficit is
analogous to a Gambler's Ruin problem.</p>
</blockquote>
<p>省略数学推导及证明...</p>
<p>概率证明的结论：攻击者的虚假链能赶上 z 个诚实区块的概率，随 z
的增长呈指数下降。</p>
<h1 id="conclusion">Conclusion</h1>
<p>我们已经提出了一种<strong>不依赖信任</strong>的电子交易系统。我们从通用的数字签名货币体系开始，这体系提供了<strong>强有力的所有权控制</strong>，但由于缺乏防止双重支付的方法而不完善。</p>
<p>为解决这个问题，我们提出<strong>一种使用工作量证明来记录公共交易历史的点对点网络</strong>，只要诚实节点控制了多数的
CPU 算力，对于对攻击者，交易历史将很快变得在计算上不可更改。</p>
<p>网络因其结构简洁性而健壮。节点只需很少的协调就能同时工作。它们不需要被认证，因为信息不会被发送到某个特殊的位置，<strong>只需被尽力传播</strong>。节点可以随时离开和重新加入网络，只需接受最长的工作量证明链作为它们离开时发生事件的证据。</p>
<p>节点使用 CPU
算力来投票，通过致力于延长有效区块来表达对其接受，通过拒绝在无效区块上工作来表达对其抵制。任何需要的规则和激励都可通过这个共识机制来加强。</p>
<blockquote>
<p>We have proposed a system for electronic transactions without relying
on trust. We started with the usual framework of coins made from digital
signatures, which provides strong control of ownership, but is
incomplete without a way to prevent double-spending. To solve this, we
proposed a peer-to-peer network using proof-of-work to record a public
history of transactions that quickly becomes computationally impractical
for an attacker to change if honest nodes control a majority of CPU
power. The network is robust in its unstructured simplicity. Nodes work
all at once with little coordination. They do not need to be identified,
since messages are not routed to any particular place and only need to
be delivered on a best effort basis. Nodes can leave and rejoin the
network at will, accepting the proof-of-work chain as proof of what
happened while they were gone. They vote with their CPU power,
expressing their acceptance of valid blocks by working on extending them
and rejecting invalid blocks by refusing to work on them. Any needed
rules and incentives can be enforced with this consensus mechanism.</p>
</blockquote>
<p>我的评价：BTC
系统是站在巨人的肩膀上实现，是一种去中心化，分布式的的经济学。首先，数字签名货币体系是已经通用的，但是有明显的双重支付缺陷没有被很好地解决。基于工作量证明的已有研究，作者提出
P2P 交易记账系统，根据 CPU 算力来模拟投票 和
筛选出诚实节点，并且把最长的工作量证明链作为交易账单；各个节点通过致力于延长有效区块来表达对其接受，通过拒绝在无效区块上工作来表达对其抵制；通过挖矿奖励的形式，鼓励了数字货币交易的普及，以及各节点的记账积极性。</p>
<p>论文构建的区块链模型，给科技界带来了一种思想变革，必将颠覆一些行业；BTC
只是区块链的一个应用，而不只是区块链的全部。</p>
<h1 id="references">References</h1>
<ul>
<li><a href="https://explorer.btc.com/btc/home">BTC 浏览器</a></li>
<li><a href="https://www.blockchain.com/explorer?utm_campaign=dcomnav_explorer">BTC
交易浏览器</a></li>
<li><a href="https://www.bilibili.com/video/BV1Hh411Z7id">读懂比特币白皮书，区块链开山之作，中本聪到底说了什么？</a>
<ul>
<li>非常好的视频讲解，带你快速了解白皮书。</li>
</ul></li>
</ul>
]]></content>
      <categories>
        <category>BTC</category>
      </categories>
      <tags>
        <tag>Paper</tag>
        <tag>BTC</tag>
      </tags>
  </entry>
  <entry>
    <title>解读 Baidu Apollo EM Motion Planner</title>
    <url>/Autonomous-Driving/Baidu-Apollo-EM-Motion-Planner/</url>
    <content><![CDATA[<p>[toc]</p>
<p><strong>解读 Baidu Apollo EM Motion Planner</strong></p>
<p>论文由百度 Apollo 的 PNC 工程师撰写，于 2018 年发布在 arxiv 上 <a href="http://arxiv.org/abs/1807.08048">文章链接</a>。</p>
<p>现在看来 (2021 年)，这篇论文属于 Apollo
系统<strong>规划与决策模块</strong>的白皮书，文章介绍的方法和思想，在现阶段
L4
级别自动驾驶开发中仍然具有广泛的适用性，对自动驾驶技术的普及和应用起到了积极推进作用。</p>
<p>我目前就职于某国内某自动驾驶创业公司，主要研究规划与决策领域的行为决策
(behavior/maneuver decision)，以下 ABC 代指目前所在公司的化名。</p>
<p>我在研读论文多次的基础上，基于目前的工作经验和设计实践，对文章的设计做一些个人的粗浅解读和评价，行家轻拍。欢迎大家在文章下留言赐教。</p>
<p>对于新手，建议在读论文前，先阅读 Case Study
这一章，了解文章在解决什么问题，以及大概是如何解决这个问题，这对文章的整体理解有帮助。</p>
<hr>
<h1 id="abstract">ABSTRACT</h1>
<p>Apollo 系统目标：工业级的 L4
自动驾驶系统，注重安全性、舒适度和可扩展性。</p>
<blockquote>
<p>The developed system aims to address the industrial level-4 motion
planning problem while considering safety, comfort and scalability.</p>
</blockquote>
<p>Apollo 开源代码地址：<a href="https://github.com/ApolloAuto/apollo">Apollo open source
autonomous driving platform</a>。</p>
<p>注意：Apollo
是一个 “伪开源”，公布出来的代码逻辑简单，更像是一个自动驾驶系统的空架子，和官方实际路测的代码是不一样的。</p>
<h1 id="introduction">INTRODUCTION</h1>
<p>The system covers multilane and single-lane autonomous driving in a
hierarchical manner: - 第一级：变道选择。The <strong>top layer</strong>
of the system is a <strong>multilane strategy</strong> that handles
lane-change scenarios by <strong>comparing lane-level
trajectories</strong> computed in parallel.</p>
<!--
  * 类比于 ABC公司的 maneuver select/arbitrator 
-->
<ul>
<li>第二级：车道内的轨迹优化和速度优化。Inside the lane-level trajectory
generator, it iteratively solves path and speed optimization based on a
Frenet frame.
<ul>
<li>For path and speed optimization, a combination of dynamic
programming and spline-based quadratic programming is proposed to
construct a scalable and easy-to-tune framework to handle traffic rules,
obstacle decisions and smoothness simultaneously.</li>
</ul></li>
</ul>
<hr>
<p>补充知识点：什么是 Frenet frame？</p>
<p>Frenet
坐标系通常使用道路的中心线作为参考线，使用参考线的<strong>切线向量</strong>和<strong>法线向量</strong>建立坐标系。</p>
<p>如下图所示，这个 S-D 坐标系即为 Frenet
坐标系，它以车辆自身为原点，坐标轴相互垂直，分为： 纵向
S：沿着参考线的方向； 横向 D：参考线的法向。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Frenet_coordination.jpg"></p>
<p>相比于笛卡尔坐标系，Frenet
坐标系可明显地简化问题。因为车辆在行驶中，自车基于参考线 (道路中心线) 的位置，就可以使用纵向距离和横向距离来描述，同时纵向和横向的速度、加速度、加加速度等信息直接和道路相关；在车道保持和换道过程中都具有很强的实用性。</p>
<!--
From http://blog.sina.com.cn/s/blog_86186c970102yhrh.html
-->
<hr>
<!--
![系统架构设计](WEBRESOURCE53447e28972063eb3a12a0cf9e17d4e1)
-->
<p><img data-src="http://www.waylon.one/downloads/images/blog/onboard_module_of_Apollo.JPG"></p>
<blockquote>
<p>In the figure, the HD map module provides a high-definition map that
can be accessed by every on-line module. Perception and localization
modules provide the necessary dynamic environment information, which can
be further used to predict future environment status in the prediction
module. The motion planning module considers all information to generate
a safe and smooth trajectory to feed into the vehicle control
module.</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[safety]--&gt;B(traffic regulations)</span><br><span class="line">A--&gt;C(range coverage)</span><br><span class="line">A--&gt;D(cycle time efficiency)</span><br><span class="line">A--&gt;E(emergency safety)</span><br><span class="line">C--&gt;F(we aim to provide a trajectory with at least an eight second or two hundred meter motion planning trajectory)</span><br></pre></td></tr></tbody></table></figure>
<p><img data-src=""></p>
<p>在运动规划中，最重要的两个指标是安全 (safety) 和乘坐体验 (ride
experience)。</p>
<p>关于安全性，主要从交通规则 (traffic regulations)，场景覆盖范围 (range
coverage)，周期规划效率 (cycle time efficiency) 和紧急安全 (emergency
safety) 四个方面考虑。</p>
<blockquote>
<p>In motion planner, safety is always the top priority. We consider
autonomous driving safety in, but not limited to, the following aspects:
traffic regulations, range coverage, cycle time efficiency and emergency
safety.</p>
</blockquote>
<!--
在紧急模式下，自动驾驶系统可以在 100 ms 内就反应，而正常驾驶员需要至少 300ms 的反应时间。

> In the case of an emergency, the system could react within 100 ms, compared with a 300 ms reaction time for a normal human driver.
-->
<p>关于乘坐体验，主要从场景覆盖 (scenario coverage)，交通规则 (traffic
regulation) 和舒适度 (comfort，比如自车加速度和 Jerk) 三方面着手。</p>
<blockquote>
<p>In addition to safety, passengers’ ride experience is also important.
The measurement of ride experience includes, but is not limited to,
scenario coverage, traffic regulation and comfort.</p>
</blockquote>
<!--

# 学习语法表达
First, the search space is expanded across multiple lanes, which causes the algorithm to be **computationally expensive**.

it is not easy to apply traffic regulations under the same frame.

-->
<h2 id="multilane-strategy">Multilane Strategy</h2>
<p>运动规划的注意点之一：自车的决策应该尽量稳定，以方便其他交通参与者预测自车的意图。如果自车在正常行驶过程中，和其他车辆交互决策不稳定 (如障碍物误感) 带来的急刹车，容易造成后方车辆制动不及时而发生追尾。</p>
<!--
ABC 公司的设计中，曾发生自车急刹，被后方车辆追尾的情况。
-->
<blockquote>
<p>It is important to follow consistent on- road driving behavior to
inform other drivers of the intention of the autonomous driving
vehicle.</p>
</blockquote>
<p>变道策略需要能处理主动变道 ( routing
规划) 和被动变道 (道路前方被堵塞) 两种情况，通常变道成功率 (success rate)
会作为变道质量的一个重要衡量指标。</p>
<blockquote>
<p>Typically, a multilane strategy should cover both nonpassive and
passive lane-change scenarios. * In EM planner, a nonpassive lane-change
is a request triggered by the routing module for the purpose of reaching
the final destination. * A passive lane change is defined as an ego car
maneuver when the default lane is blocked by the dynamic
environment.</p>
</blockquote>
<p>文中提到的做法是对主动变道和被动变道进行并行计算 (parallel
framework)。 * 对所有的候选车道，以车道级别 (lane-level)
进行交通规则、车道内障碍物的分析，那么每个车道都会生成一个最可行的轨迹
(best-possible trajectory)。最后，一个 cross-lane trajectory decider
会基于安全性和代价函数两方面来选择车道。</p>
<blockquote>
<p>We propose a parallel framework to handle both passive and nonpassive
lane changes. For candidate lanes, all obstacles and environment
information are projected on lane-based Frenet frames. Then, the traffic
regulations are bound with the given lane-level strategy. Under this
framework, each candidate lane will generate a best-possible trajectory
based on the lane-level optimizer. Finally, a cross-lane trajectory
decider will determine which lane to choose based on both the cost
functional and safety rules.</p>
</blockquote>
<!--
类比于 ABC 公司的 lane sequence。
-->
<h1 id="path-speed-iterative-algorithm">Path-Speed Iterative
Algorithm</h1>
<p>大多数自动驾驶软件运动规划的做法是，沿着车道参考线 (reference
line，通常是从高精度地图中得到车道中心线) 把单车道问题转化为 Frenet
frames with time (SLT) 问题。其中，S 指 Frenet 坐标系下的纵向，L
指横向，T 指代时间。</p>
<blockquote>
<p>Many autonomous driving motion planning algorithms are developed in
Frenet frames with time (SLT) to reduce the planning dimension with the
help of a reference line.</p>
</blockquote>
<p>如何在 Frenet 中找到最优轨迹是一个 3D (S+L+T)
约束优化问题，文章中提到两种做法的路线之争。在我看来，现在工业界主流前沿的做法是第二种，第一种正在被逐渐淘汰。</p>
<blockquote>
<p>Finding the optimal trajectory in a Frenet frame is essentially a 3D
constrained optimization problem. There are typically two types of
approaches: direct 3D optimization methods and the path-speed decoupled
method. * [方法一：无脑优化采样] Direct methods attempt to find the
optimal trajectory within SLT using either trajectory sampling or
lattice search. + These approaches are limited by their search
complexity, which increases as both the <strong>spatial</strong> and
<strong>temporal</strong> search resolutions increase. To qualify the
time consumption requirement, one has to compromise with increasing the
search grid size or sampling resolution. Thus, the generated trajectory
is suboptimal.</p>
</blockquote>
<p><!--
    + ABC之前的做法是这样子的，但是后面逐渐被替换掉。
--></p>
<ul>
<li>[方法二：path-speed 解耦，先求 path，再解 speed] The path-speed
decoupled approach <strong>optimizes path and speed separately</strong>.
Path optimization typically considers static obstacles. Then, the speed
profile is created based on the generated path. <strong>It is possible
that the path-speed approach is not optimal with the appearance of
dynamic obstacles</strong>. However, since the path and speed are
decoupled, this approach achieves more flexibility in both path and
speed optimization.
<ul>
<li>一个负责问题，如果一旦可以分为几个小问题，或者之前已经解决的问题，那么问题整体难度就会降低下来。</li>
</ul></li>
</ul>
<h2 id="path-speed-decoupled-framework">Path-speed decoupled
framework</h2>
<ul>
<li>EM planner 分别迭代优化 path 和 speed。在 path
优化中，利用上一帧的速度 (speed profile from the last cycle)
来预估和低速对象障碍物的交互，然后基于生成的 path 来优化速度。
<ul>
<li>注意，实践中要减少对上一次规划轨迹的依赖。</li>
</ul></li>
</ul>
<blockquote>
<p>EM planner optimizes path and speed iteratively. The speed profile
from the last cycle is used to estimate interactions with
<strong>oncoming</strong> and <strong>low-speed dynamic
obstacles</strong> in the path optimizer. Then, the generated path is
sent to the speed optimizer to evaluate an optimal speed profile.</p>
</blockquote>
<p>这里补充一下，Path-speed decoupled 的方法对高速物体的 nudge
行为处理不友好；这里通过变道代替 nudge
来灵巧地避开这个缺陷问题，但是会引来频繁变道的风险。比如，一辆快速自行车和自车同行，自行车距离自车比较近，自车难道要变道来超过
(overtake) 这个自行车吗？</p>
<blockquote>
<p>For high-speed dynamic dynamic obstacles, EM planner prefers a
lane-change maneuver rather than nudging for safety reasons.</p>
</blockquote>
<h2 id="decisions-and-traffic-regulations">Decisions and Traffic
Regulations</h2>
<p>EM planner 先做出决策 (make
decisions)，再规划轨迹。决策可以输出清晰的自车意图，把非凸问题约束为凸问题，不仅减少寻找最优轨迹的搜索空间，而且允许使用凸优化问题的优化方法。</p>
<blockquote>
<p>In Apollo EM planner, we make decisions prior to providing a smooth
trajectory. The decision process is designed to make on-road intentions
clear and reduce the search space for finding the optimal
trajectory.</p>
</blockquote>
<p>决策的路线之争。</p>
<blockquote>
<p>Many decision-included planners attempt to generate vehicle states as
the ego car decision. These approaches can be further divided into
hand-tuning decisions and model-based decisions. *
[方法一：手写规则，扩展性差] The advantage of hand-tuning decision is
its tunability. However, scalability is its limitation. In some cases,
scenarios can go beyond the hand-tuning decision rule’s description. +
When considering dozens of obstacles, the decision behavior is difficult
to be accurately described by a finite set of ego car states.</p>
</blockquote>
<!--
这也是值得 reasoner 考虑的问题，如何避免负责的规则呢？比如机器学习反馈 risk 的程度。
-->
<ul>
<li>[方法二：基于模型的决策] The model-based decision approaches
generally discretize the ego car <strong>status</strong> into finite
driving statuses and use data-driven methods to tune the model.</li>
</ul>
<!--
# 多物体交互。按照 GJ 的说法，其他车可以利用自车的模型来预测轨迹。
The consideration of multi- agent interactions will benefit both prediction and decision-making processes.
-->
<p>Targeting level-4 autonomous driving, a decision module shall include
both <strong>scalability</strong> and
<strong>feasibility</strong>.<br>
* Scalability is the scenario expression ability (i.e., the autonomous
driving cases that can be explained). + 不要过拟合 (over-fit) 一个
issue，适用性差。 * For feasibility, we mean that the generated decision
shall include a feasible region in which the ego car can maneuver
<strong>within dynamic limitations</strong>. + Both hand-tuning and
model-based decisions do not generate a collision-free trajectory to
verify the feasibility. * 同意，decision
层并不会考虑是否能够生成轨迹，所以有些决策是无效的。</p>
<p>划重点：EM planner
的做法是先生成初略的轨迹来表示交互意图 (不受限于障碍物数量)；然后，生成一个有约束的凸走廊
(a convex feasible
space)，用<strong>凸优化</strong>的方法来求解优化轨迹。 * 目前，ABC
是先生成决策，然后决策作为约束，在 ST planner 中搜索粗略的轨迹，和 EM
的做法不一致。</p>
<blockquote>
<p>In EM planner’s decision step, we describe the behavior differently.
* First, <strong>the ego car moving intention is described by a rough
and feasible trajectory</strong>. Then, the interactions between
obstacles are measured with this trajectory. + This feasible
trajectory-based decision is scalable even when scenarios become more
complicated. * Second, the planner will also generate a <strong>convex
feasible space</strong> for <strong>smoothing spline parameters</strong>
based on the trajectory. + A quadratic-programming-based smoothing
spline solver could be used to generate smoother path and speed profiles
that follow the decision. This guarantees a feasible and smooth
solution.</p>
</blockquote>
<h1 id="em-planner-framework-with-multilane-strategy">EM PLANNER
FRAMEWORK WITH MULTILANE STRATEGY</h1>
<p>除了 lane-level motion planning 的具体实现方法不同，这章节数据流和
ABC 的实现非常类似，设计架构在工业界领先，可以重点参考。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/EM_framework.JPG"></p>
<ol type="1">
<li><p>在 Data Center 接受并同步数据。 &gt; all sources of information
are collected and synced at the <strong>data center
module</strong>.</p></li>
<li><p> 基于道路中心线，选择几条可行
lane，然后生成基于其中心线的障碍物投影信息 (SL 坐标描述)。</p></li>
</ol>
<blockquote>
<p>The reference line generator will produce some candidate lane-level
reference lines along with information about traffic regulations and
obstacles.</p>
</blockquote>
<ol start="3" type="1">
<li>lane-level optimizer module</li>
</ol>
<h1 id="em-planner-at-lane-level">EM PLANNER AT LANE LEVEL</h1>
<p>The iteration includes two E-steps and two M-steps <strong>in one
planning cycle</strong>. The trajectory information will iterate between
planning cycles.</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/EM_Iteration.JPG"></p>
<p>在两个 M-steps 中，通过 DP 和 QP 来生成 path 和 speed
profiles。请注意，在一个规划间隔内，planning
规划出一条可行的轨迹，需要迭代多次 EM planner，也就是运行多次 E-steps 和
M-steps.</p>
<blockquote>
<p>In two M-steps, path and speed profiles are generated by a
combination of dynamic programming and quadratic programming.</p>
</blockquote>
<hr>
<p>在第一步 E-step 中，静态和动态障碍物投影到车道的 Frenet
frame，准备进行 SL 的 path 规划。</p>
<blockquote>
<p>In the first E-step, obstacles are projected on <strong>the lane
Frenet frame</strong>. This projection includes both static obstacle
projection and dynamic obstacle projection. *
静态障碍物的投影：<strong>Static obstacles</strong> will be projected
directly based on a Cartesian-Frenet frame transformation. *
动态障碍物的投影 (负责)：Considering the previous cycle planning
trajectory, we can evaluate the estimated dynamic obstacle and ego car
positions <strong>at each time point</strong>. + The overlap of dynamic
obstacles and the ego car at each time point will be mapped in the
Frenet frame.</p>
</blockquote>
<!--    
在下一次规划中，使用了上一次的轨迹；这违背了自己对上次轨迹不能用到当前帧的信仰。下次可以和面试者讨论下。如果这一帧，自车的轨迹突变，怎么解决呢？这种依赖上一次的轨迹，可以解决吗？
-->
<p>出于安全考虑 (目前技术处理这类场景的安全性把握不大)，在 SL
投影中，只对低速 (low-speed traffic) 和对向 (oncoming)
动态障碍物使用；高速物体通过变道来解决。</p>
<blockquote>
<p>For safety considerations, the SL projection of dynamic obstacles
will only consider low-speed traffic and oncoming obstacles. For
high-speed traffic, EM planner’s parallel lane-change strategy will
cover the scenario.</p>
</blockquote>
<h3 id="如何把非凸问题转变为凸优化问题">如何把非凸问题转变为凸优化问题？</h3>
<ol type="1">
<li>DP 可以在障碍物投影后的非凸空间 (SL) 中找到一个初略 path
解，然后从这个初略解中得到针对障碍物的决策，比如 nudge，yield 还是
overtake。</li>
</ol>
<blockquote>
<p>Although we projected obstacles on SL and ST frames, the optimal path
and speed solution still lies in a non-convex space. Thus, we use
dynamic programming to first obtain a rough solution; meanwhile,
<strong>this solution can provide obstacle decisions such as nudge,
yield and overtake</strong>.</p>
</blockquote>
<!--
决策是在 path 的 DP 中决策的吗？
-->
<ol start="2" type="1">
<li>基于针对障碍物的决策，生成一个凸区域 (convex hull，凸包)，可供 QP
算法求解。</li>
</ol>
<blockquote>
<p>We use the rough decision to determine a convex hull for the
quadratic-programming-based spline optimizer.</p>
</blockquote>
<ol start="3" type="1">
<li>通过优化器在凸空间内求解。</li>
</ol>
<blockquote>
<p>The optimizer can find solutions within the convex hull.</p>
</blockquote>
<hr>
<p>待补充知识点：什么是非凸优化问题呢？</p>
<p>如何把一个非凸问题转变为可解问题呢？此处引用 Pony 的一篇技术分析文章
-- <a href="https://mp.weixin.qq.com/s?__biz=MzI5NTg2NDg3MA==&amp;mid=2247484857&amp;idx=1&amp;sn=e844f224f81a6a804e9daf0fd5f61f7e">应对复杂路况，自动驾驶如何规划它的下一步</a>
。</p>
<hr>
<h3 id="sl-and-st-mapping-e-step">SL and ST Mapping (E-step)</h3>
<!--
待补充知识点：ST 和 SL 投影是什么呢？
-->
<p>对于单车道而言，SL
投影是基于车道中心线；对于变道而言，中间涉及到至少两条单车道，两条车道的连接使用的是
G2 算法。</p>
<p>The SL projection is based on a G2 (continuous curvature derivative)
smooth reference line.</p>
<p>如何把动态障碍物转化到 SL 中？</p>
<p>参考上一次的自车规划轨迹 (last cycle
trajectory)，可以得到自车在指定时间上位于 S
方向上的位置，来预估和障碍物预测轨迹的相交处 (interactions)。 &gt; For
dynamic obstacles, we mapped the obstacles with the help of the last
cycle trajectory of the ego car. The last cycle’s moving trajectory is
projected on the Frenet frame to extract the station direction speed
profile. This will provide an estimate of the ego car’s station
coordinates <strong>given a specific time</strong>. The estimated ego
car station coordinates will help to evaluate the dynamic obstacle
interactions. + Once an ego car’s station coordinates have interacted
with an obstacle trajectory point with the same time, a shaded area on
the SL map will be marked as the estimated interaction with the dynamic
obstacle.</p>
<p>ST 投影帮助我们评估自车的速度轮廓 (speed profile)。因为在 ST
图中抠除障碍物占据的空间 (shaded
area)，剩余的空间其实是速度可行区间。</p>
<blockquote>
<p>ST projection helps us evaluate the ego car’s speed profile. The
remaining region is the speed profile feasible region.</p>
</blockquote>
<h3 id="m-step-dp-path">M-Step DP Path</h3>
<p>M-step path 的目标是找到优化的 path 轮廓，分为基于 DP 的决策和 QP
的路线规划，i.e. DP 得到决策，QP 进行轨迹规划。</p>
<blockquote>
<p>The M-step path optimizer optimizes the path profile in the Frenet
frame. * This is represented as finding an optimal function of lateral
coordinate w.r.t. station coordinate in nonconvex SL space (e.g.,
nudging from left and right might be two local optima). * The path
optimizer includes two steps: <strong>dynamic-programming-based path
decision</strong> and <strong>spline-based path planning</strong>.</p>
</blockquote>
<p>Path 动态规划提供了一个粗糙的 path 轮廓，包括可行的通道和障碍物的
nudge 决策。注意，生成的 path 轮廓是采样点连接起来的，不够精细。</p>
<!--
在path生成中决定是否 nudge
-->
<blockquote>
<p>The dynamic programming path step provides a rough path profile with
<strong>feasible tunnels</strong> and <strong>obstacle nudge
decisions</strong>.</p>
</blockquote>
<p><img data-src="http://www.waylon.one/downloads/images/blog/DP_structure_Fig_6.JPG"></p>
<p>The step includes a lattice sampler, cost function and dynamic
programming search. + Lattice Sampler: The <strong>lattice
sampler</strong> is based on a Frenet frame. Multiple rows of points are
first sampled ahead of the ego vehicle. Points between different rows
are smoothly connected by quintic polynomial edges. +
撒点的做法来搜索粗略路线，使用五次多项式来拟合平滑路线。 + Cost
Function: <strong>Each graph edge</strong> is evaluated by the summation
of cost functionals. We use information from the SL projection, traffic
regulations and vehicle dynamics to construct the functional. +
从障碍物，交通规则和车辆动力学三方面来计算每个连接边 (两个 lattice point
的连接线) 的代价。此处略过 cost 函数的设计。 + Dynamic Programming
Search: Edge costs are used to select a candidate path with the
<strong>lowest cost</strong> through a dynamic programming search. The
candidate path will also <strong>determine the obstacle
decisions</strong>.</p>
<h3 id="m-step-spline-qp-path">M-Step Spline QP Path</h3>
<p>Spline QP path 是上面 dynamic programming path 的进一步优化
(refinement)。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Spline_QP_Path.JPG"></p>
<p>在 dynamic programming path 中，基于选择路线的可行通道 (feasible
tunnel) 被确定下来就是一个凸优化问题，spline QP path
是在可行通道中产生一条平滑的路线。</p>
<blockquote>
<p>The spline QP path step is a refinement of the dynamic programming
path step. In a dynamic programming path, a feasible tunnel is generated
based on the selected path. Then, the spline-based QP step will generate
a smooth path within this feasible tunnel.</p>
</blockquote>
<p>在线性化的约束 (linearized constraint) 中，利用 QP spline solver
来求解优化目标函数 (objective function)，从而生成生成 spline QP
path。</p>
<blockquote>
<p>The spline QP path is generated by optimizing an objective function
with a linearized constraint through the QP spline solver.</p>
</blockquote>
<h4 id="目标函数组成">目标函数组成</h4>
<p>目标函数由平滑代价和引导线代价组成，其中引导线是上一步的 DP
path。</p>
<blockquote>
<p>The objective function of the QP path is a <strong>linear
combination</strong> of smoothness costs and guidance line cost. * The
guidance line in this step is the DP path. <strong>The guidance line
provides an estimate of the obstacle nudging distance</strong>.</p>
</blockquote>
<!--
![QP_path_objective_function](E3D91C46ED8648009D9B758630BC1510)
-->
<p><img data-src="http://www.waylon.one/downloads/images/blog/Path_QP_cost_function.JPG"></p>
<p>上述目标函数在 nudge 障碍物的距离和平滑性中做了平衡和取舍。</p>
<blockquote>
<p>The objective function describes the balance between nudging
obstacles and smoothness.</p>
</blockquote>
<h4 id="约束组成">约束组成</h4>
<p>约束由可行边界约束 (boundary constraints) 和自车动态性能约束 (dynamic
feasibility) 组成。</p>
<blockquote>
<p>The constraints in the QP path include boundary constraints and
dynamic feasibility. These constraints are applied on f(s), f’(s) and
f’’(s) at <strong>a sequence of station coordinates</strong> s0, s1,
..., sn.</p>
</blockquote>
<p>在 EM planner 中，使用自行车模型 (bicycle model)
来考虑自车的动力学特性；在规划阶段，把车辆模型简化为自行车模型，是一种比较通用的做法。</p>
<blockquote>
<p>In EM planner, the ego vehicle is considered under the bicycle
model.</p>
</blockquote>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/left_corner.jpg" alt="左上角约束推导图">
<figcaption aria-hidden="true">左上角约束推导图</figcaption>
</figure>
<p>上面的操作和近似转换是做什么呢？在横向 (lateral direction)
约束求解中，l = f (s)，因为 sin 不是线性的函数，所以使用 f (s)
的导数来替代 sin
函数。在允许一定误差的情况下，把一个非线性函数，转化为线性约束 (linear
constraints) 问题。</p>
<blockquote>
<p>To keep the boundary constraint convex and linear, we add two half
circles on the front and rear ends of the ego car.</p>
</blockquote>
<p>那么，现在已经把所有的约束化简为线性约束，问题就可以使用 quadratic
programming solver
来快速求解这个问题，效率更高。这就是<strong>数学的魅力啊</strong>！</p>
<blockquote>
<p>Since all constraints are linear with respect to spline parameters, a
quadratic programming solver can be used to solve the problem very fast.
* In addition to the boundary constraint, the generated path shall match
the ego car’s initial lateral position and derivatives. +
实现细节注意点：考虑车辆的初始状态。</p>
</blockquote>
<h2 id="m-step-dp-speed-optimizer">M-Step DP Speed Optimizer</h2>
<!--
(和 ABC 的 ST planner 比较通用)
-->
<p>在 ST 图中，使用 DP 算法生成一个速度轮廓 (speed profile)，即 v =
S (t)。</p>
<blockquote>
<p>The speed optimizer generates a speed profile in the ST graph, which
is represented as a station function with respect to time S(t).</p>
</blockquote>
<p>在 ST graph 中找最优 speed profile 是一个复杂的非凸问题。我们使用
dynamic programming 和 spline quadratic programming 在 ST
图中寻找一个平滑的速度轮廓 (非最优)。</p>
<p>同 Path planner，我们先利用 DP 算法搜索一个粗略的 speed
profile，把问题从非凸问题化简为凸问题；然后在有约束的情况下，沿着 speed
profile (guidance line)，使用 QP 算法来求解最优的速度解。</p>
<blockquote>
<p>We use dynamic programming combined with spline quadratic programming
to find a smooth speed profile on the ST graph.</p>
</blockquote>
<h3 id="dp-speed-框架">DP speed 框架</h3>
<p>The DP speed step includes a cost functional, ST graph grids and
dynamic programming search. The generated result includes a
<strong>piecewise</strong> linear speed profile, a feasible tunnel and
<strong>obstacle speed decisions</strong>.</p>
<p>待补充，obstacle speed decisions 是什么形式的决策呢？</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/DP_Speed_Optimizer.JPG"></p>
<p>首先，对整个 ST 图进行网格化处理，包括对障碍物进行网格化分割。 &gt;
obstacle information is first discretized into grids on the ST
graph.</p>
<p>类似于从网格中按时间递增顺序，搜索带约束的可行解，速度可以在网格上表示为
(s0, s1, ..., sn)，形状是锯齿形的。</p>
<blockquote>
<p>A piecewise linear speed profile function is represented as S = (s0,
s1, ..., sn) on the grids.</p>
</blockquote>
<p>Cost function 由三部分组成： - Velocity keeping cost: * This term
indicates that the vehicle shall follow the designated speed when there
are no obstacles or traffic light restrictions present. V^ref describes
the reference speed, which is determined by the road speed limits,
curvature and other traffic regulations. - Smoothness cost: * The
acceleration and jerk square integral describes the smoothness of the
speed profile. - Total obstacle cost: * The <strong>distances</strong>
of the ego car to all obstacles are evaluated to determine the total
obstacle costs.</p>
<p>DP 搜索时要注意车辆动力学限制；同时，可以根据运动学约束做剪枝
(pruning) 操作。</p>
<blockquote>
<p>The dynamic constraints include <strong>acceleration, jerk limits and
a monotonicity constraint</strong> since we require that the generated
trajectories do not perform backing maneuvers when driving on the road.
* Some necessary pruning based on vehicle dynamic constraints is also
applied to accelerate the process.</p>
</blockquote>
<hr>
<p>知识点，如何把导数问题简化为有限差分问题。</p>
<p>ai = ((si-si-1)/dt - (si-1 - si-2)/dt)/dt。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/finite_difference_method.JPG"></p>
<hr>
<h2 id="m-step-qp-speed-optimizer">M-Step QP Speed Optimizer</h2>
<p>因为锯齿形的线性速度轮廓不能满足运动学特性，所以使用 spline QP step
去填补这个空缺 (fill this gap)。</p>
<blockquote>
<p>Since the piecewise linear speed profile cannot satisfy dynamic
requirements, the spline QP step is needed to fill this gap.</p>
</blockquote>
<h3 id="spline-qp-speed-框架">Spline QP Speed 框架</h3>
<p>如下图所示，spline QP speed 是在满足路径单调性 (monotonicity
evaluated at designated points，不倒车), 交通规则 (traffic regulations,
可行通道) 和车辆运动学约束 (vehicle dynamic constraints)
的线性约束情况下，通过 cost
的方式获取最优的速度，同时考虑了速度平滑性和参考速度。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/Spline_QP_Speed_Optimizer.JPG" alt="Fig. 13">
<figcaption aria-hidden="true">Fig. 13</figcaption>
</figure>
<p>The spline QP speed step includes three parts: cost functional,
linearized constraint and spline QP solver.</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/Speed_QP_cost.jpg" alt="cost function">
<figcaption aria-hidden="true">cost function</figcaption>
</figure>
<p>The objective function is a balance between following the guidance
line and smoothness. The spline optimization is within the linearized
constraint.</p>
<p>After wrapping up the cost objective and constraints, the spline
solver will generate a smooth feasible speed profile.</p>
<!--

注意，重要的求解步骤，就是这么一笔带过了。如何进行 QP 的求解，是自己感兴趣的内容。

-->
<h2 id="notes-on-solving-quadratic-programming-problems">Notes on
Solving Quadratic Programming Problems</h2>
<h3 id="优化任务量">优化任务量</h3>
<p>一次优化过程中大概有一百个采样点，那么约束就多于 600 个。</p>
<blockquote>
<p>For safety considerations, we evaluate the path and speed at
approximately one-hundred different locations or time points.</p>
</blockquote>
<p>path 和 speed 的优化问题，由一个五项式表达出来，但是约束条件有 30
个之多；然后，使用 QP solver 来求解。</p>
<blockquote>
<p>For both the path and speed optimizers, we find that piecewise
quintic polynomials are good enough. The spline generally contains 3 to
5 polynomials with approximately 30 parameters. Thus, <strong>the
quadratic programming problem has a relatively small objective function
but large number of constraints</strong>.</p>
</blockquote>
<p>In addition to accelerating the quadratic programming, <strong>we use
the result calculated in the last cycle as a hot start</strong>. *
注意，在 EM
文章中，优先使用上一次的规划轨迹，不仅可以提高求解效率，同时容易和上一次的决策保持一致。</p>
<p>因为使用上一次的规划轨迹来求解，QP 问题可以平均在 3ms 内求解。</p>
<blockquote>
<p>The QP problem can be solved within 3 ms on average, which satisfies
our time consumption requirement.</p>
</blockquote>
<p>此处补充一下，QP 求解是轨迹规划耗时的重点，平均 3ms
不代表求解性能一定好，更需要关注耗时最差的情况，或者中位数的情况。 *
举个例子，假设在 100 次求解中，如果 99 次求解耗时均是 2 ms，只有一次耗时
102
ms，那么最坏的这次求解，会导致自车反应延迟，足以影响自动驾驶安全，但是平均时间是
3ms。这就是统计学描述的精妙。</p>
<h2 id="notes-on-non-convex-optimization-with-dp-and-qp">Notes on
Non-convex Optimization With DP and QP</h2>
<p>DP 和 QP 各有局限，结合起来一起解决非凸优化问题。</p>
<blockquote>
<p>DP and QP alone both have their limitations in the non-convex domain.
A combination of DP and QP will take advantage of the two and reach an
ideal solution.</p>
</blockquote>
<ul>
<li>DP: As described earlier in this manuscript, the <strong>DP
algorithm depends on a sampling step to generate candidate
solutions</strong>. Because of the restriction of processing time,
<strong>the number of sampled candidates is limited by the sampling
grid</strong>. Optimization within a finite grid yields a <strong>rough
DP solution</strong>. In other words, DP does not necessarily, and in
almost all cases would not, <strong>deliver</strong> the optimal
solution.
<ul>
<li>For example, DP could select a path that nudges the obstacle from
the left but not nudge with the best distance.</li>
<li>DP 方法受限于采样精度 (求解性能约束)，不能找出最优的结果。</li>
</ul></li>
<li>QP: Conversely, QP generates a solution based on the <strong>convex
domain</strong>. It is not available without the help of the DP step.
<ul>
<li>For example, if an obstacle is in front of the master vehicle, QP
requires a decision, such as nudge from the left, nudge from the right,
follow, or overtake, to generate its constraint. <strong>A random or
rule-based decision will make QP susceptible to failure or fall into a
local minimal</strong>.</li>
<li>QP 主要是解决凸优化问题，需要 DP 把非凸问题简化为凸优化问题。</li>
<li>目前，ABC's 的 stopping
constraints，并不是输出一个决策，而是输出一个约束到 ST 中，在 ST
中进行决策的优化。从而，决策上的约束，可以把一个非凸问题化简为凸优化问题。</li>
</ul></li>
<li>DP + QP: A DP plus QP algorithm will minimize the limitations of
both: (1) The EM planner first uses DP to search within a grid to reach
a rough resolution. (2) <strong>The DP results are used to generate a
convex domain and guide QP</strong>. (3) QP is used to search for the
optimal solution in the convex region that most likely contains global
optima.
<ul>
<li>ABC 目前使用 reasoner 把一个非凸问题转化为凸优化问题，reasoner
的输出就是凸问题的约束。</li>
</ul></li>
</ul>
<p>各家公司的做法，千差万别，本质上都是在求解一个优化问题，把非凸的问题转化为凸问题，最后优化求解。</p>
<h1 id="case-study">CASE STUDY</h1>
<p>EM planner 是一个轻量级决策 (light-decision) 的规划器。</p>
<p>Although most state-of-the-art planning algorithms are based on
<strong>heavy decisions</strong>, <strong>EM planner is a
light-decision-based planner</strong>. It is true that a
heavy-decision-based algorithm, or heavily rule-based algorithm, is
easily understood and explained. The disadvantages are also clear: it
may be trapped in corner cases (while its frequency is closely related
to the complexity and magnitude of the number of rules) and not always
be optimal. * 和 EM planner 相比，目前 ABC 做法的缺陷，在行为决策部分
(reasoner)，规则的痕迹太重了。那么，能否引入比较智能的算法或者架构，来解决这类约束呢？这也是自己下一步的努力方向。
* 自动驾驶不能通过重规则 (heavy-decision-based algorithm)
来实现，最好的做法还是通过优化来实现。</p>
<!--
These cases were exposed during the intense daily test routines in Baidu’s heavy-decision planning modules and solved by the latest light-decision planning module.

我推测，百度曾经也有一套规则痕迹偏重的做法，但是可能后期被抛弃。
-->
<p>这个示例中，进行了两次迭代 (两轮 EM
迭代)。通常，环境越复杂，计算迭代时间越复杂，所以优化问题是一个没有时间收敛上限的问题。</p>
<blockquote>
<p>In general, the more complicated the environment is, the the more
steps that may be required.</p>
</blockquote>
<p>建议在读论文前，先阅读 Case Study
这一章，了解文章在解决什么问题，以及如何解决这个问题，对文章的实现有初步了解。</p>
<h1 id="computational-performance">COMPUTATIONAL PERFORMANCE</h1>
<p>这篇文章把三维 (station-lateral-speed) 的问题，化简为两个二维问题
(station-lateral problem and station-speed
problem)，那么大大简化了计算复杂度。也就是，问题复杂度降维了。</p>
<blockquote>
<p>Because the three-dimensional station-lateral-speed problem has been
split into two two-dimensional problems, i.e., <strong>station-lateral
problem and station-speed problem</strong>, the computational complexity
of EM planner has been significantly decreased, and thus, this planner
is very efficient. <strong>It takes less than 100 ms on
average</strong>.</p>
</blockquote>
<p>从问题复杂度 O (n (M+N))
来分析求解效率，可以应用到论文中，具有学术的感觉。但是，为什么是 M
(后续车道) + N (障碍物数量) 呢？</p>
<blockquote>
<p>Assuming that we have n obstacles with M candidate path profiles and
N candidate speed profiles, the computational complexity of this
algorithm is <strong>O(n(M+N))</strong>.</p>
</blockquote>
<h1 id="conclusion">CONCLUSION</h1>
<p>在自动驾驶中，安全性 (safety) 和通行能力 (passability) 是关键问题
(critical issue)。如果规则太过严格，那么通过率必然会下降。</p>
<blockquote>
<p>One critical issue in autonomous driving vehicles is the challenge of
safety vs. passability. A strict rule increases the safety of the
vehicle but lowers the passability, and vice versa.</p>
</blockquote>
<p>EM planner described in this manuscript is also designed to solve the
<strong>inconsistency</strong> of potential decisions and planning,
while it also improves the passability of autonomous driving vehicles. *
通过复用上一次的决策 (hot
start)，如果环境不发生大的变化，决策容易和上一次的决策保持一致。 *
决策不稳定，也是目前 ABC 遇到的常见问题之一。</p>
<p>EM planner 把一个 3D 问题化简为 2 个 2D
问题，化繁为简，降低了问题难度，提高了求解效率。</p>
<blockquote>
<p>EM planner significantly reduces computational complexity by
transforming a three-dimensional station-lateral-speed problem into two
twodimensional station-lateral/station-speed problems. It could
significantly reduce the processing time and therefore increase the
interaction ability of the whole system.</p>
</blockquote>
<hr>
<p>最后，APPENDIX 2 中的 CONSTRAINED SMOOTHING SPLINE AND QUADRATIC
PROGRAMMING 一节，应用到了复杂的再生核希尔伯特空间 ( Reproducing kernel
Hilbert
space，RKHS)，复杂的证明过程已经超出了我的理解范围，等应用时再详细研究下。</p>
<blockquote>
<p>The spline QP path and speed optimizer uses the same constrained
smoothing spline framework. In this section, we formalize the smoothing
spline problem within the quadratic programming framework and linearized
constraints. Optimization with a quadratic convex objective and
linearized constraints can be rapidly and stably solved.</p>
</blockquote>
<h1 id="references">References</h1>
<ul>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzI5NTg2NDg3MA==&amp;mid=2247484857&amp;idx=1&amp;sn=e844f224f81a6a804e9daf0fd5f61f7e">应对复杂路况，自动驾驶如何规划它的下一步</a></li>
</ul>
<h1 id="表达学习">表达学习</h1>
<ul>
<li>Further safety design is beyond this manuscript’s scope.</li>
<li>Figure 15 is a hands-on example of how EM planner iterates
<strong>within and between planning cycles</strong> to achieve the
optimal trajectory.</li>
</ul>
]]></content>
      <categories>
        <category>Autonomous Driving</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Robotics</tag>
        <tag>Autonomous Driving</tag>
      </tags>
  </entry>
  <entry>
    <title>Getting started with Machine Learning</title>
    <url>/AI/Getting-started-with-machine-learning/</url>
    <content><![CDATA[<p>近年来互联网数据大爆炸，数据的丰富度和覆盖面远远超出人工可以观察和总结的范畴，而机器学习的算法能指引计算机在海量数据中，挖掘出有用的价值，也使得无数学习者为之着迷。</p>
<h1 id="机器学习是什么">机器学习是什么</h1>
<p>在我看来，机器学习研究的是计算机怎样模拟人类的学习行为，以获取新的知识或技能，并重新组织已有的知识结构使之不断改善自身。简单来讲，就是计算机从数据中学习出规律和模式，以应用在新数据上做预测的任务。</p>
<h1 id="机器学习关注什么问题">机器学习关注什么问题</h1>
<p>并非所有的问题都适合用机器学习解决 (比如逻辑清晰的问题用规则就能很高效和准确地处理)，也没有一个机器学习算法可以通用于所有问题。那么，机器学习，到底是关心和解决什么样的问题。</p>
<p>如果在 IT 行业 (尤其是互联网) 里溜达一圈，你会发现机器学习在以下热点问题中有广泛应用：</p>
<p><img data-src="/downloads/images/science/AI/IT_Applicances.webp"></p>
<p>从功能的角度分类，机器学习在一定量级的数据上，可以解决下列问题：</p>
<ul>
<li><p>分类问题：根据数据样本上抽取出的特征，判定其属于有限个类别中的哪一个。比如：垃圾邮件识别。</p></li>
<li><p>回归问题：根据数据样本上抽取出的特征，预测一个连续值的结果。比如：电影票房预测。</p></li>
<li><p>聚类问题：根据数据样本上抽取出的特征，让样本抱团 (相近 / 相关的样本在一团内)。比如：新闻分类。</p></li>
</ul>
<p>其实，上述常见问题可以划到机器学习最典型的 2 个分类上：</p>
<ul>
<li><p>分类与回归问题需要用已知结果的数据做训练，属于 “监督学习”。</p></li>
<li><p>聚类的问题不需要已知标签，属于 “非监督学习”。</p></li>
</ul>
<h1 id="入门方法与学习路径">入门方法与学习路径</h1>
<p>机器学习对大多数入门者也有一个比较通用的学习路径，也有一些优秀的入门资料可以降低大家的学习门槛。简单说来，大概的一个学习路径如下：</p>
<p><img data-src="/downloads/images/science/AI/Learn_Process.webp"></p>
<p>因为机器学习是一个将数学 / 算法理论和工程实践紧密结合的领域，需要扎实的理论基础帮助引导数据分析与模型调优，同时也需要精湛的工程开发能力去高效化地训练和部署模型和服务，所以最左边之所以列了『数学基础』、『典型机器学习算法』、『编程基础』三个并行的部分。</p>
<h2 id="数学基础">数学基础</h2>
<p>机器学习之所以相对于其他开发工作，更有门槛的根本原因就是数学。每一个算法，要在训练集上最大程度拟合同时又保证泛化能力，需要不断分析结果和数据，调优参数，这需要我们对数据分布和模型底层的数学原理有一定的理解。</p>
<p>如果只是想合理应用机器学习，而不是做相关方向的理论研究，需要的数学知识基本都集中在微积分、线性代数、概率与统计中。</p>
<h2 id="典型算法">典型算法</h2>
<p>机器学习里所说的 “算法” 与程序员所说的 “数据结构与算法分析” 里的 “算法” 略有区别。前者更关注结果数据的召回率、精确度、准确性等方面，后者更关注执行过程的时间复杂度、空间复杂度等方面。</p>
<p>绝大多数问题用典型机器学习的算法都能解决，粗略地列举一下这些方法如下：</p>
<p><img data-src="/downloads/images/science/AI/ML_Problemes.webp"></p>
<h2 id="基本工作流程">基本工作流程</h2>
<p>当我们基本具备了机器学习的必要条件后，剩下的就是怎么运用它们去做一个完整的机器学习项目。</p>
<p>机器学习的工作流程如下：抽象成数学问题 - 获取数据 -
特征预处理与特征选择 - 训练模型与调优 - 模型诊断 - 模型融合 -
上线运行。</p>
<p>这些工作流程主要是工程实践上总结出的一些经验。并不是每个项目都包含完整的一个流程。这里的部分只是一个指导性的说明，只有大家自己多实践，多积累项目经验，才会有自己更深刻的认识。</p>
<h1 id="参考资料">参考资料</h1>
<ul>
<li><a href="https://mp.weixin.qq.com/s?__biz=MjM5OTA1MDUyMA==&amp;mid=2655441595&amp;idx=1&amp;sn=a1f19f4d55fcb7fd91c70568084f88a7&amp;chksm=bd731ecc8a0497da1e01bd2bd6c6125721ae6de4d2459355ab534171941e216806ee3a477fd7&amp;mpshare=1&amp;scene=1&amp;srcid=0508RztI4kRJpyrLxL80Cda5#rd">ML
入门有什么样的前提？</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA5MDU0MTYxNw==&amp;mid=2650780170&amp;idx=1&amp;sn=ce82707466cfaeb31d3acfbd734df363&amp;chksm=88010954bf768042485b6c2ee61c6be42b11c0cda57848414bee399c1ea5dfa3cfa1e863abb4&amp;mpshare=1&amp;scene=1&amp;srcid=11015Nc9vJM0BgHVgi9Da79L#rd">深度学习知识资料大全集</a></li>
</ul>
]]></content>
      <categories>
        <category>AI</category>
      </categories>
      <tags>
        <tag>Artificial Intelligence</tag>
        <tag>Machine Learning</tag>
        <tag>Programming</tag>
      </tags>
  </entry>
  <entry>
    <title>解析和读取 S-57 电子海图的数据</title>
    <url>/USV/ENC-analysis-store/</url>
    <content><![CDATA[<!--2019-11-30 08:20:18-->
<p>[toc]</p>
<p>本文主要在 S-57 电子海图数据的理论模型和数据结构的基础上，实现对 S-57 电子海图数据文件的解析，将海图信息解析后保存到 xml 文件中，供下游程序调用和后续研究。</p>
<h1 id="什么是电子海图">什么是电子海图</h1>
<p>电子导航图 (Electronic Navigational Chart, ENC)
是为航海需要而绘制的包含海域地理信息和航海信息的一种数字化的专题地图，是由各个国家的航道官方部门根据国际航道组织的《数字海道测量数据传输标准》
(S-57 标准) 而制作的。符合国际标准的电子海图数据统称为 S-57 电子海图，
它是一种面向对象的矢量格式的电子地图，其存储形式是二进制。<br>
电子海图的理论模型和数据结构，可以查看国际标准《数字海道测量数据传输标准》，这里不再详述，对应英文版是《IHO
TRANSFER STANDARD for DIGITAL HYDROGRAPHIC DATA》。<br>
S-57 电子海图的结构如下图所示，来自 <a href="http://www.waylon.one/download/papers/Research_and_implementation_of_global_path_planning_for_unmanned_surface_vehicle.pdf">Research
and Implementation of Global Path Planning for Unmanned Surface Vehicle
Based on Electronic Chart</a>。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/science/USV/ENC_struct.png" alt="S57数据结构">
<figcaption aria-hidden="true">S57 数据结构</figcaption>
</figure>
<h1 id="iso-8211lib-和-ogr-简介">ISO 8211lib 和 OGR 简介</h1>
<p>S-57 标准封转格式是 ISO/IEC 8211
国际标准，封装标准的基础是文件，逻辑记录是封装标准的基本成分。<br>
ISO 8211lib 是 C++ 编写的开源库，专门用于读取符合 ISO 8211
封装标准的数据文件，如 S-57 电子海图数据格式和空间数据传输标准数据集
(SDTS)； GDAL 是一个开源栅格空间数据转换库，其中 OGR 是对 GDAL
的扩展，功能与 GDAL 类似，主要提供对矢量数据格式的读写，支持 S-57
电子海图格式，其中 S57reader 类是对 ISO 8211lib 库的封装，该类中包含读取
S-57 电子海图数据文件所用到的基本函数。</p>
<h1 id="程序实现">程序实现</h1>
<h2 id="读取-enc">读取 ENC</h2>
<p>OGR 有关于 S-57 读取的官方文档 <a href="http://www.gdal.org/drv_s57.html">IHO S-57 (ENC)</a>，其中需要注意
OGR 的 S-57 驱动模块将处理 S-57 文件里所有的 feature 要素，其中 S-57
的特征物标 (feature objects) 转换为要素 (feature)，空间物标 (geometry
objects) 自动转换化对应要素下的空间几何对象。<br>
在 OGR 中，从 S-57 文件读取的所有要素根据物标类型 (OBJL)
归属于相应的图层，可以类比于 GIS 里的 shape 格式，对应的图层下有要素
(feature), 要素下面有字段 (field) 和几何对象
(geometry)，要素的几何形状可以从几何形状中获取，要素属性可以从字段中获取。</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">layer according to OBJL</span><br><span class="line">  repeated feature</span><br><span class="line">    repeated field</span><br><span class="line">    repeated geometry</span><br></pre></td></tr></tbody></table></figure>
<p>其中，深度信息 (Depth soundings) 是 S-57 文件特有的，在读取 Depth
soundings 需要设置 S57 Control Options 中的 ADD_SOUNDG_DEPTH 选项为
ON，对于 S57 Control Options
读取和导出的深层次知识请阅读官网文档。<br>
最后，注意在程序中附加 s57objectclasses.csv 和
s57attributes.csv 文件，否则会缺少信息，如图层只有 5 层，无法读取等深线等。官方文档是这么解释的：
&gt; The S-57 reader depends on having two supporting files,
s57objectclasses.csv, and s57attributes.csv available at runtime in
order to translate features in an object class specific manner. These
should be in the directory pointed to by the environment variable
S57_CSV, or in the current working directory.</p>
<h2 id="保存到xml文件中">保存到 xml 文件中</h2>
<p>因为项目需要，需要把 S-57 文件里特定图层的信息提取出来，S-57
文件解析后，把感兴趣的信息保存到 xml 文件中，方便后续的处理。</p>
<p>在 C++ 中，对 XML 文件处理中，使用一个开源的解析 XML 的解析库 --
TinyXML，这个解析库的模型通过解析 XML
文件，然后在内存中生成 DOM 模型，从而让我们很方便的遍历这棵 XML 树。</p>
<h2 id="一些实现细节">一些实现细节</h2>
<p>如果无法得到一个 object
class 的属性或者值不正确，如 VALDCO 的值始终为 0。根据论坛的讨论 <a href="http://osgeo-org.1560.x6.nabble.com/OGR-to-access-s57-file-missing-attributes-issue-td3742926.html">OGR
to access s57 file, missing attributes
issue</a>，注意是否加载了 S-57 的支持文件.csv。 &gt; The solution to that
is to set the GDAL_DATA environment variable to point the directory with
the s57objectclasses.csv and related files。</p>
<h1 id="代码和结果">代码和结果</h1>
<p>解析和存储效果如下图所示，按图层要素顺序依次组织。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/science/USV/ENC_result.png" alt="S57结构">
<figcaption aria-hidden="true">S57 结构</figcaption>
</figure>
<p>程序实现源代码及示例，欢迎访问 <a href="https://github.com/wylloong/S57-Electronic-Chart-Reading-and-Storing">Github:
wylloong/S57-Electronic-Chart-Reading-and-Storing</a>。<br>
程序开发环境是 VS2015，其中需要在编译的时候修改两个位置，如下图所示，否则编译会报错。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/science/USV/ENC_VS_2015_config_1.png" alt="S57结构">
<figcaption aria-hidden="true">S57 结构</figcaption>
</figure>
<figure>
<img data-src="http://www.waylon.one/downloads/images/science/USV/ENC_VS_2015_config_2.png" alt="S57结构">
<figcaption aria-hidden="true"> S57 结构</figcaption>
</figure>
<p>如果有内容讨论，可以下面留言。</p>
<h1 id="references">References</h1>
<ul>
<li>《数字海道测量数据传输标准》</li>
<li><a href="https://gdal.org/drivers/vector/s57.html">IHO S-57
(ENC)</a></li>
<li><a href="http://www.waylon.one/download/papers/Research_and_implementation_of_global_path_planning_for_unmanned_surface_vehicle.pdf">Research
and Implementation of Global Path Planning for Unmanned Surface Vehicle
Based on Electronic Chart</a></li>
<li><a href="https://www.cnblogs.com/DHUtoBUAA/p/6506906.html">基于 8211lib 库对 s57 电子海图的解析和存储 (目前停止维护)</a></li>
</ul>
]]></content>
      <categories>
        <category>USV</category>
      </categories>
      <tags>
        <tag>Robotics</tag>
        <tag>C Plus Plus</tag>
        <tag>USV</tag>
      </tags>
  </entry>
  <entry>
    <title>2020 大同游记</title>
    <url>/Trip/Datong-trip-2020/</url>
    <content><![CDATA[<p>我的老家虽然位于晋冀豫三省交汇处，但是自己从未踏足过山西，对山西的记忆也仅停留在煤炭，晋中，太原等抽象的符号。</p>
<p>2020 年 12
月，我和苗苗一起去山西大同参加朋友的婚礼，顺道在大同多做停留，来粗略地游览大同风光。</p>
<p>因为隐私的问题，这里跳过朋友的婚礼事情细节，只讲两天的旅行经历。</p>
<h1 id="山西大同">山西大同</h1>
<p>大同市，位于中国华北地区，山西的北部，是晋冀蒙三省区交界处。</p>
<p>大同曾是北魏首都，辽、金陪都，境内古迹众多，著名的文物古迹包括云冈石窟、华严寺、善化寺、恒山悬空寺、九龙壁等。</p>
<!--
大同，也是明星市长-耿彦波的成名地。
-->
<p>大同，位于北京和张家口的外延方向，可能受北京冬季奥运会的带动，大同到北京的铁路交通非常便利，高铁不到两小时，甚至有北京到大同的直达高铁，旅行特别方便。</p>
<h1 id="第一天">第一天</h1>
<p>12 月 12 日，下午我们来到大同市内比较有名的 华严寺 和 仿古城墙
参观。</p>
<h2 id="华严寺">华严寺</h2>
<p>华严寺，是中国现存年代较早、保存较完整的一座辽金寺庙建筑群。因为战争原因，寺庙几度摧毁又几度重建，往往复复，香火绵延不断。</p>
<p>景区门票 40
元，性价比一般。建议浏览古建筑时，最好可以请导游讲解，听一听建筑背后的故事，对古建筑的理解更深刻，否则自己仅仅是看热闹而已。</p>
<p>自己对寺庙的了解不深，只是逛过几个古建筑，但是华严寺是比较有特点的，给自己留下的印象还是深刻的。</p>
<ul>
<li>倾斜的佛像：在大雄宝殿内，一部分雕像是倾斜的。专家给的<a href="https://v.qq.com/x/page/f0859f6nalk.html">解释</a>是倾听人间疾苦。我自己推测，因为室内是一排佛像，如果完全排列整齐，难免后面的佛像就被前排的佛像遮挡起来，不容易看到；后面的佛像倾斜起来，更容易进门就看到。</li>
</ul>
<figure>
<img data-src="http://img.buddhism.china.com.cn/ueditor/php/upload/image/20171030/1509344587813472.jpg" alt="前倾15度">
<figcaption aria-hidden="true">前倾 15 度</figcaption>
</figure>
<ul>
<li>壁画：华严寺中，基本每一间佛堂都有精美的笔画，高大威武，讲述佛教中的一个个典故。有些壁画上佛像额头和鼻梁被涂上浅白色，和黄色的皮肤对比，有点像现在的打高光，难道古人那时候就懂？</li>
<li>合掌露齿菩萨：在庄严的佛堂上，一个合掌露齿的菩萨，与封建教条格格不入。</li>
</ul>
<p><img data-src="http://img.buddhism.china.com.cn/ueditor/php/upload/image/20171030/1509344739204255.jpg"></p>
<ul>
<li>木塔：这是一座完全由木头搭建的宝塔，现在游客可以上到顶楼，从高处观看大同的景色。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/travel/wooden_tower.jpg" alt="大同木塔"> <img data-src="http://www.waylon.one/downloads/images/travel/stand_in_DaTong.jpg" alt="站在木塔顶楼远眺"></p>
<p>另外一个感想，在古代寺庙都是由僧人组织修建和维护，可以想象那时候的僧人可能多才多艺，要会设计，懂力学，善于工程规划。</p>
<h2 id="仿古城墙">仿古城墙</h2>
<p>仿古城墙，是指环绕大同老城区一周的城墙，是最近几年修建的。据司机师傅讲，大同原来是没有城墙的。</p>
<p>虽然是仿古城墙，但是城墙设计还是很用心，有瓮城、城楼等；在冬天春节临近时，城楼上会有冰雕和灯光秀，好不热闹。</p>
<p>游客请注意：仿古城墙只在东南西北四个大门设有入口，可以登上城墙，城墙上的走道非常宽厚，甚至可以租赁自行车在上面骑行。</p>
<p>我们大概在晚上 5
点多的时候才华严寺出来，登上古城墙。那时候天刚黑下来，城墙上华灯初现，空中非常赶巧地飘着小雪。在灯光的映衬下，空中飘雪，西北风呼呼刮个不停，有一种边关戍卫的错觉。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/travel/fake_wall.jpg" alt="城墙上华灯初现">
<figcaption aria-hidden="true">城墙上华灯初现</figcaption>
</figure>
<h1 id="第二天">第二天</h1>
<h2 id="云冈石窟">云冈石窟</h2>
<p>如果对石窟文化不了解，建议预先观看一个纪录片 -- <a href="https://www.iqiyi.com/v_19rvkk4y6o.html">世界遗产在中国</a>，里面讲述了云冈石窟的特点和背后的历史故事。</p>
<p>另外，在景区参观时，进门后有一个放映厅，大概用十五分钟的时间带你粗略地浏览云岗石窟的历史和看点。</p>
<p>我因为没有去其他石窟参观过，所以不做横向对比，但是我想说一下我理解的中国三大石窟的发展脉络。
1.
首先，敦煌 (旧属凉州) 临近西域，最先接受佛教文化，开始在山上开凿佛像，逐渐形成了今天的敦煌莫高窟；
2.
然后，来自凉州的昙曜高僧，熟悉西域佛影窟的体制，见过敦煌鸣沙山石窟的实物，在此基础上创新并向北魏的统治阶级支持下，在大同武州山开凿了雄伟壮观的昙曜五窟，揭开了云冈石窟开凿的序幕；
3.
最后，北魏孝文帝迁都到洛阳，云冈石窟逐渐没落，但带过去的佛像石雕艺术，却因为受到北魏和唐朝统治阶级的支持，在洛阳地区开始兴盛，逐渐形成现在的龙门石窟。</p>
<p>听导游讲，每一个石窟的外围原来是有木质结构，并且有门窗，但是时间久了，年久失修，逐渐损毁，已经不复当年的做工精细。</p>
<p>景区门票是一人 100 元，乘坐景区观光车返完是 15
元，但是景区并不大，不是非常需要乘坐观光车。</p>
<p>郑重声明：因为石窟内室不允许拍照，所以石窟内部只有文字描述，没有附上图片；其他照片都是在室外拍摄。</p>
<ul>
<li>除了昙曜五窟外，云冈石窟中的其他窟，基本都已经损毁和风化比较严重，看一眼少一眼。</li>
</ul>
<figure>
<img data-src="http://www.waylon.one/downloads/images/travel/weathering_grotto.jpg" alt="风化的雕像">
<figcaption aria-hidden="true">风化的雕像</figcaption>
</figure>
<ul>
<li>雕刻之薄：石窟之间是分离的，但相邻两窟最薄的地方仅有几厘米，你很难想象古人是如何精准测得厚度，然后在薄薄的石面上施工的。</li>
<li>大佛的因祸得福：这个佛像本来是，但是因为塌陷暴露在外面，但是上面的山体防止雨水下漏侵蚀，所以上半部分的岩体完好地保存下来，看起来栩栩如生。</li>
</ul>
<figure>
<img data-src="http://www.waylon.one/downloads/images/travel/20th_grotto.jpg" alt="第二十窟">
<figcaption aria-hidden="true">第二十窟</figcaption>
</figure>
<ul>
<li>石窟内的佛像，大的有十几米高，小的只有几厘米高，甚至有雅典风格的千佛立柱 (风化很严重)。</li>
</ul>
<h1 id="旅行建议">旅行建议</h1>
<ul>
<li>大同地处河北省北部，处于关外风口，冬天特别冷，经常零下十几度，所以冬季旅行需要穿上厚衣服。</li>
<li>2020 年下半年，山西省周一至周五工作日向全国游客免首道门票的 A
级旅游景区，也就是工作日预约就能免门票参观；周六和周日则需要全价门票参观，对外地人周末旅行不是很友好，建议工作日旅行。</li>
<li>大同曾经是煤炭资源性城市，环境污染严重，但是经过这些年的治理，蓝天已不再是奢求，大同的天空还是非常美的。</li>
<li>古建筑是一门深奥的学位，如果想探究一二，最好预先做一些学习，然后参观时尽量听导游讲解，不白来，不光看热闹。</li>
</ul>
<h1 id="参考阅读">参考阅读</h1>
<ul>
<li><a href="http://fh.china.com.cn/ch2017/zx/2017-10-30/2054.html">山西佛教艺术考察记</a>
<ul>
<li>介绍华严寺的游记</li>
</ul></li>
</ul>
]]></content>
      <categories>
        <category>Trip</category>
      </categories>
      <tags>
        <tag>Journey</tag>
      </tags>
  </entry>
  <entry>
    <title>正交 IQ 信号的 ASK、FSK 解调实践</title>
    <url>/Automation/IQ-signal-demodulation/</url>
    <content><![CDATA[<p>[toc]</p>
<!--[公式编辑器](https://www.codecogs.com/latex/eqneditor.php?latex=d=%5Cfrac%7B%5Cleft&space;%7C&space;A%5Ctimes&space;x0+B%5Ctimes&space;y0+C&space;%5Cright&space;%7C%7D%7B%5Csqrt%7BA%5E%7B2%7D+B%5E%7B2%7D%7D%7D)-->
<h1 id="背景">背景</h1>
<p>异常的轮胎气压可能会破坏汽车的稳定性并影响汽车的驾驶和制动，增加安全隐患，特别是在高速行驶过程中，由于轮胎气压、温度异常导致的轮胎故障是引起突发性交通事故的主要因素之一，胎压监测系统
(TPMS) 作为非常重要的主动安全部件，已经拥有越来越广阔的市场。</p>
<p>胎压监测系统由位于驾驶室的接收器和安装于各个轮胎端的发射器组成。胎压监测系统示意图如下，发射器对汽车各个轮胎的气压、温度适时地进行监测，并将监测数据传送给接收器。接收器接收并处理数据，当发现轮胎气压或温度异常时，告警以提醒驾驶员及时进行处理，可以有效地预防轮胎故障的发生。</p>
<p><img data-src="/downloads/images/blog/TMPS_demo.jpg"></p>
<p>当汽车轮胎损坏需要更换时，可以选择其他厂商性价比较高的替代件。由于目前国内外对
TPMS 的通信协议暂时没有统一规定，所以生产销售其它厂商替代件时需要破解其
TPMS 模块的通信协议。我实习所在的技术研发部主要使用频谱仪对 TPMS
模块的射频 RF
信息解调后进行人工分析。由于频谱仪显示屏幕较小，人工分析射频信息所需时间长并且对数据分析处理不方便，容易造成视觉疲劳。</p>
<h1 id="目标和方法">目标和方法</h1>
<p>在本科校外实习期间，我曾在 PC 端利用 Matlab 对频谱仪导出的 I/Q
数据进行分析，然后绘制出频谱信息，方便人工进行分析和研究。其中，ASK、FSK
解调流程如下：</p>
<ol type="1">
<li>从频谱仪中导出频谱仪 I/Q 数据；</li>
<li>在 matlab 上编程实现基于 I/Q 数据的多帧 ASK 和 FSK 解调；</li>
<li>Matlab 解调结果和频谱仪基本吻合，并实现解调自动化。</li>
</ol>
<h1 id="导入-iq-数据">导入 I/Q 数据</h1>
<p>以某型号频谱仪为例，利用设备提供的 I/Q 解调功能采集数据，保存在后缀名为 “.mat” 的文件中进行脱机分析处理。</p>
<p>用 MATLAB 代码 “LOAD EXAMPLE.MAT” 将数据导入。下图是利用 RSA3303A
采集数据后存储为 “.mat” 文件的内容。</p>
<p><img data-src="/downloads/images/blog/IQ_data_format_in_matlab.png"></p>
<p>通过对频谱仪用户手册和文献资料的查阅，我了解到频谱仪导出数据的含义基本如下：</p>
<ul>
<li><strong>Y</strong> 是一个复变量，包含了采样数据点的同相 I 分量和正交
Q 分量。</li>
<li><strong>InputCenter</strong>
显示了采样时的中心频率，据此可计算出实际频率分量。</li>
<li><strong>InputZoom</strong> 值为 1，表示采集数据已下变频到基带。</li>
<li><strong>XDelta </strong>为采样周期，由此可以计算出采样率
(fs=1/XDelta)。</li>
</ul>
<h1 id="askfsk-解调">ASK、FSK 解调</h1>
<h2 id="iq-数据简介">IQ 数据简介</h2>
<p>极坐标参量与 I/Q 直角坐标参量间的转换示意如下图。</p>
<p>极坐标图表示的矢量的参数是幅值和瞬时相位，一般表示为 <span class="math inline">\(A\angle \theta\)</span>
，因为所有调制形式针对载波的改变都是幅值、相位以及可以由相位推导的频率，极坐标图是分析调制技术矢量参数的主要描述方式。</p>
<p><img data-src="/downloads/images/blog/IQ_transform.jpg"></p>
<p>I/Q
直角坐标图表示矢量的参数不是直接的幅值和瞬时相位，而是把它们投影在 I/Q
直角坐标轴上，采用 I 轴和 Q 轴的投影分量来确定矢量。</p>
<h2 id="数据分析">数据分析</h2>
<p>根据 “.mat” 文件中的每个采样时刻的 I/Q 采样数据 Y，可得到相应的 I
分量和 Q 分量，用 MATLAB
代码表示为：I=real (Y)，Q=imag (Y)。采集到的数据可用幅度分析、频率分析、相位分析以及小波分析等方法进行处理。</p>
<ul>
<li><p>输入信号的幅度 <span class="math inline">\(Am\)</span> 分析：
<span class="math inline">\(Am=\sqrt{I^{2}+Q^{2}}\)</span> 。根据 I/Q
信号的每一个采样值，可以计算出对应采样时刻的幅度值。在测量时间内的所有幅度数值构成
I/Q 幅度数组，对应于 “射频功率－时间曲线”。</p></li>
<li><p>输入信号的相对相位 <span class="math inline">\(\Phi m\)</span>
分析： <span class="math inline">\(\Phi m=arctan(Q/I)\)</span> 。根据
I/Q
信号的每一个采样值，可以计算出对应采样时刻的相对相位值。在测量时间内的所有
<span class="math inline">\(\Phi m\)</span> 数值构成 I/Q 相对相位数组
<span class="math inline">\(\Phi m\)</span> 。</p></li>
<li><p>输入信号的频率 <span class="math inline">\(F m\)</span>
计算：<span class="math inline">\(F m = \frac{d(\Phi m)}{dt}\)</span>
。在测量时间内的所有 <span class="math inline">\(F m\)</span> 数值构成
I/Q 频率数组 <span class="math inline">\(F
m\)</span>，对应于频率曲线。</p></li>
<li><p>频谱计算：Spectrum = FFT (Y)。对 I/Q 数据 Y
进行傅里叶变换，即可计算出其频谱值。其中，Spectrum
为输入信号中频带宽内的频谱。</p></li>
</ul>
<h2 id="解调实例分析">解调实例分析</h2>
<h3 id="fsk-解调实现">FSK 解调实现</h3>
<p>FSK 就是用数字信号去调制载波的频率，FSK 解调一般采用两种方式：非相干解调和相干解调。</p>
<p><strong>相干解调</strong>需要同步信号，适用于窄带调频信号解调；</p>
<p><strong>非相干解调</strong>不需要同步信号，对于窄频带调频 (NBFM) 信号和宽频带调频 (WBFM) 信号均适用。</p>
<p><strong>非相干解调</strong>，即不需提取载波信息（或不需恢复出相干载波）的一种解调方法，优点是可以较少的考虑信道估计甚至略去，处理复杂度降低，实现较为简单，但相比相干解调方法性能下降，从定量角度来看，普遍的结果是非相干解调性能上比相干解调差
3dB。</p>
<p>我选用非相干解调方法进行解调，主要应用上述计算频率 <span class="math inline">\(F m\)</span> 的公式，将频谱仪导入的 I/Q
数据先计算瞬时相角，再微分计算出频率。</p>
<p>Matlab 代码为： </p><figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">diff(<span class="built_in">unwrap</span>(<span class="built_in">angle</span>(Y)))</span><br></pre></td></tr></tbody></table></figure>
其中，unwrap()是解卷绕，经观察解调效果良好。<p></p>
<figure>
<img data-src="/downloads/images/blog/ASK_1.png" alt="Matlab解调结果">
<figcaption aria-hidden="true">Matlab 解调结果</figcaption>
</figure>
<figure>
<img data-src="/downloads/images/blog/ASK_2.png" alt="局部放大对比图">
<figcaption aria-hidden="true">局部放大对比图</figcaption>
</figure>
<h3 id="ask-解调实现">ASK 解调实现</h3>
<p>ASK
是振幅键控方式，这种调制方式是根据信号的不同，调节正弦波的幅度。这里参考上述计算幅值
<span class="math inline">\(Am\)</span> 的公式，将频谱仪导入的
I/Q 数据计算瞬时幅值。</p>
<p>Matlab 代码为： </p><figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">magY=<span class="number">10</span>*<span class="built_in">log10</span>(<span class="built_in">real</span>(Y).^<span class="number">2</span>+<span class="built_in">imag</span>(Y).^<span class="number">2</span>)+GainOffset</span><br></pre></td></tr></tbody></table></figure>
其中，GainOffset与仪器硬件相关，经观察解调效果良好。<p></p>
<figure>
<img data-src="/downloads/images/blog/FSK_1.png" alt="Matlab解调结果">
<figcaption aria-hidden="true">Matlab 解调结果</figcaption>
</figure>
<figure>
<img data-src="/downloads/images/blog/FSK_2.png" alt="局部放大对比图">
<figcaption aria-hidden="true">局部放大对比图</figcaption>
</figure>
<p>综上，Matlab 解调结果与频谱仪图形对比可以看出，Matlab
解调结果和频谱仪所示基本吻合，并且可以随意放大和缩小，方便人工查看和分析，并实现解调自动化，可以方便人工分析。</p>
<h1 id="源代码">源代码</h1>
<h2 id="ask-解调源代码">ASK 解调源代码</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">%文件askshow.m</span><br><span class="line">%用途：ASK解调并matlab显示 </span><br><span class="line">%用法：输入导入数据向量、幅度截止和增益，元素之间用逗号分开</span><br><span class="line">function data=askshow(Y,cutoff,GainOffset)</span><br><span class="line">datalength=length(Y);%获取数据长度</span><br><span class="line">magY=10*log10(real(Y).^2+imag(Y).^2)+GainOffset;%对Y中每一个数据求绝对值，然后以10为底求对数</span><br><span class="line">%magY=20*log10(abs(Y))+GainOffset;</span><br><span class="line">y=zeros(datalength,1);%生成length(Y)行1列的零矩阵y，用于存储处理的数据</span><br><span class="line"> for i=1:datalength</span><br><span class="line">if magY(i)&lt;cutoff  %如果低于cutoff，则强制截止等于cutoff</span><br><span class="line"> y(i)=cutoff;</span><br><span class="line">else y(i)=magY(i);</span><br><span class="line">end</span><br><span class="line"> end</span><br><span class="line">n=0:1:datalength-1;%初值:增量：终值</span><br><span class="line">xspan=n;%生成x轴坐标值</span><br><span class="line">plot(xspan,y);%做出以数据(xspan(i),y(i))为结点的折线图</span><br><span class="line">title('ASK显示');%图形标题说明</span><br><span class="line">ylabel('10dBm');%坐标轴y轴说明</span><br><span class="line">axis([0,datalength-1,cutoff-0.1,-1]);%定制2维坐标轴范围</span><br><span class="line">grid on;%显示格栅</span><br></pre></td></tr></tbody></table></figure>
<h2 id="fsk解调源代码">FSK 解调源代码</h2>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">%文件 fskdemo().m</span></span><br><span class="line"><span class="comment">%用途：频谱仪导入I/Q数据进行FSK非相干解调，输出解调图像，可解调多峰值</span></span><br><span class="line"><span class="comment">%用法：输入导入数据向量，幅值截止值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fskdemoshow</span>=<span class="title">fskdemo</span><span class="params">(Y,cutoff)</span></span></span><br><span class="line">close all;<span class="comment">%关闭所有的图片窗口</span></span><br><span class="line">DataLength=<span class="built_in">length</span>(Y);<span class="comment">%获取.mat格式的数据长度</span></span><br><span class="line">magY=<span class="built_in">abs</span>(Y);<span class="comment">%求I/Q数据的幅值</span></span><br><span class="line">m=<span class="number">1</span>:DataLength;</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">plot</span>(m,magY);</span><br><span class="line">title(<span class="string">'幅度显示'</span>);<span class="comment">%图形标题说明</span></span><br><span class="line"><span class="comment">%获取高峰值数目PeakNumber</span></span><br><span class="line">TestEnd =<span class="number">1</span>;<span class="comment">%峰值检验初始起始点</span></span><br><span class="line">PeakNumber=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> time=<span class="number">1</span>:<span class="number">100</span><span class="comment">%预计极限峰值数</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=TestEnd:DataLength <span class="comment">%检测峰值开始值</span></span><br><span class="line"><span class="keyword">if</span> magY(<span class="built_in">i</span>)&gt;cutoff</span><br><span class="line">TestBegin=<span class="built_in">i</span>;</span><br><span class="line">PeakNumber=PeakNumber+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>= TestBegin: DataLength <span class="comment">%检测峰值结束值</span></span><br><span class="line"><span class="keyword">if</span> magY(<span class="built_in">i</span>)&lt;cutoff</span><br><span class="line">TestEnd=<span class="built_in">i</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">TestEnd =<span class="number">1</span>;<span class="comment">%峰值检验初始起始点</span></span><br><span class="line"><span class="comment">%峰值数目大于等于100提示</span></span><br><span class="line"><span class="keyword">if</span>(PeakNumber&gt;=<span class="number">100</span>)</span><br><span class="line">    <span class="built_in">disp</span>(<span class="string">'峰值数超过100次，处理可能出错！'</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">%峰值fsk解码处理显示</span></span><br><span class="line"><span class="keyword">for</span> time=<span class="number">1</span>:PeakNumber<span class="comment">%峰值数</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>= TestEnd: DataLength <span class="comment">%检测峰值开始值</span></span><br><span class="line"><span class="keyword">if</span> magY(<span class="built_in">i</span>)&gt;cutoff</span><br><span class="line">TestBegin=<span class="built_in">i</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>= TestBegin: DataLength <span class="comment">%检测峰值结束值</span></span><br><span class="line"><span class="keyword">if</span> magY(<span class="built_in">i</span>)&lt;cutoff</span><br><span class="line">TestEnd=<span class="built_in">i</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">ValueNumber= TestEnd- TestBegin;<span class="comment">%计算当前峰值总数</span></span><br><span class="line">y=Y.';<span class="comment">%矩阵倒置</span></span><br><span class="line">ValueData=y(<span class="number">1</span>,TestBegin:TestEnd<span class="number">-1</span>);</span><br><span class="line">PhaseDiff=diff(<span class="built_in">unwrap</span>(<span class="built_in">angle</span>(ValueData)));<span class="comment">%核心算法</span></span><br><span class="line">m=<span class="number">1</span>:ValueNumber<span class="number">-1</span>;</span><br><span class="line"><span class="built_in">figure</span>(time+<span class="number">1</span>);<span class="comment">%图片递增打开</span></span><br><span class="line"><span class="built_in">plot</span>(m, PhaseDiff);</span><br><span class="line">axis([<span class="number">1</span>,ValueNumber<span class="number">-1</span>,<span class="number">-2.5</span>,<span class="number">2.5</span>]);<span class="comment">%X,Y轴尺度要变化</span></span><br><span class="line">title(<span class="string">'FSK解调显示'</span>);<span class="comment">%图形标题说明</span></span><br><span class="line">grid on<span class="comment">%显示格栅</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="references">References</h1>
<ul>
<li>关玉莲。正交解调在无线电信号分析中的应用。中国无线电.
2010 年第 11 期</li>
<li>《RSA3408B 8 GHz Real-Time Spectrum Analyzer User Manual》</li>
</ul>
<!--
- [在线编辑数学公式](https://www.codecogs.com/latex/eqneditor.php)
-->
]]></content>
      <categories>
        <category>Automation</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Robotics</tag>
        <tag>Programming</tag>
      </tags>
  </entry>
  <entry>
    <title>Global Path Planning for Unmanned Surface Vehicle among Multiple Task Points</title>
    <url>/USV/IJVAS-USV-GlobalPathPlanning/</url>
    <content><![CDATA[<!--2019-10-20 16:33:21-->
<p>[toc]</p>
<h1 id="背景">背景</h1>
<p>  针对多任务点的全局路径规划，是指在存在静态障碍物的环境中，给定水面无人艇起始点、目标点以及多个任务点的情况下，设计从起始点出发，安全地遍历各个任务点，最终返回目标点的全局路径，要求行驶的航路代价总和最小。</p>
<p>多平台维护不易，最新文章更新于 <a href="http://www.waylon.one/USV/IJVAS-USV-GlobalPathPlanning/">个人网站</a>，欢迎访问和留言。</p>
<p>  本文主要解决水面无人艇在对多个任务点进行全局路径规划时的设计和实现算方法，相关研究和设计已在
<a href="http://www.inderscience.com/jhome.php?jcode=ijvas">International
Journal of Vehicle Autonomous Systems (IJVAS)</a>
EI 期刊发表。附 InderScience Publiers - IJVAS 的官方文献下载链接 <a href="http://www.inderscience.com/offer.php?id=93119">Design and
Implementation of Global Path Planning System for Unmanned Surface
Vehicle among Multiple Task Points</a>，以及 arXiv 的<a href="http://arxiv.org/abs/1807.08106">下载链接</a>。官方文献下载链接需要科学上网才可以打开。<br>
  本文主要讨论论文的实现原理，并给出部分程序源代码，方便后来者研究和参考。<br>
# 摘要 英文在中文之后 / English follows Chinese<br>
  全局路径规划是水面无人艇设计的关键技术之一。本文基于电子海图和六边形网格建立全局环境模型，并且证明六边形网格在有效性，安全性和快速性方面优于传统的正方形网格。此外，本文引入 Cube 坐标系来简化六边形坐标运算。进一步地，我们提出了一种改进的 A * 算法来实现两点之间的路径规划。在此基础上，我们构建了多个任务点的全局路径规划模型，并提出了一种改进的蚁群优化算法来准确实现多任务点的全局路径规划。仿真结果表明，全局路径规划系统可以安全、快速地规划出多个任务点的最优路径，在安全性，快速性和路径长度方面均优于传统方法。此外，全局规划路径可直接用于 USV 的实际场景。<br>
  Global path planning is the key technology in the design of unmanned
surface vehicles. This paper establishes global environment modelling
based on electronic charts and hexagonal grids which are proved to be
better than square grids in validity, safety and rapidity. Besides, we
introduce Cube coordinate system to simplify hexagonal algorithms.
Furthermore, we propose an improved A* algorithm to realize the path
planning between two points. Based on that, we build the global path
planning modelling for multiple task points and present an improved ant
colony optimization to realize it accurately. The simulation results
show that the global path planning system can plan an optimal path to
tour multiple task points safely and quickly, which is superior to
traditional methods in safety, rapidity and path length. Besides, the
planned path can directly apply to actual applications of USVs. #
论文实现原理
  本文提出的多任务点全局路径规划算法主要分为电子海图解析、六边形网格化建模、两点间路径搜索、多任务点的路径规划四部分。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/IJVAS_Struct.png" width="600" height="120"></p>
<p>  其中，通过解析电子海图文件，提取其中的海域地理信息及碍航物等信息，利用六边形进行网格化，建立由可航行六边形网格和不可航行六边形网格组成的环境模型。相关资料可以参考
<a href="https://www.cnblogs.com/DHUtoBUAA/p/6506906.html">基于 8211lib 库对 s57 电子海图的解析和存储</a>
和 <a href="https://www.cnblogs.com/DHUtoBUAA/p/7192315.html">正六边形网格化 (Hexagonal
Grids) 原理与实现</a>。<br>
  在实现环境建模后，两点间路径搜索算法优化的目标是在确保航行安全性的前提下，尽可能使规划的路径航行代价最小，最大程度地减小与最短路径、最小航行代价无关的计算量。本文设计综合多因素的航行代价，利用 Hart 提出的 A * 算法实现两点间的初步搜索，然后利用去除多余航点的曲线平滑算法，在保证安全的前提下减少路径中不必要的航点，使多段折线化为直线，增加路径的光滑度，规划的路径会更加符合起止点之间的期望路径，符合水面无人艇的运动学特性。相关资料可以参考
<a href="https://www.cnblogs.com/DHUtoBUAA/p/8443815.html">Research and
Implementation of Global Path Planning for Unmanned Surface Vehicle
Based on Electronic Chart</a> 论文。<br>
  在多任务点设计中，本文分析了港口巡逻、水质采样、水文勘测等任务对于全局路径规划的具体要求，从中抽象出针对这些任务通用的路径规划需求：在存在障碍物的海洋环境中，在给定多个任务点坐标的情形下，要求水面无人艇从起始点出发，安全地巡行到各个任务点执行具体的任务，再返回到目标点，要求总体的航路代价和最小。如在水质采样中，航路任务要求水面无人艇从固定点出发，根据设定路线行驶到各个采样点，根据采样要求完成全自动采集水样后，返回到目标点进行下一步处理，该航路任务要求完全符合本文抽象出来的全局路径规划要求。<br>
  在水面无人艇复杂任务应用场景下，多任务点的路径规划可以抽象为网络最短路径问题，该网络本质上是一个有权值的有向图。多任务点的全局路径规划抽象模型 -- 网络最短路径问题，可以近似为旅行商问题 (Traveling
Salesman Problem, TSP)，是非常典型的 NP (Nondeterministic
Polynomial) 难问题。在应用蚁群算法解决多任务点的全局路径规划问题时，路径规划问题可以转化为在一个由节点和边组成的网络权重图（网络最短路径模型）中搜索最优闭环路径，如下图所示。相关资料可以参考
<a href="https://www.cnblogs.com/DHUtoBUAA/p/8478671.html">基于蚁群算法的机械臂打孔路径规划</a>。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/ant_graph.png"></p>
<h1 id="实现程序">实现程序</h1>
<p>  因为程序实现于 2017 年，在性能和流程中仍然不够完善，欢迎邮件进行交流和给出建议。程序最新代码请参考本人的 GitHub
<a href="https://github.com/wylloong">wylloong</a>。<br>
  程序运行结果如下，其中黑点为任务点，红色线段为最后规划的全局路径。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/science/USV_Global_Path_Planning_Multiple_points.png" alt="程序运行结果">
<figcaption aria-hidden="true">程序运行结果</figcaption>
</figure>
]]></content>
      <categories>
        <category>USV</category>
      </categories>
      <tags>
        <tag>Robotics</tag>
        <tag>Paper</tag>
        <tag>USV</tag>
        <tag>Path Planning</tag>
      </tags>
  </entry>
  <entry>
    <title>Research and Implementation of Global Path Planning for Unmanned Surface Vehicle Based on Electronic Chart</title>
    <url>/USV/Global-path-planning-based-on-electronic-chart/</url>
    <content><![CDATA[<!--2019-03-12 23:56:31-->
<h1 id="基于电子海图的水面无人艇全局路径规划">基于电子海图的水面无人艇全局路径规划</h1>
<p>该论文已经在 ICMIR2017 会议上发表，附上 springer 的文献地址 <a href="https://link.springer.com/chapter/10.1007/978-3-319-65978-7_80#citeas">Research
and Implementation of Global Path Planning for Unmanned Surface Vehicle
Based on Electronic Chart</a>，以及 arXiv 上的 <a href="http://arxiv.org/abs/1802.03221">文献地址</a>。本文接下来主要对论文的实现原理进行分析，在最后给出程序代码，方便后来者研究和参考。</p>
<h1 id="摘要">摘要</h1>
<p>英文在中文之后 / English follows Chinese</p>
<p>水面无人艇 (Unmanned Surface Vehicles,
USVs) 是一种新型的水面智能载具，其中全局路径规划是 USV 研究的关键技术，它可以反映出 USV 的智能程度。为了解决 USV 的全局路径规划问题，本文基于电子海图提出航行代价寻优 (sailing
cost
optimization) 的改进 A * 算法。我们使用 S-57 电子海图实现八叉树网格的环境模型建立，并基于航行安全权重、引导量和路径曲线平滑处理，提出优化的 A * 算法来实现规划路径航行安全，减少规划时间，提高路径平滑度。仿真结果表明，环境建模方法和改进 A * 算法可以规划出安全合理的全局路径。</p>
<p>Unmanned Surface Vehicle (USV) is a new type of intelligent surface
boat, and global path planning is the key technology of USV research,
which can reflect the intelligent level of USV. In order to solve the
problem of global path planning of USV, this paper proposes an improved
A* algorithm for sailing cost optimization based on electronic chart.
This paper uses the S-57 electronic chart to realize the establishment
of the octree grid environment model, and proposes an improved A*
algorithm based on sailing safety weight, pilot quantity and path curve
smoothing to ensure the safety of the route, reduce the planning time,
and improve path smoothness. The simulation results show that the
environmental model construction method and the improved A* algorithm
can generate safe and reasonable global path.</p>
<h1 id="论文实现原理">论文实现原理</h1>
<p>水面无人艇的全局路径规划，是指在存在障碍物的复杂环境下，给定起始点和目标点，根据任务要求自主规划出一条能够安全避开环境中静态障碍物的最优路径。</p>
<p>本文提出基于电子海图的 USV 全局路径规划方案，分为电子海图解析、全局环境模型建立和路径搜索算法三部分。通过解析电子海图文件，提取其中的海域地理信息及碍航物等信息，将海图信息渲染成为自主航路规划系统能够识别的信息模式，建立由可航行网格和不可航行网格组成的环境模型。在此基础上，本文综合考虑航行安全性、航行距离、路径平滑度等因素，采用基于航行代价寻优的改进 A * 算法来搜索环境模型中的最优路径，实现水面无人艇的全局航路自主规划，提高水面无人艇的自主决策能力和智能化水平。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/ICMIR_Struct.png" width="600" height="120"></p>
<p>水面无人艇全局路径规划系统无法直接利用电子海图进行自主路径规划，所以需要研究矢量电子海图 S-57 数据结构，提取出全局路径规划需要的海洋环境信息，裁剪无关数据，将电子海图转换为全局航路规划系统能够直接使用的信息。其中，利用开源的 TinyXML 库保存到 xml 文件中，供路径规划系统的后续分析和处理。</p>
<p>在提取得到电子海图 xml 文件后，通过网格化的方法把感兴趣区域划分为若干块大小相等的矩形网格，然后利用 Shapely 开源地理库依次判断网格中是否存在从电子海图中解析的静态障碍物（如陆地、海岛、浅滩），从而将网格环境地图划分为可航区域和不可航区域。</p>
<p>在实现环境建模后，全局路径搜索算法优化的目标是在确保航行安全性的前提下，尽可能使规划的路径航行代价最小，最大程度地减小与最短路径、最小航行代价无关的计算量。其中，Hart 等使用启发式函数来评估从初始点到目标点的代价，在 Dijkstra 算法基础上，结合启发式函数形成新的路径搜索策略 --A * 算法，通过减少搜索空间来提高搜索效率，所以更适合网格情形下的全局路径规划。本文对传统的 A * 算法进行改进，实现全局路径的初步搜索。</p>
<p>网格环境下，如果直接把 A * 算法搜索得到的节点顺序连接起来作为水面无人艇的全局规划路径，通常会出现阶梯或者锯齿状路径的情况，很明显规划的路径并不是两点间的期望路径。所以，本文提出去除多余航点的曲线平滑算法，在保证安全的前提下减少路径中不必要的航点，使多段折线化为直线，增加路径的光滑度，规划的路径会更加符合起止点之间的期望路径，符合水面无人艇的运动学特性。</p>
<h1 id="实现程序">实现程序</h1>
<p>因为程序是 2017 年 4 月份实现的，仍然不够完善，可能存在 bug 或者性能优化点，欢迎交流和改善。程序最新代码请参考本人 github
<a href="https://github.com/wylloong">wylloong</a>。</p>
<h2 id="电子海图解析">电子海图解析</h2>
<p>S-57 电子海图解析中，本文在之前文章中已经进行详细的分析和讲解，并给出源代码，可以参见
<a href="https://github.com/wylloong/S57-Electronic-Chart-Reading-and-Storing">S57-Electronic-Chart-Reading-and-Storing</a>
和 <a href="http://www.waylon.one/USV/ENC-analysis-store/">基于 8211lib 库对 s57 电子海图的解析和存储</a>。</p>
<h2 id="建立环境模型">建立环境模型</h2>
<p>该部分代码可详见 github <a href="https://github.com/wylloong/GlobalPathPlanningforUSV/blob/master/GlobalEnviStructWithSquare.py">GlobalEnviStructWithSquare</a>，如有需要请备份，可能后期会删除掉部分程序。
### 改进 A * 算法和路径平滑处理</p>
<p>该部分代码可详见 github <a href="https://github.com/wylloong/GlobalPathPlanningforUSV/blob/master/GlobalPathPlanWithSquare.py">GlobalPathPlanWithSquare</a>，如有需要请备份，可能后期会删除掉部分程序。</p>
<h2 id="程序示例">程序示例</h2>
<p>程序的全局路径规划示意图如下所示：</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/ICMIR2017.png"></p>
<p>Note: It's been years since I last wrote electronic chart, all
examples may not be syntactically valid but the idea should be
correct.</p>
]]></content>
      <categories>
        <category>USV</category>
      </categories>
      <tags>
        <tag>Robotics</tag>
        <tag>Paper</tag>
        <tag>USV</tag>
        <tag>Path Planning</tag>
      </tags>
  </entry>
  <entry>
    <title>Getting started with pip</title>
    <url>/Ubuntu/Python/Getting-started-with-pip/</url>
    <content><![CDATA[<h1 id="pip-是什么">pip 是什么</h1>
<p>pip 是一个通用的 Python 包管理工具，提供了对第三方 Python
包的查找、下载、安装、卸载的功能。</p>
<p>注意：不是所有的第三方 Python 包都能通过 pip 来安装，只能是发布在 <a href="https://pypi.org/">pypi.org</a> 上面的才能通过 pip 安装。</p>
<!--
[pip安装和使用入门指南](https://www.yuanrenxue.com/python/pip-usage.html)  
-->
<h1 id="pip3-和-pip-的区别">pip3 和 pip 的区别</h1>
<p>如果机器同时装有 python2 和 python3，那么 pip 默认给 python2 用，pip3
指定给 python3 用，两者的安装路径是不同的。</p>
<p>如果机器只有 python3，pip 和 pip3 的作用是一样的。</p>
<!--
[Python3 pip 与pip3 区别](https://blog.csdn.net/stcaaa/article/details/83824031)
-->
<h1 id="常用命令">常用命令</h1>
<h2 id="pip命令帮助">pip 命令帮助</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">pip help</span><br></pre></td></tr></tbody></table></figure>
<h2 id="检查-pip-是否安装和-pip-的版本号">检查 pip 是否安装和 pip
的版本号</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">pip --version</span><br></pre></td></tr></tbody></table></figure>
<h2 id="pip-安装第三方包">pip 安装第三方包</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">pip install SomePackage</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>安装该软件的最新版本，同时 pip
会计算该软件的依赖包，如果没有冲突，就会把该软件包的依赖包一起安装。</p>
</blockquote>
<ul>
<li>如果要安装指定版本的软件包呢，就需要在软件包名后面加一个具体的版本号，比如 </li>
</ul>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">pip install SomePackage==2.21.0</span><br></pre></td></tr></tbody></table></figure>
<h2 id="pip-升级软件包">pip 升级软件包</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">pip install --upgrade SomePackage</span><br></pre></td></tr></tbody></table></figure>
<h2 id="pip-搜索软件包">pip 搜索软件包</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">pip search SomePackage</span><br></pre></td></tr></tbody></table></figure>
<h2 id="pip-卸载软件包">pip 卸载软件包</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">pip uninstall SomePackage</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>注意：卸载软件包之前最好先用 pip show
命令看一下该软件包的被依赖关系，如果其它包依赖你要卸载的软件包，那么你卸载后，其它软件包就没法运行了。</p>
</blockquote>
<h2 id="pip-查看包信息">pip 查看包信息</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">pip show SomePackage</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>查看该软件包的作者，软件安装路径，依赖的库和被依赖的库等。</p>
</blockquote>
<h2 id="显示本地软件包">显示本地软件包</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">pip list</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>list 命令显示本地所有安装的第三方库和相应的版本号。</p>
</blockquote>
<h2 id="导出本地所有软件包名和版本号">导出本地所有软件包名和版本号</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">pip freeze &gt; requirements.txt</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>上面命令会把软件包名和版本号导到 requirements.txt
文件里，方便在另一台电脑上部署一个相同的 Python
软件包环境，或者提交到生产环境去运行，或者一键卸载 / 升级全部的第三方软件包。</p>
</blockquote>
<ul>
<li>pip list 和 pip freeze 的区别</li>
</ul>
<blockquote>
<p>pip list 和 pip freeze 的区别是 pip list 列出了所有的包，pip freeze
只列出由 pip 安装的软件包。</p>
</blockquote>
<h2 id="升级包到当前最新的版本">升级包到当前最新的版本</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">pip install -U SomePackage</span><br></pre></td></tr></tbody></table></figure>
<h2 id="升级-pip">升级 pip</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">python -m pip install --upgrade pip</span><br></pre></td></tr></tbody></table></figure>
<h1 id="其他">其他</h1>
<ul>
<li>Python 的包管理工具也不只有 pip，还有 Conda、Pipenv、Poetry
等。Conda、Pipenv
的好处是不只能管理包工具，还能管理虚拟路径，让你一台电脑能安装和运行多个版本的
Python，不会发生冲突。</li>
</ul>
]]></content>
      <categories>
        <category>Ubuntu</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Programming</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 Docker 在 Linux 上安装 NextCloud 私有云盘</title>
    <url>/Linux/Install-nextcloud-in-docker/</url>
    <content><![CDATA[<!--
[Nextcloud 搭建私人云服务教程](https://blog.itswincer.com/posts/bf0413ac/)
[使用Docker快速安装NextCloud个人私有云盘](https://www.moerats.com/archives/420/)
[docker容器开机自启](https://www.cnblogs.com/gcgc/p/10494615.html)
-->
<p>ps. 本文实时更新于 <a href="http://www.waylon.one/Linux/Install-nextcloud-in-docker/">个人网站</a>，请移步阅读。</p>
<p>国内的网盘虽然免费，但总让人对隐私不太放心，毕竟 “免费的永远是最贵的”。</p>
<p>自己之前购买了一个 VPS，搭建自己的网站后，感觉没有充分利用 VPS
的流量和性能，于是琢磨搭建一个私人的云服务，随后就发现了 Nextcloud
这一开源云服务。</p>
<p><img data-src="http://www.waylon.one/downloads/images/Baidu_to_private.JPG"></p>
<blockquote>
<p>通过 <a href="https://bandwagonhost.com/aff.php?aff=60653">链接</a>
注册并购买搬瓦工 VPS，就可以按下面的教程安装 NextCloud
私人云盘啦，我也可以得到新客注册的返现。</p>
</blockquote>
<h1 id="about-nextcloud">About NextCloud</h1>
<blockquote>
<p><a href="https://nextcloud.com/">Nextcloud</a> is the <strong>open
source file sync and share software</strong> for everyone from
individuals to large enterprises and service providers. Nextcloud
provides a safe, secure and compliant file sync and share solution on
servers you control.<br>
With Nextcloud you can share one or more folders on your PC, and sync
them with your Nextcloud server. <strong>Place files in your local
shared directories, and those files are immediately synced to the
server, and then to other PCs via the desktop client.</strong> Not near
a desktop client? No problem, simply log in with the web client and
manage your files there. <strong>The Android and iOS mobile apps allow
you to browse, download and upload photos and videos.</strong><br>
Whether using a mobile device, a workstation, or a web client, Nextcloud
provides the ability to put the right files in the right hands at the
right time on any device in one simple-to-use, secure, private and
controlled solution.</p>
</blockquote>
<p><img data-src="http://www.waylon.one/downloads/images/Nextcloud.png"></p>
<p>简而言之，Nextcloud
是一个自由及开放源代码的私有云网盘，每个人都可以在私人服务器上安装并运行它，能够快速同步你的文件到你的私有服务器，方便你跨平台 (现在支持 PC、Android 和 iOS)
同步和分享文件，功能和百度云不差多少，优点是隐私好，同步下载速度取决于服务器带宽。</p>
<p>与 Dropbox 等专有服务相比，Nextcloud
的开放架构让用户可以利用应用程序的方式在服务器上新增额外的功能，并让用户可以完全掌控自己的数据。同时，Nextcloud
可与在 Windows、macOS 或是多种 Linux 发布版上运行的客户端同步。</p>
<p>Nextcloud
用户可以管理日历、联系人、计划工作与流媒体。此外，用户也可以在 Nextcloud
上使用基于浏览器的文本编辑器、书签服务、缩略网址服务、相册、RSS 阅读器与文件查看器。因为有良好的扩展性，Nextcloud 可以透过鼠标点一下即可完成安装的应用程序强化其功能，并可连线至
Dropbox、Google 云端硬盘与 Amazon S3 等产品。</p>
<h1 id="安装简介">安装简介</h1>
<p>Nextcloud 虽然这么好用，但是安装依赖却非常复杂，需要安装 LNMP
集成环境 (i.e. Linux + Nginx + MySql +
PHP)，在搭建过程中或多或少都会出点问题。</p>
<p>本文推荐一个很方便的安装方法 <a href="https://github.com/chrootLogin/docker-nextcloud">docker-nextcloud</a>，使用纯命令形式在
Docker 上安装 NextCloud (Docker file
会帮你把负责的依赖都配置好)，并探讨如何配置反向代理，适合尝鲜的新手。</p>
<p>安装 Docker 后，需要安装两个容器：mysql 和 nextcloud。其中，mysql
用于存储用户的数据，nextcloud 通过向 mysql
容器读写数据，从而实现数据的存储和访问。</p>
<h1 id="安装docker">安装 Docker</h1>
<blockquote>
<p>Docker
是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中，然后发布到任何流行的
Linux 或 Windows
机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口。</p>
</blockquote>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"># CentOS 7、Debian、Ubuntu</span><br><span class="line">curl -sSL https://get.docker.com/ | sh</span><br><span class="line">systemctl start docker</span><br><span class="line">systemctl enable docker</span><br></pre></td></tr></tbody></table></figure>
<h2 id="复习知识点">复习知识点</h2>
<ul>
<li>curl 是一个工具，用于传输来自服务器或者到服务器的数据。</li>
<li>systemctl 是一个系统管理守护进程、工具和库的集合，用于取代 system
V、service 和 chkconfig 命令，初始进程主要负责控制 systemd
系统和服务管理器。</li>
<li>systemctl start 启动服务</li>
<li> systemctl enable 激活服务并在开机时启用</li>
</ul>
<!--
[Centos7中systemctl命令详解](https://www.cnblogs.com/zhming26/p/6155201.html)
-->
<h1 id="安装-nextcloud-服务器">安装 Nextcloud 服务器</h1>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"># 拉取 Mysql 镜像和 Nextcloud 镜像</span><br><span class="line">docker pull rootlogin/nextcloud &amp;&amp; docker pull mariadb:10</span><br><span class="line"></span><br><span class="line"># 创建 mysql 容器，注意修改数据库信息</span><br><span class="line">docker run --name nextcloud_db -d --restart=always -e MYSQL_ROOT_PASSWORD=test -e MYSQL_DATABASE=test -e MYSQL_USER=test -e MYSQL_PASSWORD=test -v /var/nextcloud/mysql:/var/lib/mysql mariadb:10</span><br><span class="line"></span><br><span class="line"># 创建 nextcloud 容器，添加链接到 mysql 容器；ip 是浏览器访问云盘的端口号。使用镜像 rootlogin/nextcloud，以后台模式启动一个容器, 容器命名为 nextcloud，将容器的 80 端口映射到主机的 3000 端口,主机的目录 /var/nextcloud/data 映射到容器的 /data，并添加链接到上述的 nextcloud_db 容器。</span><br><span class="line">docker run --name nextcloud_db -d --restart=always -e MYSQL_ROOT_PASSWORD=test -e MYSQL_DATABASE=test -e MYSQL_USER=test -e MYSQL_PASSWORD=test -v /var/nextcloud/mysql:/var/lib/mysql mariadb:10</span><br></pre></td></tr></tbody></table></figure>
<!--
密码 supersecretpassword
-->
<!--
docker run --name nextcloud_db -d --restart=always -e MYSQL_ROOT_PASSWORD=test -e MYSQL_DATABASE=test -e MYSQL_USER=test -e MYSQL_PASSWORD=test -v /var/nextcloud/mysql:/var/lib/mysql mariadb:10
-->
<!--
docker run -d --name nextcloud --restart=always --link nextcloud_db:nextcloud_db -v /var/nextcloud/data:/data -p 3000:80 rootlogin/nextcloud
-->
<blockquote>
<p>MariaDB 和 MySQL 的关系：<strong>MariaDB 数据库管理系统是 MySQL
的一个分支</strong>。开发这个分支的原因之一是：甲骨文公司收购了 MySQL
后，有将 MySQL
闭源的潜在风险，因此社区采用分支的方式来避开这个风险。<br>
MariaDB 的目的是完全兼容 MySQL，包括 API 和命令行，使之能轻松成为 MySQL
的代替品。</p>
</blockquote>
<p>&nbsp; <img data-src="http://www.waylon.one/downloads/images/next_cloud_container.png"></p>
<p>恭喜你，现在初级版的云服务器已经搭建成功。访问地址为
http://your_ip:3000。<br>
启动命令里的 3000
端口可自行替换，不过后面有关端口的命令都可自行修改，/var/nextcloud/data 为网盘的数据库，可以自行修改。</p>
<h2 id="复习知识点-1">复习知识点</h2>
<ul>
<li>docker pull 是从镜像仓库拉取镜像。</li>
<li><a href="https://www.runoob.com/docker/docker-run-command.html">docker
run</a> 是创建一个新的容器并运行一个命令。</li>
<li>--restart=always，设置开机重启</li>
</ul>
<h1 id="防火墙开启端口">防火墙开启端口</h1>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">#CentOS 7</span><br><span class="line">firewall-cmd --zone=public --add-port=3000/tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></tbody></table></figure>
<h1 id="初始设置">初始设置</h1>
<ul>
<li>访问 http://your_ip:3000。</li>
<li>创建管理员帐号和密码</li>
<li>数据库选择 MySQL/MariaDB，如果配置不成功，可以选择 SQLite
(性能差点，但是可以满足个人基本的需求)。</li>
</ul>
<table>
<thead>
<tr class="header">
<th>名称</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>用户名</td>
<td> test</td>
</tr>
<tr class="even">
<td> 密码</td>
<td> test</td>
</tr>
<tr class="odd">
<td> 数据库名</td>
<td> test</td>
</tr>
<tr class="even">
<td> 地址</td>
<td> nextcloud_db:3306</td>
</tr>
</tbody>
</table>
<blockquote>
<p>mysql 数据库默认端口是 3306。</p>
</blockquote>
<p><img data-src="http://www.waylon.one/downloads/images/nextcloud_initialize.png"></p>
<ul>
<li>恭喜你，进入自己的网盘界面。</li>
</ul>
<p><img data-src="/downloads/images/nextcloud_web.png"></p>
<h1 id="域名访问">域名访问</h1>
<p>IP 访问会直接把云盘的 IP
和端口暴露出来，感觉不太妥。如果要<!--像上面示例 [点击访问](http://drive.waylon.one/)，-->通过域名访问自己的网盘，就需要反代了。</p>
<p>反代可以用 Nginx、Apache、Caddy，本文讲述如何使用 Nginx。</p>
<blockquote>
<p>Nginx 是一款轻量级的 Web
服务器 / 反向代理服务器及电子邮件（IMAP/POP3）代理服务器，在 BSD-like
协议下发行。其特点是占有内存少，并发能力强，</p>
</blockquote>
<p>默认用户已经完成购买域名、安装 Nginx
的前序步骤，鼓励折腾一下，有问题欢迎下面留言交流。</p>
<h2 id="certbot-生成-https-证书">certbot 生成 https 证书</h2>
<p>Let's
Encrypt 是很火的一个免费 SSL 证书发行项目，自动化发行证书，证书有 90 天的有效期。适合个人使用或者临时使用，不用再忍受自签发证书不受浏览器信赖的提示。<br>
附上 CentOS 7.2 的 <a href="https://www.vpser.net/build/letsencrypt-certbot.html">免费 SSL 证书 Let's
Encrypt</a> 流程。</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">./certbot-auto certonly --email your_mail --agree-tos --no-eff-email --webroot -w /var/nextcloud -d drive.example.com</span><br></pre></td></tr></tbody></table></figure>
<h2 id="配置-nginx-配置文件">配置 Nginx 配置文件</h2>
<p>在 /etc/nginx/conf.d/ 下的配置文件里添加如下配置。</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">server {</span><br><span class="line">    listen 80;</span><br><span class="line">    listen [::]:80;</span><br><span class="line">    server_name drive.example.com;</span><br><span class="line">    # enforce https</span><br><span class="line">    return 301 https://$server_name$request_uri;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">server {</span><br><span class="line">    listen 443 ssl http2;</span><br><span class="line">    listen [::]:443 ssl http2;</span><br><span class="line">    server_name drive.example.com;</span><br><span class="line"></span><br><span class="line">    ssl_certificate  /etc/letsencrypt/live/drive.example.com/fullchain.pem;</span><br><span class="line">    ssl_certificate_key  /etc/letsencrypt/live/drive.example.com/privkey.pem;</span><br><span class="line"></span><br><span class="line">    add_header Strict-Transport-Security "max-age=63072000; includeSubdomains; preload";</span><br><span class="line"></span><br><span class="line">    location / {</span><br><span class="line">     proxy_pass http://your_ip:3000;</span><br><span class="line">     proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>最后，重启 nginx，就可以通过网址访问自己的云盘啦！</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl restart nginx</span><br></pre></td></tr></tbody></table></figure>
<h1 id="安装中可能遇到的问题-fqa">安装中可能遇到的问题 FQA</h1>
<ul>
<li>Q:
初始化时，提示 “看起来您正在尝试重新安装您的 Nextcloud。但您的 config 文件夹中没有 CAN_INSTALL 文件。请在您的 config 文件夹中创建 CAN_INSTALL 文件以继续。”</li>
<li>A: 运行如下命令。</li>
</ul>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">cd /var/nextcloud/data/config &amp;&amp; touch CAN_INSTALL</span><br></pre></td></tr></tbody></table></figure>
<p>其中，/var/nextcloud/data 为网盘的数据库，请自行修改。</p>
<hr>
<ul>
<li>Q: 反向代理后，网址无法直接访问，比如提示 403。</li>
<li>A：请先定位问题，可以在 /var/log/nginx/error.log 查看代理错误。</li>
</ul>
<hr>
<ul>
<li>Q: 关机重启后，原来配置好的网盘无法访问。</li>
<li>A: 在使用 docker
run 启动容器时，已经使用 --restart 参数来设置容器开机自启。如果发现服务器重启后，无法访问网盘，可以尝试
update 命令设置 --restart=always。</li>
</ul>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">docker update --restart=always 容器名称</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>Docker 提供了 restart policy 机制，可以在容器退出或者 Docker
重启时控制容器能够自启动。这种 Restart policy
可以保证相关容器按照正确顺序启动。</p>
</blockquote>
<hr>
<ul>
<li>Q: 通过 IP 方式 登录时，没有出现登录界面，显示 "HTTP ERROR
500".</li>
<li>A: 根据 <a href="https://help.nextcloud.com/t/solved-nextcloud-12-http-error-500/21577">Nextcloud
12 HTTP Error 500</a> 提供的方法，更新 PHP 模块可以解决问题。
<ul>
<li>我使用 apt-get upgrade 升级了所有软件的版本，然后问题得到修复。</li>
</ul></li>
</ul>
<blockquote>
<p>HTTP 500 错误，全称为 HTTP 500 Internal Server Error，即 HTTP 500
内部服务器错误。<strong>HTTP 500
内部服务器错误表示服务器遇到意外情况，导致其无法履行请求</strong>，但它无法说明具体错误或发生错误的根本原因。当发生错误时，访问的网站会显示发生错误。</p>
</blockquote>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>VPS</tag>
      </tags>
  </entry>
  <entry>
    <title>北京出发夜爬泰山攻略</title>
    <url>/Trip/Jinan-Taishan-trip/</url>
    <content><![CDATA[<p>对泰山的向往，要从课本说起，从冯骥才的《挑山工》，到杜甫的 “造化钟神秀，阴阳割昏晓”，自己对泰山的向往不断被加深，一直渴望去看朝阳从云海中喷薄而出，领略孔子登泰山而小鲁的心境。</p>
<p>多平台维护不易，内容实时更新于 <a href="http://www.waylon.one/Trip/Jinan-Taishan-trip/">个人网站</a>，请移步阅读最新内容。</p>
<p>泰山本来是毕业旅行的一部分，中间却不断耽误和延后，工作一年多了也未成行，最后一狠心，不愿意再等待最佳的季节和时机，选择了一个秋日的周末
(2019 年 10 月 19~20 日)，和女朋友<strong>从北京出发，小憩济南，夜爬泰山</strong>，圆了自己的泰山梦。</p>
<p>ps. 这个时间点被许多人劝说天气比较冷，不适合夜爬，结果自己做足攻略和准备后，一趟下来，发现并不是别人描述的那么寒冷和危险，每个人对冷暖、风险的感受不同，所以小马过河，深浅还是需要自己试。</p>
<p>本次路线规划的特点：</p>
<ul>
<li><p>适合上班族和学生，占用周末时间，不影响周末晚上的休息，周一工作和学习元气满满。</p></li>
<li><p>密集游览济南 (趵突泉、大明湖和芙蓉街) 和泰山 (泰山和岱庙) 的主要景点。</p></li>
<li><p>浏览时间分散，休息时间比较充分，不会特别累。</p></li>
<li><p>两个人同行，旅行花销 (交通、食宿、门票) 不到 1400
元。途中高铁、打车较多，外加一晚的住宿，整体花销多一点。</p></li>
</ul>
<p>2019 年 10 月 18 日 (周五) 晚上，和女朋友乘坐 K101
火车从北京出发，在火车上休息。第二天早上五点一刻抵达济南站，火车站附近寄存行李 (10 元钱)，我们轻装简行，徒步前往趵突泉景点 (离车站 3 公里)，沿途可以看济南的景色，感受生活气息，以及解决早饭，抵达趵突泉景点的时间正好是开园时间
(7:00)，门口微信购票，园内游客比较少，不用人挤人地排队等待。</p>
<p>景点的清晨，地面湿漉漉的，空气很适宜，旁边有不少本地人在晨练。</p>
<p>趵突泉位于景区的深处，三眼泉水喷突翻滚，旁边小泉串串珍珠，不愧是 “泉水甲天下”。我们到达的时间比较早，游客很少，拍照和欣赏景色很方便，所以建议<strong>先游趵突泉，后看大明湖，错峰出行</strong>。</p>
<p>园内除了趵突泉，周边也是百泉争涌，各有特点，时间充裕可以看看，这些泉水先会流到济南的护城河，最终流向大明湖畔，“四面荷花三面柳，一城山色半城湖”，正是这个城市的写照。我们在趵突泉景点看得比较细，逗留的时间比较长，大概用时
2 小时。</p>
<p><img data-src="/downloads/images/travel/baotu_spring.JPG" width="400" height="300" title="清晨的趵突泉"></p>
<p>浏览完趵突泉后，向北 800
米可以到达芙蓉街 (小吃街)，芙蓉街已经被全国各地的美食和网红食品占据，本地有特色的食品并不多，所以我匆匆路过，没有在这里停留，去看大明湖，哈哈。</p>
<p>从芙蓉街出来后，继续向北，便能到达大明湖。走在湖边，湖光潋滟，秋风阵阵，很是惬意，自己绕湖行走一圈，大概用时
1.5 小时。</p>
<p>大明湖的荷花还是蛮多的，但是秋季的时节不对，荷花已经盛开过，茂盛的荷叶依旧可以让我想象出荷花布满湖面的美景。</p>
<p><img data-src="/downloads/images/travel/daminghu.JPG" width="400" height="300" title="大明湖"></p>
<p>从大明湖出来后，时间略微有点紧，打车返回济南站，然后乘坐 G459
去泰安 (泰山所在地)。</p>
<p>济南旅游建议：</p>
<ul>
<li><p>趵突泉旁边的小亭，有免费的泉水品尝，清冽甘美。</p></li>
<li><p>抵达趵突泉后，门口有自助买票 (成人 40 元)，不用排队。</p></li>
<li><p>济南的趵突泉、大明湖和芙蓉街都聚在中心区，离济南站比较近，离济南西站比较远，建议买票到济南站，而非济南西站。</p></li>
</ul>
<p>从济南出发，高铁不到半小时就能抵达泰安。我们打车抵达岱庙附近的酒店，稍作休息，然后游览岱庙。</p>
<p>ps.
网上攻略说泰山<strong>出租车不打卡</strong>，自己不喜欢搞价，所以整个行程一直选择<strong>滴滴打车</strong>，避免被黑出租坑和不必要的搞价。</p>
<hr>
<p>岱庙是历代帝王举行封禅大典和祭拜泰山神的地方，园内碑林众多，一部分是泰山上的石刻复制，文化底蕴很厚实，需要静下心慢慢体会。</p>
<p>岱庙对古石刻和壁画的保护并不到位，好多石刻裸露在外，仍有游客对壁画拍照，遗憾。岱庙周边的城墙对游客开放，可以登上城墙绕行一圈，瞭望远处的泰山。自己对碑文看得略微细一点，时间稍微长点，游览时间大概
1.5
小时。岱庙和泰山的门票是共用的 (成人 115 元，三日内不限次数)，可以微信公众号购票，景区身份证验票。</p>
<p><img data-src="/downloads/images/travel/two_bugs.jpg" width="400" height="300" title="岱庙石刻"></p>
<p>下午五点半游览完岱庙后，回到酒店休息，为晚上的夜爬储能。晚上 10:30
醒来，点外卖吃晚饭，然后打车直接到红门登山口，开始泰山的夜爬之行。</p>
<p>因为游览岱庙时已经买好了泰山和岱庙的通票，直接刷身份证进入景区，比排在外面买纸质票方便许多。我们大概是凌晨零点从红门开始爬山，同行爬泰山的游客很多，整个行程周围
10
米内基本会一直有同行者，很热闹，不用担心独行夜路。刚从红门上来时，道路中间会摆放一些财神塑像，注意安全。</p>
<p>泰山夜行路线比较成熟，一路上提供矿泉水、方便面、爬山杖、军大衣的商家比比皆是，完全不用担心错过这家没下家。到达中天门后，继续向前走
200
米左右，会有一个比较便宜的补给区 (中天门附近车辆运输方便)，比如矿泉水 10 元 4 瓶，如果继续向上爬，价格就不会那么便宜了，所以建议在中天门适度补给。因为是夜间，水的需求量应该不会太多，不建议购买太多背上去 (推荐 1 瓶 / 人)，可以自带一些热水。此外，夜间爬山时运动量大，不会太冷，所以不建议开始爬山时租军大衣，否则爬山时不方便，归还时也不方便，建议爬到南天门后再租军大衣。</p>
<p>夜爬泰山看不清远处，所以低着头一步一个脚印向前走，反而简单起来。我们在爬山时，中间有半个多小时的休息，抵达南天门时已经
4 点半 (从入口开始算起，大概花费 4.5 小时)。南天门的风明显变大，气温也比较低，那里可以租军大衣 (租金 10/20/30 元不等，押金 100 元，返还衣服时退押金)。我们在那里才穿上背了一路的羽绒服 (夜爬真心不冷)，外面套着租的军大衣，全副武装抗冷。</p>
<!--
  <img data-src="https://www.yanlongwang.net/downloads/images/travel/in_winds.jpg" width="400" height="300" title="夜爬泰山">
-->
<p>整装完毕后，便可以看时间提早去日观峰挑个好位置，观鲁台也可以。从南天门到观日出的好地点 — 日观峰 (拱北石)，大概需要半小时，建议至少比日出时间提早一小时到，可以占个好地方，否则只能在别人的手机里看日出啦。我们提早一小时抵达时，天还很暗，但日观峰上已经是 people
mountain people sea，大家翘首以待。</p>
<p><img data-src="/downloads/images/travel/people_mountain_people_sea.jpg" width="400" height="300" title="观日峰静候日出"></p>
<p>我们在寒风里等待了一个多小时，但这次太阳有点害羞，躲在云里迟迟不肯出来 (多云天气)，大概 7 点多才露个脸，把大家乐得不行，也算是不枉夜爬吧。虽然没有看到朝阳从云海里喷薄而出，但是自己和一堆人盯着远处看足 2 个小时，从天黑到蒙蒙亮，到泛起鱼肚白，再到最后的亮堂堂，看天上云卷云舒，也算是一次很值得回忆的观日活动吧。</p>

<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=90978812&amp;cid=155358422&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>

<p>看完日出后，去旁边的玉皇顶登上最高处，一览众山小，便开始往回折返。我们第一次选择的是比较成熟的红门路线，路线大概是岱庙 -&gt; 岱宗坊 -&gt; 红门宫 -&gt; 万仙楼 -&gt; 斗母宫 -&gt; 经石峪 -&gt; 壶天阁 -&gt; 回马岭 -&gt; 中天门 -&gt; 快活三里 -&gt; 云步桥 -&gt; 五大夫松 -&gt; 十八盘 -&gt; 南天门 -&gt; 天街 -&gt; 碧霞祠 -&gt; 唐摩崖 -&gt; 五岳独尊 -&gt; 日观峰 -&gt; 玉皇顶。</p>
<p><img data-src="/downloads/images/travel/Taishan_route.JPG" width="400" height="300" title="泰山路线，侵删"></p>
<p>因为晚上夜爬无法看清楚风景，所以自己选择原路折返，一路下坡，从高处看着下面曲折的山道，感慨自己是如何登上来的，正所谓 “登高必自卑，行远必自迩”。我们走到中天门时，因为女朋友比较累，所以在那里乘坐景区的摆渡车下山 (30 元 / 人) 到天外村，大概中午 11 点半到达山脚。</p>
<p>泰山旅游建议：</p>
<ul>
<li><p>预定的酒店最好在岱庙附近，距离岱庙和泰山登山口都比较近，方便出游。</p></li>
<li><p>夜爬泰山，晚上记得要吃好饭，下一顿饭估计要清晨了。看完日常后，在天街有几家 10 元管饱的早餐，但是不太卫生，我亲眼看到服务员会把其他人吃剩的咸菜重新放回去。</p></li>
<li><p>最好轻装简行，记得拿充电宝，拿点热水和士力架，不要带太多的零食。山上网络不好，可以带一些现金。</p></li>
<li><p>虽然路上游客比较多，但是很多路段没有灯，建议购买头灯或手电筒，偶尔借着灯光看看远处，也是不错的体验。带上头灯，你一定是泰山最亮的仔。</p></li>
<li><p>泰山光污染不严重，天气晴朗时，抬头应该可以看到月亮和繁星。</p></li>
<li><p>夜爬注意安全，泰山最抖的是十八盘路段，尤其是升仙坊这一段，记得抓好路旁边的扶手。</p></li>
<li><p>路上小贩特别多，买东西一定不要在第一家买，对半还价。尽管我做了攻略，也深谙这个道理，但是饥饿和寒冷让我一次次忘记，比如我在中天门第一家买的西瓜很贵，继续行走 200 米，有一排商家，可以便宜一大半，租大衣同理。</p></li>
<li><p>记得买保险，比如支付宝的旅游险，一般是三日，可以覆盖自己的短期游。</p></li>
</ul>
<!--
![](https://www.yanlongwang.net/downloads/images/travel/wuyueduzhun.jpg)
-->
<p>中午在酒店修整后，2 点出门吃午饭，乘坐 4 点多的 G322
从泰安高铁站返回北京，到北京大概是晚上 6
点半，可以美美休息一晚，第二天依然是精气神饱满。</p>
<!--
这次旅游的感悟：
要有小马过河的精神，听听别人的建议，但是敢于尝试。
永远没有做一件事情最佳的时间，如果有的话，那就是现在啦！
-->
]]></content>
      <categories>
        <category>Trip</category>
      </categories>
      <tags>
        <tag>Journey</tag>
      </tags>
  </entry>
  <entry>
    <title>How to bring in google AdSense to Hexo website / Hexo 网站承接 google AdSense 广告</title>
    <url>/website/Introduce-AdSense-to-website/</url>
    <content><![CDATA[<p>[toc]</p>
<p>FYI 本博客实时更新于 <a href="https://www.yanlongwang.net/website/Introduce-AdSense-to-website/">个人网站
- Hexo 网站引入 google AdSense</a>，请移步阅读最新内容。</p>
<h1 id="前言">前言</h1>
<p>个人网站 <a href="www.yanlongwang.net">www.yanlongwang.net</a>
已经运营近一年，每日的浏览量不断上升，现在维持在两位数，打算承接一点广告赚睡后收入，用来维持网站的日常运营，希望能覆盖网站的服务器和域名开销。</p>
<p>目前，自己通过 Google AdSense
在个人网站的广告位承接广告，下面主要讲解从注册 Google
AdSense，到审核通过后设置广告的基本操作。</p>
<p>点击 <a href="www.yanlongwang.net">www.yanlongwang.net</a>
测试体验，如下图。在侧边栏下部应该可以看到 AdSense
推送的广告，如果看不到，查看浏览器是否安装了 AdBlock
等广告屏蔽插件，请暂时关闭这些插件。</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/AdSense_sidebar_ad_example.jpg"></p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">// 系统</span><br><span class="line">- Next Theme</span><br><span class="line">// 在 hexo 目录下, 输入 “hexo version” 可以查看 Next 及依赖的版本</span><br><span class="line">- hexo: 3.8.0</span><br><span class="line">- hexo-cli: 1.1.0</span><br><span class="line">- ...</span><br></pre></td></tr></tbody></table></figure>
<h1 id="广告联盟选择">广告联盟选择</h1>
<p>在国内，比较知名的广告联盟都要求网站备案，比如<a href="http://union.baidu.com/customerLogin.html">百度广告联盟</a>，否则无法承接广告，而自己的小网站暂时没有备案，所以只能选择国外的广告联盟。</p>
<p>国外的广告联盟，毫无疑问会选择 Google
AdSense，申请门槛相对较低。网站一般运营几个月，有十几篇文章，是比较容易通过审核的。并且，AdSense
的广告相比百度联盟的还是比较优质的，所以最后选择 google AdSense
联盟。</p>
<h1 id="注册-adsense-账号">注册 AdSense 账号</h1>
<ul>
<li><a href="https://www.google.com/adsense/start/#">注册网站</a>
搬梯子登录</li>
<li>点击右上角 Get started 进行注册；如有 google 账号，可以直接点击 sign
in 进行登录。</li>
</ul>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/adsense_sign_up.jpg"></p>
<ul>
<li>填写完信息之后，页面会生成一段代码，要求你放置到你的网站的

标记中。注意，当审核通过后，这一段代码在开启 “自动广告” 后，会自动推送广告。
<ul>
<li>针对 Next Theme，可以复制代码到 themes\_partials.swig
中任意一个 script 块下。 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- layout example in head.swig --&gt;</span></span><br><span class="line">{% if theme.google_site_verification %}</span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"google-site-verification"</span> <span class="attr">content</span>=<span class="string">"{{ theme.google_site_verification }}"</span> /&gt;</span></span><br><span class="line">{% endif %}</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">data-ad-client</span>=<span class="string">"ca-pub-612**56"</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">{% if theme.bing_site_verification %}</span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"msvalidate.01"</span> <span class="attr">content</span>=<span class="string">"{{ theme.bing_site_verification }}"</span> /&gt;</span></span><br><span class="line">{% endif %}</span><br></pre></td></tr></tbody></table></figure></li>
</ul></li>
<li>在你添加完成之后，在 google AdSense
上点击确认，谷歌会到你的网站上进行核查和验收。</li>
<li>博主是 2020.02.05 上午申请，2020.02.06 上午收到申请通过的邮件。</li>
</ul>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/AdSense_check_pass.jpg"></p>
<h1 id="配置广告位">配置广告位</h1>
<p>在收到审核通过的邮件后，可以登录 google AdSense
在自己的网站上进行广告位置的筛选和设计了，目前 google AdSense
主要提供了自动广告和广告单元两种形式的广告添加方式。</p>
<h2 id="自动广告">自动广告</h2>
<p>自动广告是 google AdSense
近来提供的一种广告形式，它能够通过分析你的博客布局结构，自定义的在你的网站中插入合适的广告，无论是内容，还是广告尺寸，都是完全契合网站内容本身的，算是一种比较高质量的广告。</p>
<p>打开 AdSense
首页，然后转到广告。您可以在概览中为各个网站设置自动广告。</p>
<p>如果您的网站已经启用自动广告，在审核通过的几个小时内，您便会在网站上看到相关的广告，并开始累积收入 (之前插入的检验代码，接入了
google AdSense 的自动广告)。</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/AdSense_Autonomous_Ads.jpg"></p>
<p>这种广告投放的几率比较小，在 PC 端效率比较低，如果你的网站支持移动端查看的话，会自动投放移动端自适应的广告。</p>
<h2 id="广告单元">广告单元</h2>
<p>为了能够最高效的利用自己博客的广告位，AdSense 提供了三种固定广告位。</p>
<ul>
<li>文字广告和展示广告 (即侧边栏，评论区之类的固定广告位)</li>
<li> 信息流广告 (插入在信息流内容的广告位置)</li>
<li> 文章内嵌广告 (主要是插入在每篇文章内部的开始，中间，结尾部分，展示次数比较多，强烈推荐)</li>
</ul>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/AdSense_blocks.jpg"></p>
<p>由于本人的是博客网站，所以第二种信息流广告没有投入使用，第三种影响阅读体验，所以博主现在主要采用第一种方式，在侧边栏展示广告。</p>
<p>具体的操作流程是，在网站上，选择广告单元 -&gt; 新建广告位 -&gt; 选择对应的广告类型 -&gt; 生成对应的广告代码。</p>
<h3 id="广告单元插入">广告单元插入</h3>
<p>博主启用了自动广告，广告单元仅使用了第一种方式，在网站的侧边栏和评论区展示广告，但下面会提供几种针对
Hexo 的 Next Theme 广告单元代码位置的插入。</p>
<h4 id="插入评论区">插入评论区</h4>
<p>将广告单元生成的广告代码插入 _partials.swig 中的末尾即可。
</p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">  {% elseif theme.valine.appid and theme.valine.appkey %}</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"comments"</span> <span class="attr">id</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  {% endif %}</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Insert google ad blocks --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Comment_Below --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ins</span> <span class="attr">class</span>=<span class="string">"adsbygoogle"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">style</span>=<span class="string">"display:block"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-ad-client</span>=<span class="string">"ca-pub-61***56"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-ad-slot</span>=<span class="string">"83***73"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-ad-format</span>=<span class="string">"auto"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-full-width-responsive</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">ins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">     (adsbygoogle = <span class="variable language_">window</span>.<span class="property">adsbygoogle</span> || []).<span class="title function_">push</span>({});</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">{% endif %}</span><br></pre></td></tr></tbody></table></figure><p></p>
<h4 id="插入侧边栏">插入侧边栏</h4>
将代码插入\_macro.swig 文件中
<div class="”sidebar-inner”">

</div>
<p>的最下侧。 </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">      {% if theme.sidebar.b2t %}</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"back-to-top"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-arrow-up"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          {% if theme.sidebar.scrollpercent %}</span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"scrollpercent"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span>%<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          {% endif %}</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      {% endif %}</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Insert google ad blocks --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Comment_Below --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ins</span> <span class="attr">class</span>=<span class="string">"adsbygoogle"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">style</span>=<span class="string">"display:block"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-ad-client</span>=<span class="string">"ca-pub-6129496365361356"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-ad-slot</span>=<span class="string">"8323610673"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-ad-format</span>=<span class="string">"auto"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-full-width-responsive</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">ins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">     (adsbygoogle = <span class="variable language_">window</span>.<span class="property">adsbygoogle</span> || []).<span class="title function_">push</span>({});</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">{% endmacro %}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p></p>
<h4 id="插入文章头部">插入文章头部</h4>
<p>在 \_custom&nbsp;目录下，新建 google_adsense.swig，并将 AdSense
提供的广告代码放入其中，然后将 </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">{% include '../_custom/google_adsense.swig' %}</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>插入到 \_macro.swig 文件中。</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">        {% else %}</span><br><span class="line">          {% if post.type === 'picture' %}</span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"{{ url_for(post.path) }}"</span>&gt;</span>{{ post.content }}<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          {% else %}</span><br><span class="line">            {{ post.content }}</span><br><span class="line">          {% endif %}</span><br><span class="line">        {% endif %}</span><br><span class="line">      {% else %}</span><br><span class="line"><span class="comment">&lt;!-- Insert google ad blocks --&gt;</span></span><br><span class="line">        {% include '../_custom/google_adsense.swig' %}</span><br><span class="line"></span><br><span class="line">        {{ post.content }}</span><br><span class="line">      {% endif  %}</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    {#####################}</span><br><span class="line">    {### END POST BODY ###}</span><br><span class="line">    {#####################}</span><br></pre></td></tr></tbody></table></figure>
<p><strong>我不建议在一个网页中布置多个广告，广告内容雷同，会严重影响用户阅读体验。在页面的侧边布置一个广告，难道不香吗？</strong></p>
<h1 id="注意事项">注意事项</h1>
<p>在成功接入 AdSense 后，google
会根据几种方式和数据判断广告点击是否作弊，从而注销你的账号，所以不要心存侥幸心理，好好发原创文章，提高网站的质量才是王道。</p>
<ul>
<li>作弊广告点击者的 IP 地址与你 Adsense 账户登录 IP 地址相同</li>
<li>作弊广告点击的 CTR 数据太高</li>
<li>作弊广告点击者的 IP 地址来自同一个地理区域</li>
<li>根据 Cookies 判断作弊 Adsense 广告点击</li>
<li>作弊广告点击者页面停留时间太短</li>
<li>直接访问者的广告点击率过高</li>
<li>流量小但广告点击率高</li>
<li>在网页上用文字提示请求鼓动点击广告</li>
</ul>
<!--
copy from [hexo个人next主题博客接入谷歌广告](http://www.darylliu.cn/archives/6a1f6623.html)
-->
<h1 id="last-but-not-least">Last but not least</h1>
<p>现在通过 AdSense
能赚到的收入本身并不高，尤其是博客类的网站更是如此，但在有空余的地方放置一点广告还是能起到丰富博客的作用。</p>
<p>既然大家愿意花时间和精力去搭建个人博客，除了钱以外，肯定还有其他的目的，希望大家不忘初心，更不要舍本逐末，忘记了自己搭建博客的初衷，毕竟广告收入这个事情，有当然好，没有也不用气馁，尽力就好～</p>
<h1 id="references">References</h1>
<ul>
<li><a href="http://www.darylliu.cn/archives/6a1f6623.html">hexo 个人 next 主题博客接入谷歌广告</a></li>
<li><a href="https://juejin.im/post/5c95d230e51d45124e35cef6">hexo 博客 next 主题添加 google
adsense (亲测可用)</a></li>
<li><a href="https://blog.csdn.net/stormdony/article/details/85608944">Hexo 接入 Google
adsense 广告</a></li>
</ul>
<hr>
<p>坚持原创技术分享，您的支持将鼓励我继续创作！</p>
]]></content>
      <categories>
        <category>website</category>
      </categories>
      <tags>
        <tag>Website operations</tag>
      </tags>
  </entry>
  <entry>
    <title>解读 Playing Atari with Deep Reinforcement Learning</title>
    <url>/paper/Playing-Atari-with-Deep-Reinforcement-Learning/</url>
    <content><![CDATA[<p>[toc]</p>
<p>Playing Atari with Deep Reinforcement Learning</p>
<p><a href="https://arxiv.org/pdf/1312.5602v1.pdf">Paper download
link</a></p>
<p>多平台维护不易，内容实时更新于 <a href="http://www.waylon.one/paper/Playing-Atari-with-Deep-Reinforcement-Learning/">个人网站</a>，请移步阅读最新内容。</p>
<h1 id="abstract">Abstract</h1>
<p>文章提出第一个深度学习模型，能够使用强化学习算法从高维的感知输入 (high-dimensional
sensory input) 中学习到控制策略 (control
policies)。这个模型是一个卷积神经网络 (convolutional neural
network)，使用 Q-learning 的变种进行训练，可以直接输入像素，然后输出评估未来奖励的值函数 (a
value function estimating future rewards)。</p>
<blockquote>
<p>The deep learning model is a convolutional neural network, trained
with a variant of Q-learning, whose input is raw pixels and whose output
is a value function estimating future rewards.</p>
</blockquote>
<h1 id="introduction">Introduction</h1>
<ul>
<li><p>研究现状：很多 RL 应用依赖于人工制定的特征，其性能表现严重依赖特征表示的质量，不具备自学习能力。
&gt; Most successful RL applica- tions that operate on these domains
have relied on <strong>hand-crafted features combined with linear value
functions or policy representations</strong>. Clearly, the performance
of such systems heavily relies on the quality of the <strong>feature
representation</strong>.</p></li>
<li><p> 从深度学习 DL 在计算机视觉和语音识别上取得进步的现状，思考类似的方法能否应用到通过强化学习 RL 来控制智能体。
&gt; Recent advances in deep learning have made it possible to
<strong>extract high-level features from raw sensory data</strong>,
leading to breakthroughs in computer vision and speech recognition.</p>
<ul>
<li>DL --&gt; extract high-level features</li>
</ul>
<blockquote>
<p>It seems natural to ask whether similar techniques could also be
beneficial for RL with sensory data.</p>
</blockquote></li>
<li><p>从 DL 的视角，讨论 RL 面临的挑战。</p></li>
</ul>
<!--
阅读原始和权威论文后，对DL和RL的区别和联系，理解的更透彻，不再像是阅读公众号那样，浮于表面。
- 正如学敏所言，公众号的写作者的水平，可能连自己都不如，自己谈何去学习和进步呢？不要把公众号作为认真学习的渠道。
-->
<ul>
<li>比较 DL 和 RL
<ul>
<li>RL 有一些问题，DL 依然无法解决。</li>
</ul></li>
</ul>
<table>
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Deep Learning</th>
<th>Reinforcement Learning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Data source</td>
<td>required large amounts of hand-labelled training data</td>
<td>learn from a scalar reward signal that is frequently sparse, noisy
and delayed (actions and rewards)</td>
</tr>
<tr class="even">
<td> 数据来源</td>
<td>从大量人工标注的数据中学习</td>
<td>只能从稀少、噪声和延迟的奖励中学习</td>
</tr>
<tr class="odd">
<td> Data features</td>
<td>assume the data samples to be independent</td>
<td>typically sequences of highly correlated states</td>
</tr>
<tr class="even">
<td> 数据特点</td>
<td>采样数据独立</td>
<td>一系列高度关联的状态</td>
</tr>
<tr class="odd">
<td> Data distribution</td>
<td>a fixed underlying distribution</td>
<td>data distribution changes as the algorithm learns new
behaviours</td>
</tr>
<tr class="even">
<td> 数据分布</td>
<td>固定的数据分布</td>
<td>学习新行为后，数据分布会调整</td>
</tr>
</tbody>
</table>
<h2 id="本文贡献">本文贡献</h2>
<ul>
<li><p>卷积神经网络可以在复杂的 RL 环境中从视频输入数据中学习控制策略。</p>
<blockquote>
<p>This paper demonstrates that a convolutional neural network can
overcome these challenges to learn successful control policies from raw
video data in complex RL environments.</p>
</blockquote>
<ul>
<li>使用 Q-learning 的变种训练
<ul>
<li>The network is trained with a variant of the Q-learning algorithm,
with stochastic gradient descent to update the weights.</li>
</ul></li>
<li> 为了缓和关联数据和非平稳分布，使用经验回放机制 (an experience replay
mechanism)，随机采样之前的转换，所以可以平滑过去行为的训练分布。
<ul>
<li>To alleviate the problems of correlated data and non-stationary
distributions, we use an experience replay mechanism which randomly
samples previous transitions, and thereby smooths the training
distribution over many past behaviors.</li>
</ul></li>
</ul></li>
</ul>
<!--
自己的研究，是十年磨一剑，还是总是在模仿，从未在超越呢。
-->
<h1 id="background">Background</h1>
<h2 id="任务描述">任务描述</h2>
<ul>
<li><p>环境 (environment) &gt; We consider tasks in which an agent
interacts with an environment E, in this case the Atari emulator, in a
sequence of actions, observations and rewards.</p></li>
<li><p> 行动 (actions): 通过合法的行为来进一步改变模拟器的内部状态和游戏得分。
&gt; At each time-step the agent selects an action at from the set of
legal game actions, A = {1, . . . ,K}.</p>
<blockquote>
<p>The action is passed to the emulator and modifies its internal state
and the game score.</p>
</blockquote></li>
<li><p>观察 (observations)：屏幕像素 &gt; The emulator’s internal state
is not observed by the agent; instead it observes an image rom the
emulator, which is a vector of raw pixel values representing the current
screen.</p></li>
<li><p> 奖励 (rewards)：游戏得分 &gt; In addition it receives a reward
representing the change in game score.</p></li>
<li><p> 交互特征</p>
<ul>
<li><p>行动和奖励的延时性 (feedback delay) &gt; Note that in general the
game score may depend on the whole prior sequence of actions and
observations; feedback about an action may only be received after many
thousands of time-steps have elapsed.</p></li>
<li><p> 智能体最大化得分 &gt; The goal of the agent is to interact with
the emulator by selecting actions in a way that maximises future
rewards.</p></li>
</ul></li>
</ul>
<h2 id="问题抽象">问题抽象</h2>
<p><img data-src="http://www.waylon.one/downloads/images/blog/DQN_simplify_model.jpg"></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">graph TB</span><br><span class="line">A[Question &amp; Model]--&gt;B(the optimal action-value function)</span><br><span class="line">A--&gt;I(learn game strategies from sequences of actions and observations)</span><br><span class="line">B--&gt;C(Intuition)</span><br><span class="line">B--&gt;J(the maximum expected reward achievable by following any strategy)</span><br><span class="line">C--&gt;D(Bellman equation)</span><br><span class="line">C--&gt;K(current reward plus the optimal value of the sequence at the next time-step)</span><br><span class="line">D--&gt;E(generalisation)</span><br><span class="line">D--&gt;L(estimate the action-value function by using the Bellman equation as an iterative update)</span><br><span class="line">E--&gt;M(the above action-value function is without any generalisation)</span><br><span class="line">E--&gt;N(function approximator)</span><br><span class="line">N--&gt;F(linear function approximator)</span><br><span class="line">N--&gt;G(non-linear function approximator)</span><br><span class="line">G--&gt;H(neural network)</span><br><span class="line">H--&gt;O(Q-network)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>从一系列的行动和观察中学习 &gt; We therefore consider sequences of
actions and observations, st = x1, a1, x2, ..., at−1, xt, and learn game
strategies that depend upon these sequences.
<ul>
<li>有效时间内终结 &gt; All sequences in the emulator are assumed to
terminate in a finite number of time-steps.</li>
<li> 转化为 MDP 问题 &gt; This formalism gives rise to a large but finite
Markov decision process (MDP) in which each sequence is a distinct
state.</li>
<li> 使用强化学习来处理 MDPs 问题 &gt; We can apply standard
reinforcement learning methods for MDPs, simply by using the complete
sequence st as the state representation at time t.</li>
</ul></li>
<li>Optimal action-value function：在确定初始状态后 (st, at,
pi) 后，在规定的迭代时间内，不同的 policy 值返回的奖励是不同的；选择序列中最大的奖励，那么对于的 policy 就是最优的。
<img data-src="http://www.waylon.one/downloads/images/blog/Atari_problem_background.jpg" alt="Problem goal and model">
<ul>
<li>We define the optimal action-value function Q∗(s, a) as the maximum
expected return achievable by following any strategy, after seeing some
sequence s and then taking some action a, Q∗(s, a) = maxπ E [Rt|st = s,
at = a, π], where π is a policy mapping sequences to actions (or
distributions over actions).</li>
</ul></li>
<li>Bellman equation
<ul>
<li>The optimal action-value function obeys an important identity known
as the Bellman equation.</li>
<li>Intuition : 转化问题为寻找当前最优 <img data-src="http://www.waylon.one/downloads/images/blog/Bellman_intuition_1.jpg">
<img data-src="http://www.waylon.one/downloads/images/blog/Bellman_intuition_2.jpg"></li>
<li>因为 the optimal value Q∗(s?, a?) of the sequence s? at the next
time-step 不可知，所以进一步简化问题。 &gt; The basic idea behind many
reinforcement learning algorithms is to estimate the action- value
function, by using the Bellman equation as an iterative update, Qi+1 (s,
a) = E [r + γ maxa?Qi (s?, a?)|s, a]. Such value
<ul>
<li>证明收敛性： &gt; Such value iteration algorithms converge to the
optimal action-value function.</li>
</ul></li>
</ul></li>
<li> 泛化能力
<ul>
<li><p>实践中，原模型严重依赖当前的 s，缺乏泛化能力。 &gt; In practice,
this basic approach is totally impractical, because the action-value
function is estimated separately for each sequence, without any
generalisation.</p></li>
<li><p> 我们希望使用一个近似函数来估计行为 - 值函数 &gt; It is common to
use a function approximator to estimate the action-value function.</p>
<ul>
<li>近似函数可以使用线性函数，或者非线性函数，比如神经网络。 &gt; In the
reinforcement learning community this is typically a linear function
approximator, but sometimes a non-linear function approximator is used
instead, such as a neural network.</li>
</ul></li>
<li><p> 问题转换：把一个复杂的数学模型，通过 Bellman equation 转换为
Q-learning 的问题。</p></li>
</ul></li>
<li>Training -- Q-network
<ul>
<li>A Q-network can be trained by minimising a sequence of loss
functions that changes at each iteration.</li>
<li>Note that the targets depend on the network weights; this is in
contrast with the targets used for supervised learning, which are fixed
before learning begins.</li>
<li>Differentiating the loss function with respect to the weights at the
gradient.</li>
<li>[又一次简化问题] Rather than computing the full expectations in the
above gradient, it is often computationally expe- dient to optimise the
loss function by stochastic gradient descent.</li>
</ul></li>
</ul>
<!--
- 把问题用数学的公式表达出来，但是如何实现又是一件事情；
- 通过简化的方式，让问题看起来虽然不是最优，但是有解；
- 把问题转化到已解的问题，那么问题基本就是解决了。比如本文，现阶段转化到 Q-learning.
- 证明问题的收敛性，比如趋向最优。
-->
<ul>
<li>Summary
<ul>
<li>model-free: it solves the reinforcement learning task directly using
samples from the emulator E, without explicitly constructing an estimate
of E.</li>
<li>off-policy: it learns about the greedy strategy a = maxa Q(s, a; θ),
while following a behaviour distribution that ensures adequate
exploration of the state space.</li>
</ul></li>
</ul>
<!--
思考方法：把一个新问题，经过变换处理等，转换为已知且已解的问题，那么问题难度迎刃而解，
-->
<h1 id="related-work">Related Work</h1>
<!--
 
 已有的研究现状，自己读起来有点费劲，看来作者读过的文章量还是不少的。没有足够的阅读和经历，研究可能会有局限。

通过绘制研究发展的时间轴，自己可以理解项目的发展，对算法的演进脉络更清晰。

-->
<h2 id="timeline">Timeline</h2>
<ul>
<li><p>1995: TD-gammon used a model-free reinforcement learning
algorithm similar to Q-learning, and approximated the value function
using <strong>a multi-layer perceptron with one hidden
layer</strong>.</p>
<ul>
<li>Early attempts to follow up on TD-gammon were less successful.</li>
<li>1997: It was shown that combining model-free reinforcement learning
algorithms such as Q-learning with <strong>non-linear function
approximators</strong>, or indeed with off-policy learning could cause
the Q-network to diverge.</li>
</ul></li>
<li><p>Subsequently, the majority of work in reinforcement learning
focused on <strong>linear function approximators</strong> with better
convergence guarantees.</p></li>
<li><p>More recently, there has been a revival of interest in combining
deep learning with reinforcement learning.</p>
<ul>
<li>Deep neural networks have been used to estimate the environment;
restricted Boltzmann machines have been used to estimate the value
function [2004]; or the policy [2012].</li>
<li>The divergence issues with Q-learning have been partially addressed
by gradient temporal-difference methods.</li>
<li>Pros
<ul>
<li>These methods are proven to converge when evaluating a <strong>fixed
policy</strong> with a nonlinear function approximator [2009]; or when
learning a control policy with linear function approximation using a
restricted variant of Q-learning [2010].</li>
</ul></li>
<li>Cons
<ul>
<li>However, these methods have not yet been extended to nonlinear
control.</li>
</ul></li>
</ul></li>
<li><p>2005: NFQ optimises the sequence of loss functions, using the
RPROP algorithm to update the parameters of the Q-network.</p>
<ul>
<li>NFQ has also been successfully applied to simple real-world control
tasks using purely visual input, by <strong>first using deep
autoencoders to learn a low dimensional representation of the
task</strong>, and then applying NFQ to this representation.
<ul>
<li>Our approach applies reinforcement learning
<strong>end-to-end</strong>, directly from the visual inputs; as a
result it may <strong>learn features</strong> that are directly relevant
to discriminating.</li>
</ul></li>
<li>Cons
<ul>
<li>It uses a batch update that has a computational cost per iteration
that is proportional to the size of the data set, whereas we consider
stochastic gradient updates that have a low constant cost per iteration
and scale to large data-sets.</li>
</ul></li>
</ul></li>
<li><p>1993: Q-learning has also previously been combined with
experience replay and a simple neural network.</p>
<ul>
<li>But again starting with <strong>a low-dimensional state</strong>
rather than raw visual inputs.
<!--+ 本文简化了问题，反而是创新。有本事简化问题，让复杂的问题不再复杂，为什么人不是一种本事呢？--></li>
</ul></li>
<li><p>2013: The use of the Atari 2600 emulator as a reinforcement
learning platform, who applied standard reinforcement learning
algorithms with linear function approximation and generic visual
features.</p>
<ul>
<li>The HyperNEAT evolutionary architecture has also been applied to the
Atari platform, where it was used to evolve (separately, for each
distinct game) a neural network representing a strategy for that game.
<!--* 本文发表于2013，感觉距离伟大理论的提出就是一步之遥。当然，提出的训练方法，还是帮助了伟大理论的提出。--></li>
</ul></li>
</ul>
<h1 id="deep-reinforcement-learning">Deep Reinforcement Learning</h1>
<ul>
<li><p>现有的基于深度学习在视觉和声音上的研究，激发作者的本文研究。 &gt;
Recent breakthroughs in computer vision and speech recognition have
relied on efficiently training deep neural networks on very large
training sets. The most successful approaches are trained directly from
the raw inputs, using lightweight updates based on <strong>stochastic
gradient descent</strong>. By feeding sufficient data into deep neural
networks, it is often possible to <strong>learn better representations
than handcrafted features</strong>.</p></li>
<li><p> 本文的研究目标，连接 RL 和 DNN。 &gt; Our goal is to connect a
reinforcement learning algorithm to a deep neural network which operates
directly on RGB images and efficiently process training data by using
stochastic gradient updates.</p></li>
</ul>
<hr>
<ul>
<li><p>Deep Q-learning with Experience Replay</p>
<ol type="1">
<li>We store the agent’s experiences at each time-step.</li>
<li>We apply Q-learning updates, or minibatch updates, to samples of
experience, drawn at random from the pool of stored samples.</li>
<li>After performing experience replay, the agent selects and executes
an action according to an ?-greedy policy.</li>
</ol></li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/deep_Q_learning_algorithm.jpg"></p>
<ul>
<li>DQN (off-policy) vs online Q-learning
<ul>
<li>Each step of experience is potentially used in many weight updates,
which allows for greater data efficiency.</li>
<li>Learning directly from consecutive samples is inefficient, due to
the strong correlations between the samples; randomizing the samples
breaks these correlations and therefore reduces the variance of the
updates.</li>
<li>When learning on-policy the current parameters determine the next
data sample that the parameters are trained on.
<ul>
<li>It is easy to see how unwanted feedback loops may arise and the
parameters could get stuck in a poor local minimum, or even diverge
catastrophically.</li>
<li>Note that when learning by experience replay, it is necessary to
learn off-policy (because our current parameters are different to those
used to generate the sample), which motivates the choice of
Q-learning.</li>
</ul></li>
<li>By using experience replay the behavior distribution is averaged
over many of its previous states, smoothing out learning and avoiding
oscillations or divergence in the parameters.</li>
<li>In practice, our algorithm only stores <strong>the last N experience
tuples</strong> in the replay memory, and samples uniformly at random
from D when performing updates.
<ul>
<li>A more sophisticated sampling strategy might emphasize transitions
from which we can learn the most, similar to prioritized sweeping.</li>
</ul></li>
</ul></li>
</ul>
<hr>
<h2 id="preprocessing-and-model-architecture">Preprocessing and Model
Architecture</h2>
<ul>
<li>降低输入数据的维度
<ul>
<li>Reduce the input dimensionality
<ul>
<li>[降采样和灰度化] The raw frames are preprocessed by first converting
their RGB representation to gray-scale and down-sampling it to a 110×84
image.</li>
</ul></li>
</ul></li>
<li>How to parameterize Q using a neural network?
<ul>
<li>We instead use an architecture in which there is <strong>a separate
output uni</strong>t for each possible action, and only <strong>the
state representation is an input to the neural network</strong>.
<ul>
<li>The outputs correspond to the predicted Q-values of the individual
action for the input state.</li>
</ul></li>
<li>The main advantage of this type of architecture is the ability to
compute Q-values for all possible actions in a given state with only a
single forward pass through the network.</li>
</ul></li>
<li>Deep Q-Networks
<ul>
<li>Input: state representation &gt; The input to the neural network
consists is an 84 × 84 × 4 image.</li>
<li>Three hidden layers, followed by a rectifier nonlinearity.</li>
<li>Output: Q-values for actions &gt; The output layer is a fully-
connected linear layer with a single output for each valid action.</li>
<li>We refer to convolutional networks trained with our approach as
<strong>Deep Q-Networks</strong> (DQN).</li>
</ul></li>
</ul>
<h1 id="experiments">Experiments</h1>
<ul>
<li><p>方法的通用性和鲁棒性：不需要根据游戏定制信息。 &gt; We use the
same network architecture, learning algorithm and hyperparameters
settings across all seven games, showing that our approach is robust
enough to work on a variety of games without incorporating game-specific
information.</p></li>
<li><p> 适应游戏的做法</p>
<ul>
<li>[修改分数比值] Since the scale of scores varies greatly from game to
game, we fixed all positive rewards to be 1 and all negative rewards to
be −1, leaving 0 rewards unchanged.</li>
<li>[frame-skipping technique] The agent sees and selects actions on
every kth frame instead of every frame, and its last action is repeated
on skipped frames.</li>
</ul></li>
</ul>
<h2 id="training-and-stability">Training and Stability</h2>
<ul>
<li>如何评估训练 &gt; Since our evaluation metric is the <strong>total
reward</strong> the agent collects in an episode or game averaged over a
number of games, we periodically compute it during training.
<ul>
<li>The <strong>average total reward</strong> evolves during training
are indeed quite noisy, giving one the impression that the learning
algorithm is not making steady progress.</li>
<li>More stable, metric is the policy’s <strong>estimated action-value
function Q</strong>, which provides an estimate of how much discounted
reward the agent can obtain by following its policy from any given
state.</li>
<li> 收敛性缺乏理论依据保证 &gt; This suggests that, <strong>despite
lacking any theoretical convergence guarantees</strong>, our method is
able to train large neural networks using a reinforcement learning
signal and stochastic gradient descent in a stable manner.
<!-- - 问题使用不同的语言描述，显示的结果是不一样的。 这样子就证明了算法的收敛性吗？--></li>
</ul></li>
</ul>
<h2 id="visualizing-the-value-function">Visualizing the Value
Function</h2>
<ul>
<li>尽管理论依据少，但通过 predicted value function
和实际游戏界面的比较和关联，来证明算法的有效性。 &gt; Figure 3
demonstrates that our method is able to learn how the value function
evolves for a reasonably complex sequence of events.</li>
</ul>
<h2 id="main-evaluation">Main Evaluation</h2>
<ul>
<li><p>和现有的算法、做法比较（理论和实际） &gt; We compare our results
with the best performing methods from the RL literature.</p>
<ul>
<li>找出其他算法的缺陷，或者验证算法提高点。 &gt; Note that both of
these methods <strong>incorporate significant prior knowledge</strong>
about the visual problem by using background sub- traction and treating
each of the 128 colors as a separate channel. In contrast, our agents
only receive <strong>the raw RGB screenshots</strong> as input and must
learn to detect objects on their own. &gt; Our approach (labeled DQN)
outperforms the other learning methods by a substantial margin on all
seven games despite incorporating almost no prior knowledge about the
inputs.</li>
</ul></li>
<li><p> 人机比较 &gt; In addition to the learned agents, we also report
scores for an expert human game player and a policy that selects actions
uniformly at random.</p></li>
<li><p> 和 evolutionary policy search 比较 &gt; We also include a
comparison to the evolutionary policy search approach from [8] in the
last three rows of table.</p></li>
</ul>
<!-- 如果算法在某方面表现不好，找出相关的理由，最好和算法无关，或者可以避免 -->
<h1 id="conclusion">Conclusion</h1>
<ul>
<li>贡献 &gt; This paper introduced a new deep learning model for
reinforcement learning, and demonstrated its ability to master difficult
control policies for Atari 2600 computer games, using only raw pixels as
input.<br>
&gt; We also presented a variant of online Q-learning that combines
stochastic minibatch up- dates with experience replay memory to ease the
training of deep networks for RL.</li>
</ul>
<h1 id="references">References</h1>
<ul>
<li><a href="https://blog.csdn.net/caozixuan98724/article/details/99219462">其他人的解读</a></li>
</ul>
]]></content>
      <categories>
        <category>paper</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>paper</tag>
        <tag>Robotics</tag>
      </tags>
  </entry>
  <entry>
    <title>《富爸爸穷爸爸》读后感</title>
    <url>/Reading/Rich-dad-poor-dad-review/</url>
    <content><![CDATA[<p>[toc]</p>
<p>在 2016 年的时候，自己在 密云
阅读完了《富爸爸穷爸爸》这本书，当时没有开始工作，手头的资产也不到 1
万元，所以那个时候只是朦朦胧胧地记下来这些句子。</p>
<p><img data-src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1924921419,1094080005&amp;fm=26&amp;gp=0.jpg"></p>
<p>现在自己已经工作两年了，有点盈余，已经开始做投资。当我再次读这些句子时，浑身冷汗！</p>
<!--
富爸爸穷爸爸 (全球最佳财商教育系列) (〔美〕罗伯特·清崎；〔美〕莎伦·莱希特)
- 您在位置 #88 的笔记 | 添加于 2016年11月18日星期五 下午1:11:22
-->
<h1 id="句子">句子</h1>
<ol type="1">
<li>教育只是平台，让你有机会接触更多的人和事，并且完善自己！好好读书没错，但是一心想找安稳的工作就错了！</li>
</ol>
<ul>
<li>“今天，你给孩子的最危险的建议就是：去学校，好好念书，然后找个安稳的工作。”</li>
</ul>
<ol start="2" type="1">
<li><p> 年轻夫妇的窘境，为别人打工：他们不仅为公司老板工作，还要通过缴税为政府工作，通过偿还住房贷款和信用卡贷款为银行工作。</p></li>
<li><p>当我遇到罗伯特时，他的思想使我很吃惊。因为被两个父亲培养长大，他被告知要为两个截然不同的目标奋斗。他受过良好教育的父亲建议他为企业工作，而他富有的父亲则建议他拥有自己的企业。两条道路都需要教育，但学习的科目却完全不同。他受过良好教育的父亲鼓励他成为聪明人，而 == 他富有的父亲则鼓励他雇用聪明人 ==。</p></li>
<li><p><strong>无法自己创造企业，但可以去投资企业</strong>。</p></li>
<li><p>也许告诉孩子们努力做个好雇员，同时努力去拥有自己投资的企业会是一个不错的主意。</p></li>
<li><p>财商是在解决财务问题的过程中锻炼出来的。</p></li>
<li><p>我怎样才能付得起</p></li>
</ol>
<ul>
<li>他坚持让我这样说：“我怎样才能付得起？”</li>
</ul>
<!--
ps.一种积极思考解决方案的思维-->
<ul>
<li> 富爸爸禁止我们说 “我可付不起” 这类的话。</li>
</ul>
<ol start="8" type="1">
<li><p>钱是一种力量，但更有力量的是财商教育。钱来了又会去，但如果你了解钱是如何运动的，你就获得了驾驭它的力量，就能开始积累财富了。</p></li>
<li><p>假如你学会了生活这门课程，做任何事情你都会游刃有余。如果你学不会，生活照样会推着你转。人们通常会做两件事，一些人在生活推着他转的同时，抓住生活赐予的每个机会；而另一些人则非常生气，去与生活抗争。他们与老板抗争，与工作抗争，甚至与自己的配偶抗争，他们不知道生活同时也给了他们机会。</p></li>
<li><p>== 如果你是那种没有勇气的人，生活每次推动你，你都会选择放弃。如果你是这种人，你的一生会过得稳稳当当，不做错事、假想着有事情发生时自救，然后慢慢变老，在无聊中死去。你会有许多朋友，他们很喜欢你，因为你真的是一个努力工作的好人。你的一生过得很安稳，处世无误。但事实是，你向生活屈服了，不敢承担风险。你的确想赢，但失败的恐惧超过了成功的兴奋。只有你知道，在你内心深处，你始终认为你不可能赢，所以你选择了稳定 ==。</p></li>
<li><p>如果你认为是我的问题，你就会想改变我；如果你认为问题在你那儿，你就会改变自己，学习一些东西让自己变得更聪明。大多数人认为世界上除了自己外，其他人都应该改变。让我告诉你吧，== 改变自己比改变他人更容易 ==。</p></li>
<li><p>大多数人都没有这样的愿望，他们只想进学校，学习一门专业技能，然后轻松工作、挣大钱。到他们某一天醒来，发现已面临严重的财务问题时，他们已经不能停止工作了。这就是只知道为钱工作而不学习如何让钱为自己工作的代价。</p></li>
<li><p>老鼠赛跑，恐惧与贪婪:
一开始，没钱的恐惧会促使他们努力工作，得到报酬后，贪婪或欲望又让他们想拥有所有用钱能买到的好东西。</p></li>
</ol>
<ul>
<li>对钱的无知导致了恐惧和贪婪</li>
</ul>
<ol start="14" type="1">
<li><p>工作只是试图用暂时的办法来解决长期的问题。</p></li>
<li><p>“要学会让感情跟随你的思想，而不要让思想跟随你的感情。当你们控制了感情，同意免费干活时，我就知道你们还有希望。当我用更多的钱诱惑你们时，你们又一次控制住了感情，你们在学习用头脑思考而不是任由感情控制你们。</p></li>
<li><p>资产已经多到可以自我增值，就像种树，你年复一年地浇灌它，终于有一天它不再需要你的照料了。它的根已经长得足够深，你现在可以开始享受它带给你的阴凉了。</p></li>
<li><p>== 只有知识才能解决问题并创造财富，那些不是靠财务知识挣来的钱也不会长久 ==。</p></li>
</ol>
<ul>
<li>从长远来看，重要的不是你挣了多少钱，而是你能留下多少钱，以及能够留住多久。</li>
</ul>
<ol start="18" type="1">
<li><p>资产就是能把钱放进你口袋里的东西。负债是把钱从你口袋里取走的东西。</p></li>
<li><p>黄金规则：有黄金的人制定规则。</p></li>
<li><p>“聪明人总是雇用比他更聪明的人。”</p></li>
<li><p>== 最大的损失是致富机会的损失 ==。如果你所有的钱都投在了房子上，你就不得不努力工作，因为你的现金正不断地从支出项流出，而不是流入资产项，这是典型的中产阶级现金流模式。</p></li>
<li><p>中产阶级发现自己总是在财务问题上挣扎。他们最主要的收入就是工资，而当工资增加的时候，税收也就增加了，更重要的是他们的支出也和收入同步增加，接着是新一轮的 “老鼠赛跑”。他们把房子作为最主要的资产，而没有把钱投在那些能带来收入的资产上，</p></li>
<li><p>财富就是支撑一个人生存多长时间的能力，或者说，如果我今天停止工作，我还能活多久？财富是将资产项产生的现金与支出项流出的现金进行比较而定的。</p></li>
<li><p>虽然我没有什么钱，可我拥有财富了。现在每个月我从资产项得到的现金收入与支出等量。如果我想增加支出，就必须先增加资产项产生的现金来维持我的财富水平。注意，这时我不再依赖工资，我集中精力建立资产项，并取得了成功，它使我实现了财务自由。如果我辞职了，我也能用每月资产项产生的现金维持支出。我的下个目标是用资产项中的剩余现金进行再投资。流入资产项的钱越多，资产就增加得越快；资产增加得越快，现金流进来的就越多。只要我把支出控制在资产项能够产生的现金之下，我就会越来越富有，也会有越来越多的非劳动收入。</p></li>
<li><p>富人买入资产，穷人只有支出。</p></li>
</ol>
<ul>
<li>中产阶级购买自以为是资产的负债。</li>
<li>从事你所学的专业的可怕后果在于，它会让你忘记关注自己的事业。== 人们耗尽一生去关注别人的事业并使他人致富 ==。</li>
</ul>
<ol start="26" type="1">
<li><p>只有你把额外的收入用来购买可产生收入的资产，你才能获得真正的财务安全。</p></li>
<li><p>开始关注你自己的事业，在继续工作的同时购买一些房地产，而不要买负债或是一旦被你带回家就没有价值的个人用品。</p></li>
<li><p>== 对成年人而言，把支出保持在低水平、减少借款并勤劳地工作会帮你打下一个稳固的资产基础 ==。对于还未经济独立的年轻人来说，父母应该教他们搞清楚资产和负债的区别，让他们在离家、结婚、买房子、生孩子、陷入财务危机、完全依赖工作和贷款之前建立起坚实的资产基础，这是非常重要的。我见过许多年轻夫妇，在结婚后不久就陷入了即使工作多年也无法摆脱债务的生活方式中。</p></li>
</ol>
<!--
- 前几年减少支出，为资产投资
-->
<ol start="29" type="1">
<li><p>那些能给子孙留下遗产的人和那些能长期富有的人，就是先构筑资产项，然后才用资产所产生的收入购买奢侈品的，而穷人和中产阶级则用他们的血汗钱和本应该留给子孙的遗产来购买奢侈品。</p></li>
<li><p>英国和美国早期是不需要交税的。</p></li>
</ol>
<ul>
<li>英国和美国都花了几乎 50 年来培养公众的缴纳所得税的意识。税之所以被接受是因为大众相信罗宾汉式的经济理论，即劫富济贫，问题是政府对钱的胃口越来越大，以致中产阶级也要被征税，且税收的范围不断向穷人扩展。</li>
</ul>
<ol start="31" type="1">
<li><p>== 税收最终只是惩罚了穷人和中产阶级自己，因为他们缺少财务知识。富人利用财务知识避税 ==。</p></li>
<li><p>所得税法被通过之后，成立公司就变得流行起来了，因为企业所得税率低于个人收入所得税率。此外，正如之前我们所讨论过的，公司的某些支出可以用税前收入支付。</p></li>
</ol>
<ul>
<li>“精于计算你就不会被别人牵着走”</li>
</ul>
<ol start="33" type="1">
<li>== 我是把工资投资于资产项，再用资产项为我生产出来的钱购买我想要的东西 ==。</li>
</ol>
<!--
ps.理想的模式，但是我可以做到吗
-->
<ol start="34" type="1">
<li>财商是由 4 个方面的专门知识构成的：</li>
</ol>
<ul>
<li>财务知识能帮助你读懂财务报表，还能让你辨别一项生意的优势和劣势。</li>
</ul>
<ol start="35" type="1">
<li><p>一旦我们离开学校，大部分人就会意识到只有大学文凭或好成绩是远远不够的。在校园之外的现实生活里，有许多东西比好成绩更为重要，人们称之为 “魄力”、“勇气”、“毅力”、“胆量”、“气势”、“精明”、“勇敢”、“坚强”、“才华横溢”，等等。无论它们的名称是什么，它们都比学校的成绩更能从根本上决定人们的未来。</p></li>
<li><p>过分的害怕和自我怀疑是毁掉我们才能的最大因素。</p></li>
</ol>
<ul>
<li>在现实生活中，人们往往是依靠勇气而不是智慧去取得领先的位置的。你会发现一些人勇敢地走在了时代的前面，而另一些人却只能紧紧地抓住生活的救生圈。</li>
</ul>
<!--
富爸爸穷爸爸 (全球最佳财商教育系列) (〔美〕罗伯特·清崎；〔美〕莎伦·莱希特)
- 您在第 113 页（位置 #1341-1342）的标注 | 添加于 2016年11月30日星期三 上午9:28:38
-->
<ol start="37" type="1">
<li><p>现实生活也总会给我们实时的反馈。我们关注得越多，能够学到的也就越多。限制自己的选择机会等同于固守陈旧的观念。拥有理财能力就意味着拥有更多的选择机会。</p></li>
<li><p>我主要使用两种工具来实现资产的增值：房地产和小型公司的股票。</p></li>
</ol>
<ul>
<li>我的资产基础是房地产。我喜欢房地产是因为它很稳定，变化比较慢。我把这一基础建立得很牢固。它给我提供了相当稳定的现金流量，如果管理得当的话，还会有使其增值的好机会。拥有房地产这样一个坚固的基础，对我来说，其好处就在于它使我在某种程度上敢于冒很大的风险去买入更具投机性的股票。</li>
</ul>
<ol start="39" type="1">
<li><p>如果你清楚自己在做什么，就不是在赌博；如果你把钱投进一笔交易然后只是祈祷，才是在赌博。在任何一项投资中，== 成功的办法都是运用你的技术知识、智慧以及对于这个游戏的热爱来减少意外、降低风险 ==。当然，风险总是存在的，但你的财商可以提高你应付意外的能力。</p></li>
<li><p>大部分人需要学习和掌握不止一项技能，只有这样他们的收入才能获得显著增长。</p></li>
</ol>
<ul>
<li>对于受过良好教育的爸爸来说，工作的稳定就是一切；而对于富爸爸来说，不断学习才是一切。</li>
</ul>
<ol start="41" type="1">
<li><p>正如一句格言所说：“工作（job）一词就是‘比破产强一点’（just over
broke）。”</p></li>
<li><p> 许多才华横溢的人之所以贫穷，就是因为他们只是专心于做好产品，而对商业体系却知之甚少。</p></li>
<li><p>世界上到处都是有才华的穷人。在很多情况下，他们贫穷、财务困难或者只能挣到低于他们应得的薪水，不是因为他们已知的东西而是因为他们未知的东西。== 他们只将注意力集中在提高做汉堡包的技能上，却不注意提高销售和配送汉堡包的技能 ==。</p></li>
<li><p>最重要的专门技能是销售和对市场营销的理解。销售技能是个人成功的基本技能，它涉及与其他人的交往，包括与顾客、雇员、老板、配偶和孩子。而沟通能力，如书面表达、口头表达及谈判能力等对一个人的成功来说更是至关重要。我就是通过学习各种课程、听教学磁带等来扩展知识并不断提高自己的这一技能的。</p></li>
</ol>
<ul>
<li>我有许多朋友，他们非常有天赋，但不善于与其他人交流，结果他们的收入少得可怜。我建议他们用一年时间来学销售，即使挣不到什么钱，可他们处理人际关系的能力会大大提高，这种能力是无价的。</li>
</ul>
<ol start="45" type="1">
<li><p>“如果你讨厌冒险，担心会亏钱，就早点动手积累资产吧。”</p></li>
<li><p> 你必须及早行动并且制定一个完善的退休计划，此外你还要聘请一位信得过的财务规划师，在你作出任何投资决定之前，他能给你指导。</p></li>
</ol>
<ul>
<li>对大多数人来说，他们在财务上不成功是因为对他们而言亏钱所造成的痛苦远远大于致富所带来的乐趣。</li>
</ul>
<ol start="47" type="1">
<li><p>如果你有致富的愿望，就必须集中精力。== 把你大部分的鸡蛋放在较少的篮子里，别像穷人和中产阶级那样：把很少的鸡蛋放在许多篮子里 ==。</p></li>
<li><p>如果你不愿失败，那就安全地投资；如果损失会使你元气大伤，那就稳妥一点，去做一个 “平衡的” 投资。你要是已经超过了 25 岁并害怕冒险，那就不要改变自己的投资方式。以安全的方式投资，但要尽早起步，要早点开始积累你的 “鸡蛋”，因为以这种方式积累需要大量的时间。</p></li>
<li><p>我们无法前进，我们只能守着那些安稳的东西，看着机会从我们身边溜走。我们眼睁睁地看着时光流逝，心中的结使我们碌碌无为。</p></li>
</ol>
<ul>
<li>未经证实的怀疑和恐惧会使人们成为愤世嫉俗者。愤世者抱怨现实，而成功者分析现实。</li>
</ul>
<ol start="50" type="1">
<li><p>每当我听到人们执迷于 “我不想要”，而不去注意他们想要的东西时，我就知道他们脑子里的 “噪音” 一定很响。“小鸡” 控制了他们的思维，叫喊着 “天要塌下来了，厕所坏了”。于是，他们避开了自己的 “不想要”，却为此付出了巨大的代价
-- 他们可能永远得不到自己想要的。</p></li>
<li><p>== 我经常遇到那些过分忙于工作而不关心自己的财富的人。还有一些人过分地忙于工作而不照顾自己的身体。使这两种人如此忙碌的原因是一样的，他们把忙碌作为逃避问题的借口 ==。</p></li>
</ol>
<ul>
<li>我常为一件事而推迟很多看似不重要的事，其实是在用忙碌掩饰自己的懒惰和逃避，因为那些事情自己并不愿意去做。</li>
</ul>
<ol start="52" type="1">
<li><p>“我可付不起” 这句话禁锢了你的思想，使你无法进一步思考。“== 我怎样才能付得起 ==” 这句话则开启了你的头脑，迫使你去思考并寻求答案。</p></li>
<li><p>每一笔钱，首先支付给自己，然后支付给别人，因为付不起他人而给自己压力和动力。
ps. 强制储蓄的一种方式</p></li>
</ol>
<ul>
<li>如果我也学会先支付给自己，就会在财务上更‘强壮’，噢，应该是在精神上和财务上都更加‘强壮’。</li>
</ul>
<ol start="54" type="1">
<li>随大流投资总是错误的决定。</li>
</ol>
<ul>
<li>在积累财富的过程中，最困难的事情莫过于坚持自己的选择而不盲目从众。因为在竞争激烈的市场上，群体往往会反应迟钝，成为被 “宰割” 的对象。如果一项大宗交易被列在投资杂志的首页，在多数情况下你此刻去投资恐怕为时已晚，这时你应该去寻找新的机会。就像冲浪者经常说的那样：“总会有新的浪头过来。”== 人们总是匆匆忙忙去赶那已经过去的浪头，往往又会被新的浪头淘汰出局 ==。</li>
</ul>
<ol start="55" type="1">
<li><p>明智的投资者往往会购买一项不被大众看好的投资，== 他们懂得利润在购买时就已确定，而不是在出售时获得的，他们会耐心地等待投资的增值 ==。</p></li>
<li><p>不要背上数额过大的债务包袱。要保持低支出。首先增加自己的资产，然后，再用资产项产生的现金流来买大房子或好车子。</p></li>
<li><p>== 当你资金短缺时，让压力去发挥作用，而不要动用你的储蓄或资本 ==。利用这种压力来激发你的理财天赋，想出新办法挣到更多的钱，然后再支付账单。这样做，不但能让你赚到钱，还能提高你的财商。</p></li>
<li><p>穷人有一些不好的习惯，其中一个普遍的坏习惯就是随便动用储蓄。富人知道储蓄只能用于创造更多的收入，而不是用来支付账单。</p></li>
<li><p>== 许多人只会管理不如自己聪明的人或是能力不如自己的人，比如下属 ==。许多中层管理人员一直停留在中层，就是因为他们只知道如何与职位低于自己的人一起工作，却不善于和比自己职位高的人一起工作。== 真正的技能是在某些技术领域能够管理比你更聪明的人并给他们提供优厚的报酬 ==。</p></li>
<li><p>购买他看好的公司的股票，比如拥有某种新产品的公司的股票。于是，我会在股票上涨前一周到一个月内将资金调入，赢利后，我便抽回初始资金，并不再担心后市的波动，因为我的成本已经收回，并又投资于其他资产了。</p></li>
<li><p>明智的投资者不只看到投资回报率，而且还能看到，一旦收回投资，就能额外得到的资产。这也是财商。</p></li>
<li><p>当涉及金钱、爱情、幸福、销售和合约等时，都应记住要为自己想要的东西先付出，然后才能得到加倍的回报。常常是在思索我想要什么，以及要为此给予别人什么的过程中，我会变得慷慨大方。</p></li>
<li><p>我还经常使用 “免责条款” 来做报价。例如在房地产交易协议上，我会加上一条 “须得到我的商业伙伴的同意”。我从不指明我的商业伙伴到底是谁，大部分人都不知道我的商业伙伴其实就是我的小猫。如果他们接受我的报价，而我又想反悔的话，我就给家里的小猫打电话。我讲这个荒唐故事的目的就是为了说明，买卖游戏简单得简直让人难以置信。所以，我觉得许多人太过严肃了，反而把事情弄得太复杂。</p></li>
<li><p>早点动手，买一本好书，参加一些有用的研讨班，然后付诸实践，从小笔金额做起。</p></li>
</ol>
]]></content>
      <categories>
        <category>Reading</category>
      </categories>
      <tags>
        <tag>Finance</tag>
      </tags>
  </entry>
  <entry>
    <title>UML 类图</title>
    <url>/coding/UML-diagram/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="uml">UML</h1>
<h1 id="类的uml画法">类的 UML 画法</h1>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> </span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> String name = <span class="string">"Jack"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="type">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="type">void</span> <span class="title">playBasketball</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">pass</span>();</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="type">void</span> <span class="title">pass</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>此类对应的 UML 为</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/801753-20160526213237522-1915677228.png"></p>
<p>该图分为三层：最顶层的为类名，中间层的为属性，最底层的为方法。</p>
<ul>
<li>属性的表示方式为：【可见性】【属性名称】：【类型】={缺省值，可选}</li>
<li> 方法的表示方式为：【可见性】【方法名称】（【参数列表】）：【类型】</li>
<li>可见性都是一样的，"-" 表示 private、"+" 表示 public、"#" 表示 protected。</li>
</ul>
<h1 id="类和类的关系">类和类的关系</h1>
<h2 id="依赖关系dependency">依赖关系 (Dependency)</h2>
<blockquote>
<p>依赖关系是一种使用关系，特定事物的改变有可能会影响到使用该事物的其他事物，在需要表示一个事物使用另一个事物时使用依赖关系，大多数情况下依赖关系体现在某个类的方法使用另一个类的对象作为参数。</p>
</blockquote>
<ul>
<li>在 UML 中，依赖关系用带箭头的虚线表示，由依赖的一方指向被依赖的一方。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/801753-20160527111442944-1797116461.png"></p>
<p>依赖关系通常通过三种方式来实现： -
将一个类的对象作为另一个类中方法的参数. -
在一个类的方法中将另一个类的对象作为其对象的局部变量. -
在一个类的方法中调用另一个类的静态方法.</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">public class Person {</span><br><span class="line">	public void doSomething(){</span><br><span class="line">		Card card = new Card();//局部变量</span><br><span class="line">		....</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">public class Person {</span><br><span class="line">	public void doSomething(Card card){//方法参数</span><br><span class="line">		....</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">public class Person {</span><br><span class="line">	public void doSomething(){</span><br><span class="line">		int id = Card.getId();//静态方法调用</span><br><span class="line">		...</span><br><span class="line">	}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="关联关系association">关联关系 (Association)</h2>
<blockquote>
<p>关联关系是类与类之间最常见的一种关系，它是一种结构化的关系，表示一类对象与另一类对象之间有联系。</p>
</blockquote>
<ul>
<li>在 UML 类图中，用实线连接有关联关系的对象所对应的类。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/801753-20160526224208881-211185502.png"></p>
<p>关联关系分单向关联、双向关联、自关联。 -
单向关联：单向关联指的是关联只有一个方向，比如顾客（Customer）拥有地址（Address）。
-
双向关联关系：默认情况下的关联都是双向的，比如顾客（Customer）购买商品（Product），反之，卖出去的商品总是与某个顾客与之相关联，这就是双向关联。
-
自关联：指的就是对象中的属性为对象本身，这在链表中非常常见，单向链表 Node 中会维护一个它的前驱 Node，双向链表 Node 中会维护一个它的前驱 Node 和一个它的后继 Node。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/801753-20160526225654053-2061511983.png"></p>
<h2 id="聚合关系aggregation">聚合关系 (Aggregation)</h2>
<blockquote>
<p>聚合（Aggregation）关系表示整体与部分的关系。在聚合关系中，成员对象是整体的一部分，但是成员对象可以脱离整体对象独立存在。</p>
</blockquote>
<ul>
<li>在 UML 中，聚合关系用带空心菱形的直线表示。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/801753-20160527101106975-1990587882.png"></p>
<!--
> 单向，关联关系的一种，与关联关系之间的区别是语义上的，关联的两个对象通常是平等的，聚合则一般不平等，有一种整体和局部的感觉，实现上区别不大。
-->
<p>代码实现聚合关系，成员对象通常以构造方法、Setter 方法的方式注入到整体对象之中。</p>
<h2 id="组合关系composition">组合关系 (Composition)</h2>
<blockquote>
<p>组合关系也表示的是一种整体和部分的关系，但是在组合关系中整体对象可以控制成员对象的生命周期，一旦整体对象不存在，成员对象也不存在，整体对象和成员对象之间具有同生共死的关系。</p>
</blockquote>
<ul>
<li>在 UML 中组合关系用带实心菱形的直线表示。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/801753-20160527102348788-2073210568.png"></p>
<p>代码实现组合关系，通常在整体类的构造方法中直接实例化成员类，这是因为组合关系的整体和部分是共生关系。</p>
<p>和聚合关系相比，如果通过外部注入，那么即使整体不存在，那么部分还是存在的，这就相当于变成了一种聚合关系。</p>
<h2 id="继承关系inheritance">继承关系 (Inheritance)</h2>
<blockquote>
<p>类实现接口，类继承抽象类，类继承父类都属于这种关系。</p>
</blockquote>
<h3 id="实现realization">实现（Realization）</h3>
<blockquote>
<p>在接口中通常没有属性，而且所有的操作都是抽象的，只有操作的声明没有操作的实现。</p>
</blockquote>
<ul>
<li>在 UML 中，实现关系用带空心三角形的实线来表示。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/801753-20160526222227334-1295693913.png"></p>
<blockquote>
<p>类实现接口属于这种关系</p>
</blockquote>
<h3 id="泛化generalization">泛化（Generalization）</h3>
<blockquote>
<p>泛化也叫作继承，用于描述父子类之间的关系，父类又称为基类，子类又称作派生类。</p>
</blockquote>
<ul>
<li>在 UML 中，泛化关系用带空心三角形的实线来表示。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/801753-20160526215931522-1646286150.png"></p>
<h2 id="关联关系聚合关系组合关系之间的区别">关联关系、聚合关系、组合关系之间的区别</h2>
<ol type="1">
<li>关联和聚合的区别主要在于语义上：关联的两个对象之间一般是平等的，聚合则一般是不平等的。</li>
<li>聚合和组合的区别则在语义和实现上都有差别：组合的两个对象之间生命周期有很大的关联，被组合的对象在组合对象创建的同时或者创建之后创建，在组合对象销毁之前销毁，一般来说被组合对象不能脱离组合对象独立存在，而且也只能属于一个组合对象；聚合则不一样，被聚合的对象可以属于多个聚合对象。</li>
</ol>
<h1 id="绘制-uml-工具">绘制 UML 工具</h1>
<h2 id="ubuntu">Ubuntu</h2>
<blockquote>
<p>Dia is an editor for diagrams, graphs, charts etc. There is support
for UML static structure diagrams (class diagrams), Entity-Relationship
diagrams, network diagrams and much more. Diagrams can be exported to
postscript and many other formats.</p>
</blockquote>
<p>Dia 是可视化的图形化界面，可以在 Linux 环境下绘制 UML
类图，普通功能免费，可以满足正常的使用。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt install dia</span><br></pre></td></tr></tbody></table></figure>
<h1 id="references">References</h1>
<ul>
<li><a href="https://blog.csdn.net/a19881029/article/details/8957441">类与类之间的关系及表示方式</a></li>
<li><a href="https://www.cnblogs.com/xrq730/p/5527115.html">类、继承和实现</a></li>
<li><a href="https://www.cnblogs.com/xrq730/p/5533019.html">关联、聚合、组合、依赖</a></li>
<li><a href="https://www.howtoinstall.me/ubuntu/18-04/dia/">How to
Install dia in Ubuntu 18.04</a></li>
<li><a href="https://www.cnblogs.com/vincent0928/p/6568070.html">UML 类图是描述类之间的关系</a></li>
</ul>
]]></content>
      <categories>
        <category>coding</category>
      </categories>
      <tags>
        <tag>Programming</tag>
        <tag>C plus plus</tag>
      </tags>
  </entry>
  <entry>
    <title>Website FAQ</title>
    <url>/website/Website-FAQ/</url>
    <content><![CDATA[<p>[toc]</p>
<p>多平台维护不易，本博客实时更新于 <a href="http://www.waylon.one/website/Website-FAQ/">个人网站</a>，请移步阅读最新内容。</p>
<h1 id="hexo-配置">Hexo 配置</h1>
<ul>
<li>Q: 如何修改 <strong>hexo d</strong> 命令的端口<br>
</li>
<li>A:
如果服务器 / VPS 的 SSH 端口不是默认的<font color="green"> 22</font>，那么需要对本地
<font color="green">_config.yml</font> 文件的
<font color="green">deploy</font> 字段，做如下修改：</li>
</ul>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">deploy: </span><br><span class="line">  type: git</span><br><span class="line">  message: update</span><br><span class="line">  repo: ssh://username@ip:<span class="tag">&lt;<span class="name">your-port</span>&gt;</span>/path_to_remote_git</span><br><span class="line">  branch: master</span><br></pre></td></tr></tbody></table></figure>
<!--
[Hexo的Git部署](https://yanzai.me/hexo-git-deploy.html)
-->
<ul>
<li>Q: Next 主题 busuanzi_count 访客统计失效</li>
<li> A: <a href="http://ibruce.info/2015/04/04/busuanzi/">卜算子官网</a>
提示，"因七牛强制过期『dn-lbstatics.qbox.me』域名，与客服沟通无果，只能更换域名到『busuanzi.ibruce.info』"，所以需要修改卜算子在 next 主题插件里面的域名。<br>
其中，hexo-theme-next 主题中使用了 dn-lbstatics.qbox.me 域名的文件位置为：hexo\_third-party-counter.swig.</li>
</ul>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"># 把以下代码</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"># 替换成</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>然后重新生成和部署博客，即可看到卜算子功能修复，可以参考本人网站下方统计数据，如下图所示。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/bu_suan_zi_demo.jpg"></p>
<!--
[解决hexo博客的Next主题busuanzi_count失效方法](https://ywandy.github.io/%E8%A7%A3%E5%86%B3hexo%E5%8D%9A%E5%AE%A2%E7%9A%84Next%E4%B8%BB%E9%A2%98busuanzi-count%E5%A4%B1%E6%95%88%E6%96%B9%E6%B3%95.html)

-->
<h1 id="nextcloud-配置">NextCloud 配置</h1>
<ul>
<li>Q: 浏览器只能上传到<font color="red">
<strong> nextcloud</strong></font> 服务器 1M 小容量文件<br>
</li>
<li>A: 上传文件大小限制，主要由 nginx
配置文件中的 client_max_body_size 的值决定，其默认值为
1M，我们根据需求调整其大小。</li>
</ul>
<ol type="1">
<li>修改 nginx 配置文件目录下的 nginx.conf 文件
(一般路径是 /etc/nginx/nginx.conf)，增加如下图所示红色内容。</li>
</ol>
<p><img data-src="/downloads/images/blog/expand_nextcloud_size.png"></p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">server_names_hash_bucket_size 128;</span><br><span class="line">client_header_buffer_size 32k;</span><br><span class="line">large_client_header_buffers 4 32k;</span><br><span class="line">client_max_body_size 8000m;</span><br></pre></td></tr></tbody></table></figure>
<ol start="2" type="1">
<li>重启 nginx <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">systemctl restart nginx</span><br></pre></td></tr></tbody></table></figure></li>
<li>检查 nginx 配置状态 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">nginx -t</span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<!--
[Docker搭建私有云Nextcloud](https://www.pbeta.me/docker-nextcloud-ssl/)
-->
<hr>
<h1 id="邮件服务器配置">邮件服务器配置</h1>
<ul>
<li>Q: 免费邮件服务器配置</li>
<li> A:
Yandex，一家来自俄罗斯的域名邮箱提供商，可以搭建免费的域名邮局，免费账户支持 POP、SMTP，还支持 API。唯一的缺点是海外商家，官网速度比较慢，科学上网。</li>
</ul>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">POP3：pop.yandex.com 开启SSL 端口 995  </span><br><span class="line">SMTP：smtp.yandex.com 开启SSL 端口 465  </span><br><span class="line">IMAP：imap.yandex.com 开启SSL 端口 993  </span><br></pre></td></tr></tbody></table></figure>
<p>以<strong>网易邮箱大师</strong>为例，配置图示如下：<br>
<img data-src="/downloads/images/blog/yandex_config.png"></p>
<hr>
<h1 id="更新-letsencrypt-证书">更新<font color="red">
<strong> letsencrypt</strong></font> 证书</h1>
<ul>
<li>Q:
letsencrypt 的 https 证书期限是 3 个月，到期后如何重新更新证书呢？</li>
<li>A: certbot renew<br>
// 上面的指令不成功，换成下面的指令，重新申请证书，不需要改配置<br>
// sudo certbot --force-renew</li>
</ul>
<!--
[10分钟免费开启全站https](https://juejin.im/post/5b07c42c51882538c2203b2f)
-->
<!--
 - Congratulations! Your certificate and chain have been saved at:
   /etc/letsencrypt/live/www.yan**wang.net/fullchain.pem
   Your key file has been saved at:
   /etc/letsencrypt/live/www.yan**wang.net/privkey.pem
   Your cert will expire on 2019-08-19. To obtain a new or tweaked
   version of this certificate in the future, simply run certbot again
   with the "certonly" option. To non-interactively renew *all* of
   your certificates, run "certbot renew"
   -->
<ul>
<li><p>Q: 在 Centos 7 上如何更新 letsencrypt ?</p></li>
<li><p>A: /root/certbot-auto renew<br>
// 上面的指令不成功，换成下面的指令，重新申请证书，不需要改配置<br>
// sudo /root/certbot-auto --force-renew</p>
<blockquote>
<p>You should test your configuration at:
https://www.ssllabs.com/ssltest/analyze.html?d=your.site</p>
</blockquote></li>
<li><p>Q: Renew 失败，报错信息如下： &gt; Attempting to renew cert
(www.xx.net) from /etc/letsencrypt/renewal/www.xx.net.conf produced an
unexpected error: 'ascii' codec can't decode byte 0xe8 in position 57:
ordinal not in range (128). Skipping.</p>
<blockquote>
<p>All renewal attempts failed.</p>
</blockquote></li>
<li><p>A: 解决方法：可能 nginx 配置文件中有中文注释，删掉之后即可 renew
成功。可参考 <a href="https://github.com/certbot/certbot/issues/5509">UnicodeDecodeError:
'ascii' codec can't decode byte 0xe7 in position 2: ordinal not in
range(128)</a> 。</p></li>
</ul>
<!--
[免费SSL证书Let's Encrypt(certbot)安装使用教程](https://www.vpser.net/build/letsencrypt-certbot.html)

 这是我的Centos的配置，以这篇为准
-->
<!--

Redirecting all traffic on port 80 to ssl in /etc/nginx/conf.d/default.conf
Traffic on port 80 already redirecting to ssl in /etc/nginx/conf.d/default.conf

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Your existing certificate has been successfully renewed, and the new certificate
has been installed.

The new certificate covers the following domains: https://yanlongwang.net and
https://www.yanlongwang.net

You should test your configuration at:
https://www.ssllabs.com/ssltest/analyze.html?d=yanlongwang.net
https://www.ssllabs.com/ssltest/analyze.html?d=www.yanlongwang.net
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

IMPORTANT NOTES:
 - Congratulations! Your certificate and chain have been saved at:
   /etc/letsencrypt/live/www.yanlongwang.net/fullchain.pem
   Your key file has been saved at:
   /etc/letsencrypt/live/www.yanlongwang.net/privkey.pem
   Your cert will expire on 2020-03-04. To obtain a new or tweaked
   version of this certificate in the future, simply run certbot-auto
   again with the "certonly" option. To non-interactively renew *all*
   of your certificates, run "certbot-auto renew"
 - If you like Certbot, please consider supporting our work by:

   Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate
   Donating to EFF:                    https://eff.org/donate-le

-->
<!--

server {
    listen 80;
    listen [::]:80;
    server_name drive.yanlongwang.net;
    # enforce https
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name drive.yanlongwang.net;

    ssl_certificate  /etc/letsencrypt/live/drive.yanlongwang.net/fullchain.pem;
    ssl_certificate_key  /etc/letsencrypt/live/drive.yanlongwang.net/privkey.pem;
    
    add_header Strict-Transport-Security "max-age=63072000; includeSubdomains; preload";
    
    location / {
     proxy_pass http://144.34.168.69:1106;
     # proxy_redirect off;
     proxy_set_header X-Real-IP $remote_addr;
     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

-->
<hr>
<h1 id="hexo-提示-typeerrorerr_invalid_arg_type-the-path-argument-must-be-of-type-string-解决办法">Hexo
提示 “TypeError [ERR_INVALID_ARG_TYPE]: The "path" argument must be of
type string ” 解决办法</h1>
<ul>
<li><p>Q：在网站部署过程中，Mac 系统中 “hexo d” 会提示
TypeError [ERR_INVALID_ARG_TYPE]: The "path" argument must be of type
string。</p></li>
<li><p>A：这是因为安装的 node 版本过高导致的。Hexo 官网对 node
的版本要求是不低于 10.13，推荐 12.0 或更高版本。</p>
<blockquote>
<p><a href="http://nodejs.org/">Node.js</a> (Should be at least Node.js
10.13, recommends 12.0 or higher)</p>
</blockquote>
<p>截止在 2021 年 9 月，实践发现 LTS 14.17 版本并不适配最新版的
hexo，所以对 hexo 升级是解决不了这个报错问题。变通的方法是对 node
版本降低，安装 12.0 版本可以解决问题。</p>
<p>在 mac 上如何降级 node 版本，如下。详细可参见 <a href="https://www.jianshu.com/p/c5c298486dbd">homebrew
安装指定版本 node</a> 。</p>
<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"># 如果之前使用`brew install node`安装过 node,需要先执行<span class="string">'解绑'</span>node</span><br><span class="line">brew unlink <span class="title function_">node</span> <span class="params">(不一定需要运行)</span></span><br><span class="line"># 查找可用的node版本 </span><br><span class="line">brew search node</span><br><span class="line"># 安装你需要的版本，建议 node@12</span><br><span class="line">brew install node@12</span><br><span class="line"># 绑定，node@12 需要和你的安装版本一致</span><br><span class="line">brew link node@12</span><br><span class="line"># 上一步如果报错, 按照提示执行命令，比如</span><br><span class="line">brew link --overwrite --force node@12</span><br><span class="line"># 检查安装版本</span><br><span class="line">node -v</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<hr>
]]></content>
      <categories>
        <category>website</category>
      </categories>
      <tags>
        <tag>Website</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo 博客如何加入 B 站视频 / How to add bilibili shared video link in Hexo</title>
    <url>/website/add-video-in-blog/</url>
    <content><![CDATA[<p>[toc]</p>
<p>Hexo 搭建博客后，如果想在博客中分享视频，避免网站服务器带宽的限制，需要添加其他视频网站的外链播放器，具体该怎么操作呢？</p>
<h1 id="solution-1-hexo-tag-aplayer">Solution 1: hexo-tag-aplayer</h1>
<p><a href="https://github.com/MoePlayer/hexo-tag-dplayer">hexo-tag-dplayer</a>
是 <a href="https://github.com/MoePlayer/DPlayer">DPlayer</a> 播放器的
Hexo 标签插件。</p>
<p>因为版本维护者不再支持新版本的更新，有些 bug 没有解决，所以对于高版本的 Hexo 支持不友好，甚至安装阶段就会报错。所以，我不是很支持继续使用该方法。</p>
<p>ps. 想继续坚持使用该方法的，可以移步阅读 <a href="https://www.datablog.top/2019/04/25/hexo-with-music-and-movie/">在 Hexo 搭建的博客中插入音乐或者视频</a>。</p>
<h1 id="solution-2-视频网站外链">Solution 2: 视频网站外链</h1>
<p>Hexo 支持 <a href="https://hexo.io/zh-cn/docs/tag-plugins#iframe">iframe</a>
的方式插入视频，所示我们可以把视频上传到哔哩哔哩、优酷、腾讯视频等，然后生成外链再拿来用。</p>
<p>大部分视频网站的外链播放器在视频开头都会加上 30 秒 - 2 分钟的广告，于是选择 B 站，无广告，无广告，无广告！</p>
<h2 id="去b站获取视频外链">去 B 站获取视频外链</h2>
<p>选择视频下方 “分享” 里的嵌入代码，而不是视频地址。否则进入 Hexo
博客后，网页会自动跳转到 bilibili 的视频页面，而不是自己的博客页面。</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/Copy_bilibili_link.jpg"></p>
<h2 id="在文章中插入视频外链">在文章中插入视频外链</h2>
<p>Markdown 中可以直接插入 html 代码，但是 hexo 给我们特意准备了一个 <a href="https://hexo.io/zh-cn/docs/tag-plugins#Raw">raw</a>
标签来插入 html 代码，防止一些其他因素的干扰，这里我们就使用 raw 来插入视频外链。</p>

<iframe src="//player.bilibili.com/player.html?aid=90978812&amp;cid=155358422&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<p>因为外链 html 没有和 Hexo 适配，所以在网页上打开，界面靠左并且窗口小，显得很难看，不够大气。</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/raw_video_demo.jpg"></p>
<h2 id="美化播放器样式">美化播放器样式</h2>
<p>这里分享一个很巧妙的偷懒方法，我们可以去 Hexo 的 <a href="https://hexo.io/zh-cn/docs/">官网</a>，看看作者是如何布局的，然后把代码抄回来。</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/hexo_pick_up_video_element.jpg"></p>
<p>那么，我们只要把布局中的 src，替换为自己的外链地址，就可以设置好视频的布局。</p>

<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=90978812&amp;cid=155358422&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>

<p>因为简书不支持 iframe，大家可以去我的网站看看效果。</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/video_demo.jpg"></p>
<h1 id="references">References</h1>
<ul>
<li><a href="https://blog.csdn.net/yimagudao/article/details/89524210">hexo-tag-dplayer</a><br>
</li>
<li><a href="https://haokan.baidu.com/v?pd=wisenatural&amp;vid=5242915545602714565">hexo 博客插入 B 站视频外链（raw 实现）</a><br>
</li>
<li><a href="https://baijiahao.baidu.com/s?id=1623914788952059989&amp;wfr=spider&amp;for=pc">Hexo 博客中加入 B 站视频播放器</a></li>
</ul>
]]></content>
      <categories>
        <category>website</category>
      </categories>
      <tags>
        <tag>Website</tag>
      </tags>
  </entry>
  <entry>
    <title>每周学点 C++</title>
    <url>/Programming/advanced-c-plus-plus/</url>
    <content><![CDATA[<p>[toc]</p>
<!--https://blog.csdn.net/jcjc918/article/details/50876613 gflag-->
<!--
Discussion Items:
- make_shardpte 有一次拷贝，并且和原来的地址不一致

-->
<h1 id="std">std</h1>
<h2 id="stdnumeric_limits"><a href="https://en.cppreference.com/w/cpp/types/numeric_limits">std::numeric_limits</a></h2>
<ul>
<li>The std::numeric_limits class template provides a standardized way
to query various properties of arithmetic types.
<ul>
<li>int 的最大值是 numeric_limits<int>::max().</int></li>
</ul></li>
<li><a href="https://en.cppreference.com/w/cpp/types/numeric_limits/min">min</a>
和 <a href="https://en.cppreference.com/w/cpp/types/numeric_limits/lowest">lowest</a>
都被用来获取某个类型的最小值。它们分别返回这个最小值可表示的最小正数
(min) 和最小负数 (lowest)。因此，当 T 是一个无符号类型的时候，min () 和
lowest () 返回的值是相同的。其次，lowest () 只对有符号类型有效，而 min ()
对所有数据类型都有效。</li>
</ul>
<figure class="highlight c"><figcaption><span>++</span><a href="/downloads/code/int_value.cpp">view raw</a></figcaption><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>{</span><br><span class="line">    <span class="type">int</span> max_int = <span class="built_in">std</span>::numeric_limits&lt;<span class="type">int</span>&gt;::max();</span><br><span class="line">    <span class="type">int</span> min_int = <span class="built_in">std</span>::numeric_limits&lt;<span class="type">int</span>&gt;::min();</span><br><span class="line">    <span class="type">int</span> lowest_int = <span class="built_in">std</span>::numeric_limits&lt;<span class="type">int</span>&gt;::lowest();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"max int is "</span> &lt;&lt; max_int &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"min int is "</span> &lt;&lt; min_int &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"lowest int is "</span> &lt;&lt; lowest_int &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// output is</span></span><br><span class="line">    <span class="comment">// max int is 2147483647</span></span><br><span class="line">    <span class="comment">// min int is -2147483648</span></span><br><span class="line">    <span class="comment">// lowest int is -2147483648</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="stdsort"><a href="https://en.cppreference.com/w/cpp/algorithm/sort">std::sort</a></h2>
<ul>
<li>Sorts the elements in the range [first, last) in non-descending
order.
<ul>
<li>要求传入两个迭代器确定范围</li>
</ul></li>
<li>逆序排序 std::sort (vec.rbegin (), vec.rend ())</li>
</ul>
<h2 id="stdequal"><a href="https://en.cppreference.com/w/cpp/algorithm/equal">std::equal</a></h2>
<ul>
<li>Two ranges are considered equal if they have the same number of
elements and, for every iterator i in the range [first1, last1), <em>i
equals </em>(first2 + (i - first1)).
<ul>
<li>要求按位置一致</li>
</ul></li>
<li> std::equal should not be used to compare the ranges formed by the
iterators from std::unordered_set/map</li>
</ul>
<h1 id="programming-grammar">Programming grammar</h1>
<h2 id="string">string</h2>
<h3 id="stdstringsubstr"><a href="https://cplusplus.com/reference/string/string/substr/">std::string::substr</a></h3>
<ul>
<li>Returns a newly constructed string object with its value initialized
to a copy of a substring of this object.</li>
<li>string::substr (pos, n) 返回从 pos 开始的 n 个字符的拷贝.</li>
</ul>
<h3 id="stdstringsize"><a href="https://cplusplus.com/reference/string/string/size/">std::string::size</a></h3>
<ul>
<li>Returns the length of the string, in terms of bytes.</li>
<li>Returns <strong>size_t</strong>, an unsigned integral type.
<ul>
<li>不能直接 min (size_t, int), 编译错误 </li>
</ul></li>
</ul>
<h3 id="stdstringoperator"><a href="https://cplusplus.com/reference/string/string/operator%5B%5D/">std::string::operator[]</a></h3>
<ul>
<li>Returns a <strong>reference</strong> to the character at position
pos in the string.</li>
</ul>
<h2 id="stack">stack</h2>
<h3 id="stdstacktop"><a href="https://cplusplus.com/reference/stack/stack/top/">std::stack::top</a></h3>
<ul>
<li>Returns a <strong>reference</strong> to the top element in the
stack.</li>
<li> 如果栈为空，返回值未定义。</li>
</ul>
<h2 id="map">map</h2>
<h3 id="stdmapinsert"><a href="https://en.cppreference.com/w/cpp/container/map/insert">std::map::insert</a><br>
</h3>
<ul>
<li>插入元素类型是 pair, 可以是 insert ({key_x, value_y}), 或者是
insert (make_pair (key_x, value_y)).</li>
</ul>
<h2 id="const-int-vs-const-int-const-vs-int-const">const int * vs const
int * const vs int const *</h2>
<ul>
<li><p>int const* is equivalent to const int* 指向常量 int 的指针 &gt;
This means that the variable being declared is a pointer, pointing to a
constant integer. Effectively, this implies that the pointer is pointing
to <strong>a value that should not be changed</strong>. Const qualifier
doesn’t affect the pointer in this scenario so the pointer is allowed to
point to some other address.</p></li>
<li><p>int *const 指向 int 的常量指针 &gt; This means that the variable
being declared is a constant pointer pointing to an integer.
Effectively, this implies that <strong>the pointer shouldn’t point to
some other address</strong>. Const qualifier doesn’t affect the value of
integer in this scenario so the value being stored in the address is
allowed to change.</p></li>
<li><p>const int* const is equivalent to int const* const
指向常量 int 的常量指针 &gt; This means that the variable being declared
is a constant pointer pointing to a constant integer. Effectively, this
implies that a constant pointer is pointing to a constant value. Hence,
<strong>neither the pointer should point to a new address nor the value
being pointed to should be changed</strong>.</p></li>
<li><p>Memory Map <img data-src="https://media.geeksforgeeks.org/wp-content/uploads/spiral-2.jpg"></p></li>
</ul>
<blockquote>
<p>One way to remember the syntax (according to Bjarne Stroustrup) is
the spiral rule - The rule says, start from the name of the variable and
move clockwise to the next pointer or type. Repeat until expression
ends.</p>
</blockquote>
<blockquote>
<p>Using this rule, even complex declarations can be decoded like, int
** const is a const pointer to pointer to an int.</p>
</blockquote>
<blockquote>
<p>以 * 为界， 在 * 前后的 const 可以和同侧的 data type
调换位置，不影响变量表达的含义。</p>
</blockquote>
<!--
The first const keyword can go either side of data type, hence const int* const is equivalent to int const* const.
-->
<ul>
<li>Reference to <a href="https://www.geeksforgeeks.org/difference-between-const-int-const-int-const-and-int-const/">Difference
between const int*, const int * const, and int const *</a></li>
</ul>
<h2 id="stdnumeric_limitsmin-vs-lowest">std::numeric_limits::min() vs
lowest()</h2>
<p>根据 <a href="https://en.cppreference.com/w/cpp/types/numeric_limits">ppreference</a>
定义：</p>
<ul>
<li><a href="https://en.cppreference.com/w/cpp/types/numeric_limits/lowest">lowest</a>:
Returns the lowest finite value representable by the numeric type T,
that is, a finite value x such that there is no other finite value y
where y &lt; x.</li>
<li><a href="https://en.cppreference.com/w/cpp/types/numeric_limits/min">min</a>：For
floating-point types with denormalization, min returns the minimum
positive normalized value.</li>
</ul>
<p>也就是说，</p>
<ol type="1">
<li>如果 T 属于 int 型，則 min 和 lowest
会返回一样的值，皆为该类型的最小值（负数或 0）。</li>
<li>如果 T 属于浮点型，min 返回 "最小正数"，lowest 返回最小值。</li>
</ol>
<ul>
<li>Reference to <a href="https://blog.csdn.net/keineahnung2345/article/details/104181062">C++
std::numeric_limits::max ()，min () 及 lowest ()</a></li>
</ul>
<h2 id="stdmove-对象移动">std::move 对象移动</h2>
<blockquote>
<p>在重新分配内存的过程中，从旧内存将元素拷贝到新内存是不必要的，最好的方式是移动元素；此外，IO 类和 unique_ptr 类可以移动但不能拷贝。</p>
</blockquote>
<ul>
<li>标准库容器、string 和 shared_ptr 类既支持移动也支持拷贝。IO 类和 unique_ptr 类可以移动但不能拷贝。</li>
</ul>
<blockquote>
<p>变量是左值，我们不能将一个右值引用直接绑定到一个变量上，即使这个变量是右值引用类型也不行。</p>
</blockquote>
<p>针对上述问题，我们可以使用 move 的新标准库函数显式地将一个左值转换为对应的右值引用类型，来获得绑定到左值上的右值引用。</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">int</span> &amp;&amp;rr1 = <span class="number">42</span>;  <span class="comment">// 正确：字面常量是右值</span></span><br><span class="line"><span class="type">int</span> &amp;&amp;rr2 = rr1;  <span class="comment">// 错误：表达式rr1是左值。</span></span><br><span class="line"><span class="type">int</span> &amp;&amp;rr3 = std::<span class="built_in">move</span>(rr1);  <span class="comment">// 正确。</span></span><br><span class="line"></span><br><span class="line">调用move意味着承诺：除了rr1赋值或者销毁它外，我们将不再使用它。我们不能对移后源对象的值做任何假设。</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>我们可以销毁一个移后源对象，也可以赋予它新值，但不能使用一个移后源对象的值。</p>
</blockquote>
<ul>
<li>与多数标准库名字的使用不同，对 move 我们不提供 using 声明，我们直接调用
<a href="https://en.cppreference.com/w/cpp/utility/move">std::move</a>
而不是 move。</li>
</ul>
<h2 id="stdset">std::set</h2>
<h3 id="stl-中-set-底层实现方式">STL 中 set 底层实现方式？</h3>
<ul>
<li>set 底层实现方式为 RB 树（即红黑树）。</li>
<li>红黑树与 hash table
最大的不同是，红黑树是<strong>有序结构</strong>，而 hash table 不是。
<ul>
<li>如果只是判断 set 中的元素是否存在，那么 hash 显然更合适，因为 set
的访问操作时间复杂度是 log (N) 的，而使用 hash 底层实现的 hash_set 是近似
O (1) 的。</li>
<li>set 应该更加被强调理解为 “集合”，而集合所涉及的操作并、交、差等，即
STL 提供的如交集 set_intersection ()、并集 set_union ()、差集
set_difference () 和对称差集
set_symmetric_difference ()，都需要进行大量的比较工作，那么使用底层是有序结构的红黑树就十分恰当了，这也是其相对 hash 结构的优势所在。</li>
</ul></li>
<li>在 STL 中，set 和 multiset 都是基于红黑树实现的。</li>
</ul>
<h3 id="什么时候使用-stdmove">什么时候使用 std::move</h3>
<blockquote>
<p>When the criteria for elision of a copy operation are met or would be
met save for the fact that the source object is a function parameter,
and the object to be copied is designated by an lvalue, overload
resolution to select the constructor for the copy is ﬁrst performed as
if the object were designated by an rvalue.</p>
</blockquote>
<p>To answer the question in the title, use std::move on a return value
when you want it to be moved and it would not get moved anyway. That is:
- you want it to be moved, and - it is an lvalue, and - it is not
eligible for copy elision, and - it is not the name of a by-value
function parameter.</p>
<p>Reference to <a href="https://stackoverflow.com/questions/14856344/when-should-stdmove-be-used-on-a-function-return-value">When
should std::move be used on a function return value?
[duplicate]</a>.</p>
<h2 id="at-vs-operator-in-vector">at vs operator[] in vector</h2>
<!--
国静在代码中的comments，让我意识到两者的区别。-->
<p><a href="http://www.cplusplus.com/reference/vector/vector/at/">at</a>
returns a reference to the element at position n in the vector, which
automatically checks whether n is within the bounds of valid elements in
the vector, throwing an out_of_range exception if it is not.</p>
<p><a href="http://www.cplusplus.com/reference/vector/vector/operator%5B%5D/">operator[]</a>
returns a reference to the element at position n in the vector
container. Portable programs should never call this function with an
argument n that is out of range, since this causes undefined
behavior.</p>
<p><strong>operator[]</strong> has the same behavior as
<strong>at</strong>, except that vector::at is bound-checked and signals
if the requested position is out of range by throwing an out_of_range
exception.</p>
<blockquote>
<p>在程序中推荐使用 at 函数，而不是 [] 操作符，更安全。</p>
</blockquote>
<h2 id="explicit-抑制构造函数定义的隐式转换">explicit
抑制构造函数定义的隐式转换</h2>
<p>关键字 explicit 只对一个实参的构造函数有效。只能在类内声明构造函数时使用 explicit 关键字，在类外部定义时不应重复。
当我们用 explicit 关键字声明构造函数时，它将只能以直接初始化的形式使用。而且，编译器将不会在自动转换过程中使用该构造函数。</p>
<blockquote>
<p>需要多个实参的构造函数不能用于隐式转换，所以无需将这些构造函数指定为 explicit 的。实测，即使指定为 explicit，程序编译不报错。</p>
</blockquote>
<h2 id="stdupper_bound-vs-stdlower_bound">std::upper_bound vs
std::lower_bound()</h2>
<p><a href="https://en.cppreference.com/w/cpp/algorithm/upper_bound">upper_bound</a></p>
<h2 id="stdvector-和-stdstring-的相互转换">std:vector 和 std:string
的相互转换</h2>
<ul>
<li><a href="http://www.cplusplus.com/reference/string/string/assign/">string::assign</a>
<ul>
<li>Assigns a new value to the string, replacing its current
contents.</li>
</ul></li>
<li><a href="http://www.cplusplus.com/reference/vector/vector/assign/">vector::assign</a>
<ul>
<li>Assigns new contents to the vector, replacing its current contents,
and modifying its size accordingly.</li>
</ul></li>
<li>vector<char> to string <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">// First method</span><br><span class="line">std::vector&lt;char&gt; data = {'a', 'b', 'c'};</span><br><span class="line">std::string res;</span><br><span class="line">res.insert(res.begin(), data.begin(), data.end());</span><br></pre></td></tr></tbody></table></figure></char></li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">// Second method</span><br><span class="line">std::vector&lt;char&gt; data = {'a', 'b', 'c'};</span><br><span class="line">std::string str;</span><br><span class="line">str.clear();</span><br><span class="line">str.assign(data.begin(),data.end());</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>string to vector<char></char></li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">string str = "what a nice day!";</span><br><span class="line">std::vector &lt;char&gt; chars;</span><br><span class="line">chars.resize(str.size());</span><br><span class="line">chars.assign(str.begin(),str.end())</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><a href="https://repl.it/@wylloong/charstostring">Verify
Online</a></li>
</ul>
<h2 id="函数模板function-template返回值">函数模板 (function
template) 返回值</h2>
<p>https://blog.csdn.net/u012515223/article/details/17003679</p>
<h2 id="boostoptional">boost::optional()</h2>
<ul>
<li>读取访问器 (read access) .get () 返回非常量引用 (non-const
reference)，所以你可以向其中写入。</li>
</ul>
<blockquote>
<p>It is sometimes helpful to think of optional as a value-and-pointer
mixed together. There is a possibly null pointer to an owned buffer of
memory that may, or may not hold a copy of the type.</p>
</blockquote>
<p>你可以使用 * 或者 -&gt; 来替代 get () 函数，以下三种写法是等价的。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">*optional</span><br><span class="line">optional-&gt;</span><br><span class="line">optional.get()</span><br></pre></td></tr></tbody></table></figure>
<!--
![How to use boost::optional](https://stackoverflow.com/questions/22227839/how-to-use-boostoptional)
-->
<h1 id="grammar-discriminate">Grammar Discriminate</h1>
<h2 id="构造函数初始化-赋值和初始化">构造函数初始化 (赋值和初始化)</h2>
<p>我们一般习惯于<strong>构造函数初始化列表</strong>和<strong>函数体内</strong>对类的成员变量初始化，两者的区别难道仅仅是表达方式和初始化位置不同吗？</p>
<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 辨析两种初始化参数的方式 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Just show me the code!</span></span><br><span class="line"><span class="comment">// 构造函数初始化列表 (constructor initialize list)</span></span><br><span class="line">ClassA::ClassA(<span class="type">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; name_in):name_(name_in) {</span><br><span class="line">    <span class="comment">// 只调用了默认构造函数，不会再调用拷贝构造函数。</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 赋值初始化</span></span><br><span class="line">ClassA::ClassA(<span class="type">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; name_in) {</span><br><span class="line">    <span class="comment">// 对象的成员变量的初始化动作发生在进入构造函数体之前。</span></span><br><span class="line">    <span class="comment">// name_不是初始化而是赋值。首先调用了这个类的默认构造函数，然后将name_in赋值到name_，即在调用拷贝构造函数。</span></span><br><span class="line">    name_ = name_in; </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>C++ 规定，当某个数据成员被构造函数初始化列表忽略时，它将以与合成默认构造函数相同的方式隐式初始化。即没有出现在构造函数初始化列表中的成员将通过相应的类内初始化（如果存在的话）初始化，或者执行默认初始化。</p>
<p>综上所述，相比函数体内初始化，使用成员初始化列表，程序的效率更高。</p>
<!--
[C++中的初始化列表](https://blog.csdn.net/wangshubo1989/article/details/48937325)
-->
<h2 id="动态绑定">动态绑定</h2>
<ul>
<li>当我们使用基类的引用或指针调用一个虚成员函数时，会执行动态绑定。所以，所有的虚函数都必须有定义。</li>
<li>动态绑定只有当我们通过指针或引用调用虚函数时才会发生。因为当某个虚函数通过指针或引用调用时，编译器产生的代码直到运行时才能确定应该调用哪个版本的函数。</li>
</ul>
<h2 id="默认构造函数">默认构造函数</h2>
<ul>
<li>一旦我们定义了一些其他的构造函数，那么除非我们再定义一个默认的构造函数，否则类将没有默认构造函数。</li>
<li>= default :
声明默认构造函数，等同于之前使用的合成默认构造函数。</li>
</ul>
<h2 id="vector">Vector</h2>
<ul>
<li>当 vector 对象（或数组）销毁时，存储在其中的对象也会被销毁，也就是依次销毁 vector 中的每一个元素。</li>
<li>很多使用动态内存的类应该使用 vector 对象或者 string
对象管理必要的存储空间；使用 vector 或者 string
的类能避免分配和释放内存带来的复杂性。</li>
</ul>
<h2 id="inline">inline</h2>
<ul>
<li>引入原因:
为了解决一些频繁调用的小函数大量消耗栈空间（栈内存）的问题，特别的引入了
<strong>inline</strong>
修饰符，表示为内联函数。栈空间就是指放置程序的局部数据（也就是函数内数据）的内存空间。</li>
<li>inline
只适合涵数体内代码简单的涵数使用，不能包含复杂的结构控制语句，并且不能内联函数本身不能是直接递归函数（即，自己内部还调用自己的函数）.</li>
<li>inline
函数仅仅是一个对编译器的建议，所以最后能否真正内联，由编译器决定。一个好的编译器将会根据函数的定义体，自动地取消不值得的内联</li>
<li>定义在类中的成员函数默认都是内联的，如果在类定义时就在类内给出函数定义，那当然最好。如果在类中未给出成员函数定义，而又想内联该函数的话，那在类外要加上
inline，否则就认为不是内联的。</li>
<li>内联是以代码膨胀（复制）为代价，仅仅省去了函数调用的开销，从而提高函数的执行效率。
<ul>
<li>如果执行函数体内代码的时间，相比于函数调用的开销较大，那么效率的收获会很少。另一方面，每一处内联函数的调用都要复制代码，将使程序的总代码量增大，消耗更多的内存空间。</li>
</ul></li>
<li>inline 不应该出现在函数的声明中，原因如下:
<ul>
<li>高质量 C++/C
程序设计风格的一个基本原则：声明与定义不可混为一谈，用户没有必要、也不应该知道函数是否需要内联。</li>
<li>一个好的编译器将会根据函数的定义体，自动地取消不值得的内联（这进一步说明了
inline 不应该出现在函数的声明中）。</li>
</ul></li>
</ul>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 头文件</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Foo</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span>;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 定义文件</span></span><br><span class="line"><span class="comment">// 关键字 inline 必须与函数定义体放在一起才能使函数成为内联，仅将 inline 放在函数声明前面不起任何作用。</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">A::Foo</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span>{}</span><br></pre></td></tr></tbody></table></figure>
<!--

[C++ 中的 inline 用法](https://www.runoob.com/w3cnote/cpp-inline-usage.html)
-->
<h2 id="copy-constructor-拷贝构造函数">Copy Constructor
拷贝构造函数</h2>
<p>一个特殊的构造函数，一般只有一个参数，这个参数一般是用 const
修饰的，对自己类的一个引用 (reference)。</p>
<h3 id="浅拷贝和深拷贝">浅拷贝和深拷贝</h3>
<p>浅拷贝：两个变量进行浅拷贝时，它们指向同一个地址，它们的值相同。这样会有问题，当其中的一个析构了那个地址，另外一个也没有了，有时候会发生错误，但浅拷贝比较廉价。</p>
<p>深拷贝：两个变量进行深拷贝时，第二变量会重新申请一块区域来存放跟第一个变量指向地址的值。两个东西完全是独立的，只是值相同。消耗比较大，因为要重新申请空间。</p>
<h1 id="code-style">Code Style</h1>
<h2 id="class">class</h2>
<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// Setter</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Accessors</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="friends">Friends</h2>
<!--
[](https://google.github.io/styleguide/cppguide.html#Friends)

什么是friends 用途是什么

# 生肉

## lamda class template
c++ lambda表达式作为类模板参数

## 模板定义和实现不分开
https://www.cnblogs.com/jingshikongming/p/9037881.html
-->
<h2 id="initialization-and">Initialization: =, (), and</h2>
<ul>
<li>For uniform initialization syntax，大括号初始化 (Brace
Initialization) 的潜在问题：
<ul>
<li>“uniform” is a stretch: there are cases where ambiguity still
exists.</li>
<li>This syntax is not exactly intuitive: no other common language uses
something like it.
<ul>
<li>For uniform initialization syntax, we don’t believe in general that
the benefits outweigh the drawbacks.</li>
</ul></li>
</ul></li>
</ul>
<h3 id="best-practices-for-initialization">Best Practices for
Initialization</h3>
<ul>
<li>Use assignment syntax when initializing directly with the intended
literal value (for example: int, float, or std::string values), with
smart pointers such as std::shared_ptr, std::unique_ptr, with containers
(std::vector, std::map, etc), when performing struct initialization, or
doing copy construction.</li>
<li>Use the traditional constructor syntax (with parentheses) when the
initialization is performing some active logic, rather than simply
composing values together.</li>
<li>Use {} initialization without the = only if the above options don’t
compile.</li>
<li>Never mix {}s and auto.
<ul>
<li>For the language lawyers: prefer copy-initialization over
direct-initialization when available, and use parentheses over curly
braces when resorting to direct-initialization.</li>
</ul></li>
</ul>
<!--
- [三种初始化方式](https://abseil.io/tips/88)
-->
]]></content>
      <categories>
        <category>Programming</category>
      </categories>
      <tags>
        <tag>Programming</tag>
        <tag>C Plus Plus</tag>
      </tags>
  </entry>
  <entry>
    <title>Git 高阶命令</title>
    <url>/Linux/advanced-git/</url>
    <content><![CDATA[<p>[toc]</p>
<figure>
<img data-src="/downloads/images/blog/git_command_architecture.png" alt="git 原理图">
<figcaption aria-hidden="true">git 原理图</figcaption>
</figure>
<h1 id="git-command">git command</h1>
<figure>
<img data-src="/downloads/images/blog/git.png" alt="git 命令大集合">
<figcaption aria-hidden="true">git 命令大集合</figcaption>
</figure>
<h2 id="git-add">git add</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">git add -h</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>查看更详细的帮助内容 </p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">git add . </span><br></pre></td></tr></tbody></table></figure><p></p>
</blockquote>
<blockquote>
<p>不加参数默认为将修改操作的文件和未跟踪新添加的文件添加到 git 系统的暂存区，注意不包括删除文件。
</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">git add -u .</span><br></pre></td></tr></tbody></table></figure><p></p>
</blockquote>
<blockquote>
<p>-u ==
--update，表示将已跟踪文件中的修改和删除的文件添加到暂存区，注意不包括新增加的文件。
</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">git add -A .</span><br></pre></td></tr></tbody></table></figure><p></p>
</blockquote>
<blockquote>
<p>-A ==
--all，表示将所有的已跟踪的文件的修改与删除和新增的未跟踪的文件都添加到暂存区。</p>
</blockquote>
<h2 id="stash-local-changes">stash local changes</h2>
<ul>
<li><p>If you want remove all local changes from your working copy,
simply stash them. </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">git stash save --keep-index  </span><br></pre></td></tr></tbody></table></figure><p></p></li>
<li><p>If you don't need them anymore, you now can drop that stash.
</p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">git stash drop</span><br></pre></td></tr></tbody></table></figure><p></p></li>
</ul>
<h2 id="git-pull">git pull</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">git pull origin target_branch_name</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>下载指定分支代码合并到当前分支：相当于指定分支的代码与当前分支的代码合并到了一起)。</p>
</blockquote>
<blockquote>
<p>每次使用该命令前，需要保证本地工作区是没有任何修改代码的，也就是说需要将本地工作区编辑过的文件添加到暂存区 (git
add .)，或提交到本地仓库中 (git
commit)，才可以使用该命令拉取指定分支的代码合并到当前分支中。</p>
</blockquote>
<blockquote>
<p>建议：每次在操作完 git commit 命令后，必须拉取一下 master
分支代码，保持本地正在开发功能逻辑的代码分支代码是最新的，避免后续在提交时冲突过多或覆盖掉其他人的代码的问题出现。</p>
</blockquote>
<h2 id="git-brach">git brach</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">git branch -a</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>加上 - a 参数可以查看远程分支，远程分支会用红色表示出来</p>
</blockquote>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">git log --graph</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>查看分支合并图</p>
</blockquote>
<h2 id="git-log">git log</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">git log --oneline --author=git_name</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>git log 中根据 author 过滤</p>
</blockquote>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">git log --pretty=one</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>显示 git 提交记录的第一行，方便检索和管理提交记录</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">git log --oneline --after="2020-05-21 00:00:00"  | grep "region"</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>查询某段时间的提交记录关键字</p>
</blockquote>
<!--
- [git log查看符合条件的日志](https://blog.csdn.net/xhqiang/article/details/82182342)
-->
<h2 id="git-cherry-pick">git <a href="https://git-scm.com/docs/git-cherry-pick">cherry-pick</a></h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">nothing to commit, working directory clean</span><br><span class="line">The previous cherry-pick is now empty, possibly due to conflict resolution.</span><br><span class="line">If you wish to commit it anyway, use:</span><br><span class="line"></span><br><span class="line">git commit –allow-empty</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>It’s exactly what it says: the changes you’re trying to cherry-pick
are already wholly already integrated/cherry-picked in the branch you’re
on. I.e. the result of the cherry-pick is no changes. You can create an
empty commit with the --allow-empty flag to indicate that you attempted
to cherry-pick, but there were no changes to pull in.</p>
</blockquote>
<!-- [why is git-cherrypick saying nothing to commit](https://config9.com/apps/git/why-is-git-cherrypick-saying-nothing-to-commit/) -->
<h2 id="git-shortlog">git <a href="https://git-scm.com/docs/git-shortlog">shortlog</a></h2>
<h3 id="查找-commit-description-包含某些字符的-log-日志">查找 commit
description 包含某些字符的 log 日志</h3>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">git shortlog --format='%H|%cn|%s' | grep 'your_search_info'</span><br><span class="line"></span><br><span class="line">%H: commit hash</span><br><span class="line">%cn: committer name</span><br><span class="line">%s: subject</span><br></pre></td></tr></tbody></table></figure>
<!-- [git log查找特定commit](https://blog.csdn.net/zhezhebie/article/details/94546790)  -->
<h2 id="git-commit">git commit</h2>
<h3 id="修改-commit-信息"><a href="https://git-scm.com/docs/git-commit#Documentation/git-commit.txt---amend">修改
commit 信息</a></h3>
<p>用一条新的 commit 信息修订现有的 commit，这会覆盖原始
commit。请勿在已推送的 commit 中使用它。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">git commit --amend -m "&lt;new commit message&gt;"</span><br></pre></td></tr></tbody></table></figure>
<h2 id="恢复指定-diff">恢复指定 diff</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">// You can specifically apply an out-of-date diff or a diff which was never attached to a revision by using this flag.</span><br><span class="line">arc patch --diff diff_id --nobranch</span><br></pre></td></tr></tbody></table></figure>
<h2 id="删除多个本地-branches">删除多个本地 branches</h2>
<ul>
<li><a href="https://blog.csdn.net/huuinn/article/details/78167873">本地删除除 master 以外所有分支</a></li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 执行前需要切换到master分支执行</span><br><span class="line">git branch | grep -v "master" | xargs git branch -D</span><br></pre></td></tr></tbody></table></figure>
<!--
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git stash &amp;&amp; git checkout master &amp;&amp; git branch | grep -v &quot;master&quot; | xargs git branch -D</span><br></pre></td></tr></table></figure>
<p>--&gt;</p>
<h2 id="比较两个branch的区别差集">比较两个branch的区别(差集)</h2>
<p>假设我们有2个分支：master 和 dev，现在想查看这两个 branch
的区别，有以下几种方式。 - 查看 dev 有，而 master 中没有</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git log dev ^master </span><br></pre></td></tr></table></figure>
<ul>
<li>查看 dev 中比 master 中多提交了哪些内容</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git log master..dev</span><br></pre></td></tr></table></figure>
<ul>
<li><a
href="https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection">Double
Dot</a> &gt; The most common range specification is the double-dot
syntax. This basically asks Git to resolve a range of commits that are
reachable from one commit but aren’t reachable from another.</li>
<li><a
href="https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection">Triple
Dot</a>
<ul>
<li>此命令可以查看全差(并集与交集的差集) &gt; The last major
range-selection syntax is the triple-dot syntax, which specifies all the
commits that are reachable by either of two references but not by both
of them.</li>
</ul></li>
<li>所以，以下三个命令的功能是一致的，查看refB有而refA没有的。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git log refA..refB</span><br><span class="line">$ git log ^refA refB</span><br><span class="line">$ git log refB --not refA</span><br></pre></td></tr></table></figure>
<!--
- [git 对比两个分支差异](https://blog.csdn.net/u011240877/article/details/52586664)
-->
<h3 id="如何把分支比较结果输入到指定文件">如何把分支比较结果输入到指定文件</h3>
<ul>
<li>Linux 输出重定向 </li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&gt; 输出重定向：会将原来的文件内容覆盖。</span><br><span class="line">&gt;&gt; 追加：不会覆盖原来文件的内容，而是追加到文件的尾部。</span><br></pre></td></tr></tbody></table></figure>
<!--
[Linux 重定向和追加](https://blog.csdn.net/qq_36761831/article/details/89847015)
-->
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 使用 Linux 重定向命令</span><br><span class="line">git diff [branchA] [branchB] &gt;&gt;d:/diff/exportname.diff # 追加</span><br><span class="line"></span><br><span class="line">git diff [branchA] [branchB] &gt;d:/diff/exportname.diff # 覆盖</span><br></pre></td></tr></tbody></table></figure>
<!--
- [git diff 查看两个分支的区别，如何将结果输出到指定文件](https://segmentfault.com/q/1010000005033288)
-->
<h2 id="git-patch">git patch</h2>
<!--
[diff 和 patch 使用详解](https://blog.csdn.net/gdutxiaoxu/article/details/89606676?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param)
-->
<p>有时候，我们需要进行代码迁移，比如把 A 开发机上的代码迁移到 B
开发机上，这时候就可以使用补丁。</p>
<p>git 提供两种补丁方案： - 通过 git diff 生成 .diff 文件。 *
可以指定文件生成 .diff 文件，也可以指定单个或多个 commit 生成。 *
生成的文件不含有 commit 信息。 - 通过 git format-patch 生成 .patch
文件。 * 一个 commit 对应一个 patch 文件。 * 生成的文件含有 commmit
信息。</p>
<h3 id="git-format-patch">git format-patch</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 当前分支所有超前 master 的提交</span><br><span class="line">git format-patch -M master</span><br><span class="line"></span><br><span class="line"># 某次提交以后的所有 patch。[commit id] 指的是 commit name，可以通过 git log 查看。</span><br><span class="line">git format-patch [commit id]</span><br><span class="line"></span><br><span class="line"># 某两次提交之间的所有patch:</span><br><span class="line">git format-patch [commit sha1 id..[commit sha2 id]</span><br></pre></td></tr></tbody></table></figure>
<p>git format-patch 命令中，一个 commit 对应一个 patch
文件，所以生成的补丁文件默认从 1
开始顺序编号，并使用对应提交信息中的第一行作为文件名。</p>
<h3 id="apply-patch">apply patch</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 先检查 patch 文件</span><br><span class="line">git apply --stat   xxx.patch</span><br><span class="line"></span><br><span class="line"># 检查能否应用成功</span><br><span class="line">git apply --check xxx.patch</span><br><span class="line"></span><br><span class="line"># 打补丁。使用 -s 或 –-signoff 选项，可以 commit 信息中加入 signed-off-by 信息。</span><br><span class="line">git am --signoff &lt; xxx.patch</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>branch 中修改文件所在目录，git 是可以跟踪这个变化的。</li>
</ul>
<h2 id="git-submodule">git submodule</h2>
<p>有种情况我们经常会遇到：某个工作中的项目需要包含并使用另一个项目。
也许是第三方库，或者你独立开发的，用于多个父项目的库。
现在问题来了：你想要把它们当做两个独立的项目，同时又想在一个项目中使用另一个。</p>
<p>Git 通过子模块来解决这个问题。 子模块允许你将一个 Git 仓库作为另一个
Git 仓库的子目录。
它能让你将另一个仓库克隆到自己的项目中，同时还保持提交的独立。</p>
<p>在配置网站的 gitHun Actions 中，主题 Next 是一个 submodule。我将 Next
submodule 转化为普通文件夹，步骤如下所示。 </p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></tbody></table></figure><p></p>
<p><a href="https://www.littlezhang.com/2020/01/%E5%A6%82%E4%BD%95%E6%8A%8A-git-submodule-%E5%8F%98%E6%88%90%E6%99%AE%E9%80%9A%E6%96%87%E4%BB%B6%E5%A4%B9/">如何把
Git Submodule 变成普通文件夹</a></p>
<h1 id="references">References</h1>
<ul>
<li><p><a href="http://way.xiaojukeji.com/article/9850?from=mail">Git 学习笔记</a></p></li>
<li><p><a href="https://mp.weixin.qq.com/s?__biz=MzI3MTA0MTk1MA==&amp;mid=2652061065&amp;idx=4&amp;sn=d5b14894b191ee3bfc1d1cdfa3f5b022&amp;chksm=f1204978c657c06e3fb9be73283effe256e8ba2d194115a77c010026cd85b972d4abd951e5a0&amp;mpshare=1&amp;scene=1&amp;srcid=&amp;sharer_sharetime=1577523609386&amp;sharer_shareid=243305afe8bf4fded3a4c505959e2eb3#rd">Git 内部原理揭秘</a>
<!--解释从文件更改到代码储存，Git究竟是怎么实现的 --></p></li>
<li><p><a href="https://mp.weixin.qq.com/s?__biz=MjM5MDE0Mjc4MA==&amp;mid=2651024610&amp;idx=4&amp;sn=fedf2d0fb61d6b6a2b9ce3759fb980b5&amp;chksm=bdbe94b18ac91da70ca978004222310c9052316610941a8515eb1915aeebc4eda8943f9cef1d&amp;mpshare=1&amp;scene=1&amp;srcid=&amp;sharer_sharetime=1583164743137&amp;sharer_shareid=243305afe8bf4fded3a4c505959e2eb3#rd">10 个节省时间和改善工作流的 Git 技巧</a></p></li>
</ul>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Programming</tag>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>高阶 Markdown</title>
    <url>/Markdown/advanced-markdown/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="文字加阴影">文字加阴影</h2>
<ul>
<li>Q: 如何给文字加阴影，类似于 <code>这样</code>？</li>
<li>A: 在内容的前后加上一个反引号 (键盘左上角，ESC
按键下)，如下所示。</li>
</ul>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">`这样`</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><a href="https://www.jianshu.com/p/80ac23666a98">如何在 markdown
中打出特殊符号</a>
<ul>
<li><a href="https://blog.csdn.net/html5_/article/details/21639475">HTML 中的特殊符号</a></li>
</ul></li>
</ul>
<h2 id="折叠文字显示">折叠文字显示</h2>
<ul>
<li>Q: 如何折叠文字显示，比如</li>
</ul>
<details>
<summary>
点击查看详细内容
</summary>
<p>
你好哇！
</p>
<pre><code></code></pre>
</details>
<ul>
<li>A: 格式如下： <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;details&gt;</span><br><span class="line">  &lt;summary&gt;点击查看详细内容&lt;/summary&gt;</span><br><span class="line">  &lt;p&gt; 你好哇！&lt;/p&gt;</span><br><span class="line">  &lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;</span><br><span class="line">&lt;/details&gt;</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<p><code>details</code>：折叠语法标签
<code>summary</code>：折叠语法展示的摘要
<code>pre</code>：以原有格式显示元素内的文字是已经格式化的文本。
<code>blockcode</code>：表示程序的代码块。
<code>code</code>：指定代码范例。</p>
<!--
[使用Html样式和折叠语法](https://www.cnblogs.com/buwuliao/p/9578918.html)
-->
<p><img data-src="http://www.waylon.one/downloads/images/blog/tremble.gif"></p>
]]></content>
      <categories>
        <category>Markdown</category>
      </categories>
      <tags>
        <tag>Markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>Python 进阶</title>
    <url>/Programming/advanced-python/</url>
    <content><![CDATA[<p>[toc]</p>
<ul>
<li><a href="https://docs.python.org/3/library/index.html">The Python
Standard Library</a>
<ul>
<li><em>keep this under your pillow</em></li>
</ul></li>
</ul>
]]></content>
      <categories>
        <category>Programming</category>
      </categories>
      <tags>
        <tag>Programming</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>ubuntu 进阶学习</title>
    <url>/uncategorized/advanced-ubuntu/</url>
    <content><![CDATA[<h2 id="什么是-snap">什么是 Snap</h2>
<p>Snap 包是 Ubuntu 16.04 LTS 发布时引入的新应用格式包。</p>
<blockquote><p>当你在安装完 snap 后，你会发现在在根目录下会出现如
/dev/loop0、/dev/loop1 等挂载点，这些挂载点正是 snap 软件包的目录。Snap
使用了 squashFS 文件系统，一种开源的压缩，只读文件系统，基于 GPL
协议发行。一旦 snap
被安装后，其就有一个只读的文件系统和一个可写入的区域。应用自身的执行文件、库、依赖包都被放在这个只读目录，意味着该目录不能被随意篡改和写入。</p>
<footer><strong>Canonical </strong><cite><a href="https://cn.ubuntu.com/blog/what-is-snap-application">什么是 Snap 应用？</a></cite></footer></blockquote>
<img data-src="/downloads/images/snap_loop.png" class="" title="/dev/loopX是 snap 的目录">
<p>较传统 Linux 的 rpm，deb 软件包，snap 引入 squashFS 文件系统，使得
snap 的安全性要优于传统的 Linux 软件包。同时，每个 snap
默认都被严格限制（confined），即限制系统权限和资源访问。但是，可通过授予权限策略来获得对系统资源的访问。</p>
<p>使用 snap
包的另一好处就是它类似一个容器拥有一个应用程序所有的文件和库，各个应用程序之间完全独立；解决了应用程序之间的依赖问题，使应用程序之间更容易管理，但是由此带来的问题就是它占用更多的磁盘空间。</p>
<h2 id="install-shutter-screenshot-tool">Install Shutter Screenshot
Tool</h2>
<h3 id="installing-shutter-on-ubuntu-20.04-18.04">Installing Shutter on
Ubuntu 20.04 &amp; 18.04</h3>
<figure class="highlight shell"><figcaption><span>https://itsfoss.com/install-shutter-ubuntu/ Installing Shutter on Ubuntu 20.04 &amp; 18.04</span></figcaption><table><tbody><tr><td class="code"><pre><span class="line">// Shutter is not available in Ubuntu 20.04.</span><br><span class="line">sudo add-apt-repository ppa:linuxuprising/shutter</span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt install shutter</span><br></pre></td></tr></tbody></table></figure>
<h2 id="切换-python-环境">切换 Python 环境</h2>
<figure class="highlight shell"><figcaption><span>https://www.cnblogs.com/liuzhenbo/p/13176869.html ubuntu 切换 python 版本 </span></figcaption><table><tbody><tr><td class="code"><pre><span class="line">// 查看你系统中有哪些Python的二进制文件可供使用</span><br><span class="line">ls /usr/bin/python*</span><br><span class="line">// 查看python替换版本信息</span><br><span class="line">update-alternatives --list python</span><br><span class="line">// 使用以下命令随时在列出的python替换版本中任意切换</span><br><span class="line">sudo update-alternatives --config python</span><br><span class="line">// 再查一下默认Python版本</span><br><span class="line">python --version</span><br></pre></td></tr></tbody></table></figure>
<h2 id="用-aptitude-代替-apt-get-处理依赖性问题">用 aptitude 代替
apt-get 处理依赖性问题</h2>
<ul>
<li>aptitude 与 apt-get 一样，是 Debian
及其衍生系统中功能极其强大的包管理工具。与 apt-get 不同的是，aptitude
在处理依赖问题上更佳一些。举例来说，aptitude 在删除一个包时，会同时删除本身所依赖的包。这样，系统中不会残留无用的包，整个系统更为干净。</li>
<li>注意事项</li>
<li>为什么可以这么做</li>
</ul>
]]></content>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Vim 高级操作</title>
    <url>/Linux/advanced-vim-operations/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="commands">Commands</h1>
<ul>
<li>命令行终端输入: vimtutor。
这是史上最简单、最全面的 vim 基础教程，至今无人超越。<br>
</li>
<li>tree<br>
<a href="https://www.runoob.com/linux/linux-comm-tree.html">tree</a>
命令用于以树状图列出目录的内容，它会列出指定目录下的所有文件，包括子目录里的文件。</li>
</ul>
<h1 id="功能扩展">功能扩展</h1>
<h2 id="文本整体的处理">文本整体的处理</h2>
<ul>
<li>gu：切换为小写</li>
<li> gU：切换为大写</li>
<li> ~：切换光标所在位置的字符的大小写形式，大写转换为小写，小写转换为大写。</li>
<li>3~：将光标位置开始的 3 个字母改变其大小写</li>
</ul>
<h2 id="如何删除一个单词">如何删除一个单词</h2>
<ul>
<li>dw
<ul>
<li>从光标当前的位置开始删除，直到单词最后。</li>
</ul></li>
<li>daw
<ul>
<li>删除光标所在的单词，简记 delete a word。</li>
</ul></li>
<li>bdw
<ul>
<li>复合命令，b
可以让光标回退到单词开头的位置，而 dw 则是从头开始删除单词。</li>
</ul></li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># de 删除至当前单词末尾，包括当前字符</span><br><span class="line"># d$ 删除至当前行尾</span><br><span class="line"># 2dd 删除两行</span><br></pre></td></tr></tbody></table></figure>
<h1 id="移动光标">移动光标</h1>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># hjkl</span><br><span class="line"># 2w 向前移动两个单词</span><br><span class="line"># 3e 向前移动到第 3 个单词的末尾</span><br><span class="line"># 0 移动到行首</span><br><span class="line"># &lt;ctrl&gt;+o 跳转回之前的位置</span><br><span class="line"># &lt;ctrl&gt;+i 返回跳转之前的位置</span><br></pre></td></tr></tbody></table></figure>
<p>修改</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># A 当前行末尾添加</span><br></pre></td></tr></tbody></table></figure>
<p>撤销</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># u 撤销</span><br><span class="line"># &lt;ctrl&gt;+r 取消撤销</span><br></pre></td></tr></tbody></table></figure>
<p>状态</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># &lt;ctrl&gt;+g 显示当前行以及文件信息</span><br></pre></td></tr></tbody></table></figure>
<h2 id="查找">查找</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># / 正向查找（n：继续查找，N：相反方向继续查找）</span><br><span class="line"># ？ 逆向查找</span><br><span class="line"># :set ic 忽略大小写</span><br><span class="line"># :set noic 取消忽略大小写</span><br><span class="line"># :set hls 匹配项高亮显示</span><br><span class="line"># :set is 显示部分匹配</span><br></pre></td></tr></tbody></table></figure>
<p>替换</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># :s/old/new 替换该行第一个匹配串</span><br><span class="line"># :s/old/new/g 替换全行的匹配串</span><br><span class="line"># :%s/old/new/g 替换整个文件的匹配串</span><br></pre></td></tr></tbody></table></figure>
<h2 id="搜索">搜索</h2>
<ul>
<li>匹配末尾 </li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">/关键字\&gt;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>匹配开头 </li>
</ul>
<figure class="highlight jsx"><table><tbody><tr><td class="code"><pre><span class="line">/\&lt;关键字</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>排序 </li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">!sort</span><br></pre></td></tr></tbody></table></figure>
<h2 id="复制到剪贴板">复制到剪贴板</h2>
<ul>
<li><a href="https://blog.csdn.net/zhangxiao93/article/details/53677764">vim 在系统剪切板的复制与粘贴</a></li>
</ul>
<ol type="1">
<li>查看 vim 版本是否支持 clipboard <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">vim --version | grep "clipboard"</span><br></pre></td></tr></tbody></table></figure></li>
<li>clipboard 前面如果有一个减号，说明不支持，需要 安装图形化界面的 vim。
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt-get install vim-gnome</span><br></pre></td></tr></tbody></table></figure></li>
<li>打开 vim 输入 :reg 查看 vim 的寄存器，当支持 clipboard
之后，会多出 "+ 寄存器，表示系统剪切板。在 vim 中进入 visual 视图后，使用
"Ny
(N 表示特定寄存器编号)，可以将内容复制到特定的剪切板，那么我们的目的是要复制到系统剪切板则需要选中内容后输入命令：
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">"+y</span><br></pre></td></tr></tbody></table></figure></li>
<li>同理，"+p 将系统剪切板的内容拷贝到 vim 中（非编辑模式下）。
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">"+p</span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<h2 id="多窗口调整窗口大小">多窗口调整窗口大小</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">// 命令行模式下 </span><br><span class="line">// 纵向调整 []输入可选，可以输入也可以不输入，num 指代一个数字</span><br><span class="line">:res[ize]  num		// 指定当前窗口为num列num行</span><br><span class="line">:res[ize] +num		// 把当前窗口高度增加num行 </span><br><span class="line">:res[ize] -num		// 把当前窗口高度减少num行 </span><br><span class="line">// 横向调整 </span><br><span class="line">:vert[ical] res[ize]  num		// 指定当前窗口为num列 </span><br><span class="line">:vert[ical] res[ize] +num		// 把当前窗口增加num列 </span><br><span class="line">:vert[ical] res[ize] -num		// 把当前窗口减少num列</span><br></pre></td></tr></tbody></table></figure>
<p><a href="https://www.cxyzjd.com/article/qwaszx523/77750600">参考链接</a></p>
<h2 id="显示行号"><a href="https://blog.csdn.net/qq_40855100/article/details/122943024">显示行号</a></h2>
<p>命令行模式，输入 “set number” 或者 “set nu”。</p>
<h2 id="替换文本">替换文本</h2>
<ul>
<li>对于替换命令 s 来说，如果要替换掉换行符，需使用
作为搜索串；如果要替换字符串生成新行，请使用 为目标串。</li>
</ul>
<hr>
<h1 id="references">References</h1>
<ul>
<li><a href="https://mp.weixin.qq.com/s?__biz=MjM5OTA1MDUyMA==&amp;mid=2655439918&amp;idx=2&amp;sn=8b7d7fa6c170ae9698af8bbef0aa64e6&amp;chksm=bd7300598a04894fbc11b825485c53fe4a5be1be9707d24ab39e8b21ff88c5be073c16ec9312&amp;mpshare=1&amp;scene=1&amp;srcid=11050XVg00AZfUY8Hw7ww2z9#rd">如何让
Vim 成为我们的神器</a></li>
<li><a href="https://mp.weixin.qq.com/s/l5f1299fxOuMF9ZZ4wA17A?utm_source=newsletter&amp;utm_medium=email&amp;utm_campaign=202001">git
高级用法小抄</a>
<!--内容包括新手入门，.vimrc的基本配置和插件配置(NerdTree)。--></li>
</ul>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Autonomous Helicopter Flight via RL 笔记</title>
    <url>/paper/autonomous-helicopter-flight-via-RL/</url>
    <content><![CDATA[<p>[toc]</p>
<p>Autonomous Helicopter Flight via Reinforcement Learning</p>
<p><a href="https://people.eecs.berkeley.edu/~jordan/papers/ng-etal03.pdf">Paper
download link</a></p>
<p>多平台维护不易，内容实时更新于 <a href="http://www.waylon.one/paper/autonomous-helicopter-flight-via-RL/">个人网站</a>，请移步阅读最新内容。</p>
<!--
- 先给出结论，然后举个例子，方便读者理解。这是一种好的写作方法，可以借鉴下。

-->
<h1 id="abstract">Abstract</h1>
<p>直升机飞行被普遍认为是一个具有挑战性的控制问题。作者在本文中描述了强化学习在自动直升机飞行控制器设计上的成功应用：本文首先拟合了一个随机、非线性的直升机动态模型，然后使用该模型去学习如何定点悬浮 (hover
in place)，以及如何飞出 RC 直升机竞赛的复杂行为 (maneuvers)。 &gt; In this
paper, we describe the successful application of reinforcement learning
to designing a controller for autonomous helicopter flight.</p>
<blockquote>
<p>CM (Comment):
博客着重分析直升机模型建立，以及基于模型的控制策略学习。</p>
</blockquote>
<h1 id="introduction">INTRODUCTION</h1>
<ul>
<li><p>直升机悬停的难度，旋翼顺时针转动，直升机底盘会逆时针旋转；引入尾部旋翼来克服底盘的转动，但同时带来了漂移 (drift) 的问题。所以，直升机悬停时，一般是机体向右倾斜。
&gt; So, for a helicopter to hover in place, it must actually be tilted
slightly to the right, so that the main rotor’s thrust is directed
downwards and slightly to the left, to counteract this tendency to drift
sideways.</p></li>
<li><p> 对于没有较多直升机控制知识的同学，建议先观看一个讲解直升机飞行原理和控制策略的科普视频，复习一下牛顿三大定律在直升机控制上的应用，否则后面的控制学习不容易理解。</p></li>
</ul>
<!--
[牛顿力学三大定律](http://gaozhongwuli.com/zt/niudun/480447.html)
- 牛顿第一运动定律(惯性定律):   
  * 任何物体都保持静止或匀速直线运动的状态，直到受到其它物体的作用力迫使它改变这种状态为止。
- 牛顿第二运动定律(加速度定律):
  * 物体在受到合外力的作用会产生加速度，加速度的方向和合外力的方向相同，加速度的大小正比于合外力的大小与物体的惯性质量成反比。
- 牛顿第三运动定律(作用力与反作用力定律):
  * 两个物体之间的作用力和反作用力，在同一条直线上，大小相等，方向相反。
-->

<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=14831817&amp;bvid=BV1mx411G7tG&amp;cid=24168563&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>

<!--
- 在物理学里，作用力促使物体绕着转动轴或支点转动的趋向，称为力矩（torque或moment），也就是扭转的力。
- 力矩是角动量的变化量。
- 陀螺进动
  * 进动（precession）是自转物体之自转轴又绕着另一轴旋转的现象。
  * [link](https://zh.wikipedia.org/wiki/%E9%80%B2%E5%8B%95)
-->
<ul>
<li>看完视频后，相比可以看到直升机设计精巧 (ingenious
solutions)，然而不直观的直升机动力学 (nonintuitive
dynamics) 使得直升机的控制具有难度。</li>
</ul>
<h1 id="autonomous-helicopter">Autonomous Helicopter</h1>
<h2 id="硬件设备">硬件设备</h2>
<ul>
<li>Yamaha R-50 helicopter (长 3.6m，载重 20kg)
<ul>
<li>an Inertial Navigation System (INS)</li>
<li>a differential GPS system (a resolution of 2cm)</li>
<li>a digital compass</li>
<li>an onboard navigation computer</li>
</ul></li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Yamaha_R-50_helicopter.png"></p>
<ul>
<li> 最后，基于卡尔曼滤波 (the position estimates given by the Kalman
filte)，上述硬件以 50Hz 对外输出直升机的状态估计 (数字量)：位置 (position)，方向 (orientation)，速度 (velocity) 和角速度 (angular
velocities)。</li>
</ul>
<p>基于上述视频容易理解，大多数直升机是通过 4 维的运动空间 (4-dimensional
action space) 来实现飞行控制的：桨旋转平台的前后左右的倾斜 (tilting this
plane either forwards/backwards or
sideways)，主螺旋桨角度的变化，机翼螺旋桨角度的变化。</p>
<ol type="1">
<li>Cyclic pitch: The longtitudinal (front-back) and latitudinal
(left-right) cyclic pitch controls. By tilting this plane (the
helicopter’s rotors rotate) either forwards/backwards or sideways, these
controls cause the helicopter to accelerate forward/backwards or
sideways.</li>
</ol>
<p><img width="467" height="263" data-src="http://www.waylon.one/downloads/images/blog/cyclic_pitch.jpg"></p>
<ol start="2" type="1">
<li>Collective pitch: The (main rotor) collective pitch control. By
varying the tilt angle ofthe rotor blades, the collective pitch control
affects the main rotor’s thrust.</li>
</ol>
<p><img width="467" height="263" data-src="http://www.waylon.one/downloads/images/blog/collective_pitch.jpg"></p>
<ol start="3" type="1">
<li>Yaw motion: The tail rotor collective pitch control. Using a
mechanism similar to the main rotor collective pitch control, this
controls the tail rotor’s thrust.</li>
</ol>
<p><img width="467" height="263" data-src="http://www.waylon.one/downloads/images/blog/yaw_motion.jpg"></p>
<p>综上，本文的任务就是基于卡尔曼滤波的位置估计，周期 (50Hz) 挑选好的控制行为 (pick
good control actions)。 &gt; Using the position estimates given by the
Kalman filter, our task is to pick good control actions every 50th of a
second.</p>
<h1 id="model-identification">Model identification</h1>
<h2 id="fit-the-helicopters-dynamics-model">Fit the helicopter’s
dynamics model</h2>
<ul>
<li><p>数据输入：记录人类驾驶员操作直升机的数据 (12-dimensional
helicopter state &amp; 4-dimensional helicopter control
inputs)，使用这些飞行数据进行模型拟合 (model fittin)。 &gt; We began by
asking a human pilot to fly the helicopter for several minutes, and
recorded the 12-dimensional helicopter state and 4-dimensional
helicopter control inputs as it was flown.</p></li>
<li><p> 使用机体坐标系 (helicopter body coordinates)，可以减少参数辨识量。
&gt; in which the x, y, and z axes are forwards, sideways, and down
relative to the current position of the helicopter.</p>
<blockquote>
<p>Our model is identified in the body coordinates, which has four fewer
variables than the spatial (world) coordinates.</p>
</blockquote></li>
</ul>
<h3 id="locally-weighted-linear-regression-局部加权线性回归">Locally
weighted linear regression (局部加权线性回归)</h3>
<ul>
<li><p><a href="https://www.cnblogs.com/czdbest/p/5767138.html">局部加权线性回归知识</a></p></li>
<li><p> s(t+1) = f(s(t), a(t), noise)<br>
&gt; By applying locally-weighted regression with the state s(t) and
action a(t) as inputs, and the one-step differences of each of the state
variables in turn as the target output, this gives us a non-linear,
stochastic, model ofthe dynamics, allowing us to predict s(t+1) as a
function of s(t) and a(t) plus noise.</p></li>
<li><p> 此外，和直升机的先验知识结合，提出优化模型的一些策略方法，减少拟合的参数量。
&gt; Similar to the use of body coordinates to exploit symmetries, there
is other prior knowledge that can be incorporated.</p>
<blockquote>
<p>Similar reasoning allows us to conclude that certain other parameters
should be 0， 1/50(50Hz) or g(gravity), and these were also
<strong>hard-coded</strong> into the model.</p>
</blockquote></li>
<li><p>加入三个不可观测的参数 (unobserved
variables) 来描述模型在控制上的延迟 (model latencies)。</p>
<blockquote>
<p>Finally, we added three extra (unobserved) variables to model
latencies in the responses to the controls.</p>
</blockquote></li>
<li><p>通过图片 (plots) 将长时间段的均方差显示出来的交互方式，更容易看出差异和比较来选择模型，观察模型在长时间段内的拟合准确程度。
&gt; Our main tool for choosing among the models was plots.</p>
<blockquote>
<p>查看在一段时间内 (at longer time scales) 的预测位置 (estimated
position) 和真实位置 (true position) 的均方差 (mean-squared error)。</p>
</blockquote>
<blockquote>
<p>For a model, the mean-squared error (as measured on test data)
between the helicopter’s true position and the estimated position at a
certain time in the future.</p>
</blockquote></li>
<li><p>建立好模型的意义，增强后期在真实环境下的可靠性。 &gt; We wanted
to verify the fitted model carefully, so as to be reasonably confident
that a controller tested successfully in simulation will also be safe in
real life.</p>
<blockquote>
<p>对没有建模的噪声输入，担心噪声超出模型的预测。为次，通过图片检查 (plots) 直升机的预测输出是否超出误差阈值。</p>
</blockquote>
<blockquote>
<p>One of our concerns was the possibility that unmodeled correlations
in noise might mean the noise variance of the actual dynamics is much
larger than predicted by the model.</p>
</blockquote></li>
</ul>
<h1 id="reinforcement-learning-the-pegasus-algorithm">Reinforcement
learning: The PEGASUS algorithm</h1>
<h2 id="对pegasus的描述">对 PEGASUS 的描述</h2>
<p><img width="628" height="140" data-src="http://www.waylon.one/downloads/images/blog/PEGASUS.jpg"></p>
<ul>
<li>这些使用程序很难精确计算，但是可以借助于计算机来仿真 MDP 的动力学。</li>
</ul>
<p><img width="631" height="120" data-src="http://www.waylon.one/downloads/images/blog/PEGASUS_calculate.jpg"></p>
<!--
- 看似简单的PEGASUS算法，实则是一个困难的随机优化问题。

CM: 为何会有这样的论断，自己却不是很清楚，看来对深度学习的理论知识了解的还不够呢。

> This is a difficult stochastic optimization problem.
-->
<p><img width="631" height="108" data-src="http://www.waylon.one/downloads/images/blog/good_estimate_of_U.jpg"></p>
<h1 id="learning-to-hover">Learning to Hover</h1>
<ul>
<li><p>以其他控制器尝试为例 (μ-synthesis)，来说明问题的难度和微妙</p>
<blockquote>
<p>These comments should not be taken as conclusive of the viability of
any of these methods; rather, we take them to be indicative of the
difficulty and subtlety involved in learning a helicopter
controller.</p>
</blockquote></li>
</ul>
<!--
自己的眼光局限，限制了对Matlab的理解，原来matlab有很多的tools，避免重复造轮子的麻烦

[matlab toolbox](http://math.cumt.edu.cn/_upload/article/files/0c/51/f02bf76b4f06ad4652ba3818e1c4/90c825c4-382c-473f-9be8-c54074793153.pdf)
[Matlab 工具介绍](http://www.360doc.com/content/16/0719/12/27698033_576742232.shtml)
![Matlab toolbox](57057D4A185949F5A4225AC73B271013)

![](https://www.yanlongwang.net/downloads/images/blog/matlab_toolbox.jpg)

曾经以为，计算机是万能的，机械无用论，matlab可以被python无情替代，现在看来是自己太naive，各行各业都有一大群人在默默地努力。计算机只是一个替代人计算和行动的工具，怎么可能是万能的呢？

尊重每一个学科，存在是有必要性的，只不过必要性现在没有体现出来而已。如果自己不是读文献，不是准备读博士，怎么会发现世界的奇妙呢？困在自己的一点认知中，妄自尊大才可怕。
-->
<ul>
<li><p>从直升机悬停开始学习策略。 &gt; We began by learning a policy for
hovering in place.</p>
<ul>
<li><p>直升机悬停控制的神经网络设计<br>
<img data-src="http://www.waylon.one/downloads/images/blog/RL_helicopter_policy_class.jpg"></p>
<blockquote>
<p>The picture inside the circles indicate whether a node outputs the
sum of their inputs, or the tanh of the sum of their inputs. Each edge
with an arrow in the picture denotes a tunable parameter. The solid
lines show the hovering policy class. The dashed lines show the extra
weights added for trajectory following.</p>
</blockquote>
<ul>
<li>很明显，需要具备直升机控制的理论和实践知识。</li>
</ul>
<blockquote>
<p>Each of the edges in the figure represents a weight, and <strong>the
connections were chosen via simple reasoning about which control channel
should be used to control which state variables</strong>.</p>
</blockquote></li>
</ul></li>
<li><p>结合具体的问题和目标，设计奖励函数和惩罚函数，这是需要除计算机知识和强化学习知识外的专业知识和实践经验。</p>
<ul>
<li>二阶奖励函数 (靠近目标点 + 速度变化慢) &gt; This encourages the
helicopter to hover near target position, while also keeping the
velocity small and not making abrupt movements.</li>
<li> 二阶惩罚函数 (鼓励平滑控制和小行动) &gt; To encourage small actions
and smooth control of the helicopter, we also used a quadratic penalty
for actions.</li>
</ul></li>
<li><p> 基于辨识的模型 (model
identified)，使用 PEGASUS 算法来获得实用策略 (the utilities of
policies) 的近似值 <span class="math inline">\(\[\hat{U}(\pi)\]\)</span>。 &gt; Using the model
identified, we can now apply PEGASUS to define approximations <span class="math inline">\(\[\hat{U}(\pi)\]\)</span> to the utilities of
policies.</p></li>
<li><p> 策略和动态特性的可连续和平滑性。</p>
<blockquote>
<p>Since policies are smoothly parameterized in the weights, and the
dynamics are themselves continuous in the actions, the estimates of
utilities are also continuous in the weights.</p>
</blockquote></li>
</ul>
<!--
  * 作者在脚注中，非常严谨地作出说明，因为计算的数值精度，可能导致策略的不连续性。严谨的做学问态度，让自己自愧不如。

一篇好的实用论文，绝对不是因为弄虚作假而被人喜爱，如果自己辛苦的实现，仅仅是一堆废纸，弄虚作假浪费别人的时间，价值无法被肯定，那么写来有何用。乾隆的诗词万篇，最后流传被人喜爱的又有几篇呢？
-->
<ul>
<li><p>求取策略的权重时，应用爬山算法来最大化<span class="math inline"> \(\[\hat{U}(\pi)\]\)</span>，其中使用梯度上升 (gradient
ascent algorithm) 和随机游走 (random-walk algorithm) 两种算法，来最大化策略
<span class="math inline">\(\[\pi\]\)</span>。 &gt; We may thus apply
standard hillclimbing algorithms to maximize <span class="math inline">\(\[\hat{U}(\pi)\]\)</span> in terms of the policy’s
weights.</p></li>
<li><p> 在策略学习中，最消耗资源的是重复加速蒙特卡罗评价 (Monte Carlo
evaluation) 来获得策略，文章提出使用并行计算 (parallelized our
implementation) 来加速蒙特卡罗评价的训练。</p>
<ul>
<li>在不同的计算机使用不同的样本来计算；</li>
<li>然后聚合训练结果，获得策略 <span class="math inline">\(\[\hat{U}(\pi)\]\)</span>。</li>
</ul>
<blockquote>
<p>The most expensive step in policy search was the repeated Monte Carlo
evaluation to obtain <span class="math inline">\(\[\hat{U}(\pi)\]\)</span>. To speed this up, we
parallelized our implementation, and Monte Carlo evaluations using
different samples were run on different computers, and the results were
then aggregated to obtain <span class="math inline">\(\[\hat{U}(\pi)\]\)</span>.</p>
</blockquote></li>
<li><p>如何评价控制策略的表现：文章比较基于学习的策略和人类驾驶员的性能表现，来证明算法的稳定性。
&gt; We also compare the performance of our learned policy against that
of our human pilot trained and licensed by Yamaha to fly the R-50
helicopter.</p></li>
</ul>
<h1 id="flying-competition-maneuvers">Flying competition maneuvers</h1>
<ul>
<li><p>作者参加了 AMA (the Academy of Model
Aeronautics) 组织的直升机飞行挑战 (an annual RC helicopter
competition)，挑战极具难度的 3 个行为，比如如下图所示的 pirouette (turning
in place)。</p>
<blockquote>
<p>We took the first three maneuvers from the most challenging, Class
III, segment of their competition.</p>
</blockquote>
<p><img width="300" height="300" data-src="https://thumbs.dreamstime.com/b/colorful-dancer-pirouette-fifth-position-vector-illustration-79727401.jpg"></p></li>
</ul>
<!--
貌似搞学术，也是可以参加一些竞赛的，验证自己的水平，为自己的研究打call!

读论文，居然可以学习到芭蕾的一个概念，单脚尖旋转，看起来很酷。
-->
<ul>
<li><p>文章目前只是学习了如何悬停 (hover)，那么如何能够沿着轨迹飞行呢？作者给出的一种做法是让直升机沿着特定的轨迹点，慢慢变化状态，控制策略和悬停基本一致。</p>
<blockquote>
<p>How does one design a controller for flying trajectories? Given a
controller for keeping a system’s state at a point, one standard way to
make the system move through a particular trajectory is to slowly vary
along a sequence of set points on that trajectory.</p>
</blockquote></li>
<li><p>另一种做法，重新训练参数来准确跟踪轨迹 &gt; Retrain the policy’s
parameters for accurate trajectory following.</p>
<ul>
<li><p>trajectory following vs trajectory tracking</p>
<blockquote>
<p>Path/Trajectory following is all about following a predefined path
which does not involve time as a constraint. Thus, if you are on the
path and following it with whatever speed you have reached your goal. On
the contrary, trajectory tracking involves time as a constraint. Meaning
that you have to be at a certain point at a certain time.</p>
</blockquote></li>
<li><p>基于直升机的理论机制，优化网络模型。</p>
<blockquote>
<p>Since we are now flying trajectories and not only hovering, we also
augmented the policy class to take into account more of the coupling
between the helicopter’s different sub-dynamics. /
比如旋转时，尾翼控制会带来漂移；上升下降控制时，带来旋转的影响，这一部分在最开始的视频中有讲到。</p>
</blockquote></li>
<li><p>设计 (specify) 轨迹跟踪 (trajectory following) 时的奖励函数。</p>
<ul>
<li><p>贴近轨迹 (penalize
deviation)：惩罚位置的偏差，计算直升机当前位置和其投影到理想轨迹的位置偏差。</p>
<blockquote>
<p>“tracked” position: the “projection” of the helicopter’s position
onto the path of the idealized, desired trajectory.</p>
</blockquote>
<blockquote>
<p>the learning algorithm pays a penalty that is quadratic between the
actual position and the “tracked” position on the idealized
trajectory.</p>
</blockquote></li>
<li><p>前进奖励 (making progress)：使用沿着轨迹增加的势函数 (potential
function)，如果直升机前进，那么可以获得正奖励 (positive reward)。</p>
<blockquote>
<p>Since, we are already tracking where along the desired trajectory the
helicopter is, we chose a potential function that increases along the
trajectory. Thus, whenever the helicopter’s makes forward progress along
this trajectory, it receives positive reward.</p>
</blockquote></li>
<li><p>定义解耦 (decouple our definition) &gt; Finally, our modifications
have decoupled our definition of the reward function from (x<em>,
y</em>, z<em>, w</em>) and the evolution of (x<em>, y</em>, z<em>,
w</em>) in time.</p>
<ul>
<li>(x<em>, y</em>, z<em>, w</em>) represents a desired hovering
position and orientation.</li>
</ul>
<blockquote>
<p>We considered several alternatives, but the main one used ended up
being a modification for flying trajectories that have both a vertical
and a horizontal component (such as along the two upper edges of the
triangle in III.1).</p>
</blockquote></li>
<li><p>模型控制需要根据实际测试，人为干预，不断调整，而不是一劳永逸，比如在 z 方向上人为加入时延，来避免 “bowed-out” 或者 “bowed-in” 轨迹。
&gt; the z (vertical)-response of the helicopter is very fast. In
contrast, the x and y responses are much slower.</p></li>
</ul></li>
</ul></li>
</ul>

<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=242991298&amp;bvid=BV19e411s7Ho&amp;cid=183111788&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>

<h1 id="references">References</h1>
<ul>
<li><a href="https://blog.csdn.net/u013181595/article/details/86563414">吴恩达直升机控制系列论文笔记</a></li>
<li><a href="http://heli.stanford.edu/">吴恩达的链接</a></li>
</ul>
]]></content>
      <categories>
        <category>paper</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>paper</tag>
        <tag>Robotics</tag>
      </tags>
  </entry>
  <entry>
    <title>自动驾驶初级概念</title>
    <url>/AV/autonomous-vehicle-basic-concepts/</url>
    <content><![CDATA[<p>[toc]</p>
<p>文中部分概念摘录自百度 Apollo 系统公众号，并以 Apollo
系统为例进行概念讲解。</p>
<h1 id="运营">运营</h1>
<h3 id="运行设计域-odd">运行设计域 ODD</h3>
<p>运行设计域指的是自动驾驶系统功能设定的运行条件，包括但不限于<strong>环境</strong>、<strong>地理</strong>和<strong>时段限制</strong>、<strong>交通流量</strong>及<strong>道路特征</strong>等。只有当全部条件都满足的时候该自动驾驶才能保证正常运作。相反，欠缺任何一个前提条件，该系统都有可能出现故障，可能会采取停车或是需要驾驶者接管。</p>
<h1 id="宏观">宏观</h1>
<h3 id="无人驾驶车的工作原理">无人驾驶车的工作原理</h3>
<p>我们使用计算机视觉和传感器融合技术，获取一幅关于我们在世界上的位置的丰富画面，使用定位确定我们在这个世界的精确位置，然后使用路径规划来绘制一条通过这个局部世界到达目的地的路径，通过控制车辆的转动方向盘、油门、制动器，沿着该轨迹行驶并最终移动车辆。从本质上讲，其他一切无人车都是这些核心功能更复杂的实现。</p>
<h3 id="自动驾驶-vs-汽车电子">自动驾驶 vs 汽车电子</h3>
<p>自动驾驶更偏向于机器人工业。看待无人车和传统车视角是不一样的，无人车更像一个机器人，不像一个车。
传统汽车电子是基于比较确切的规则、长时间经验积累的一种技术，两者技术差异较大。
自动驾驶和汽车电子的专注领域、迭代的频率、速度，适合这种技术的开发模式、方式、流程之间都有很大的差别。</p>
<p><a href="https://mp.weixin.qq.com/s/3bEkuQ791pBs_WeL0hdERw">参考链接</a></p>
<h1 id="操作系统">操作系统</h1>
<h3 id="实时操作系统rtos">实时操作系统（RTOS）</h3>
<p>实时操作系统（RTOS），可确保在给定时间内完成特定任务，“实时” 是指无人车的操作系统，能够及时进行计算，分析并执行相应的操作，是在车辆传感器收集到外界数据后的短时间内完成的。</p>
<p>实时性能是确保系统稳定性和驾驶安全性的重要要求。</p>
<h3 id="ros-概念">ROS 概念</h3>
<p>ROS 全称 Robot Operating System（机器人操作系统）</p>
<ul>
<li>ROS 是适用于机器人的<strong>开源</strong>元操作系统；</li>
<li>ROS 集成了大量的工具、库、协议，简化对机器人的控制；</li>
<li>还提供了用于在多台计算机上获取、构建、编写以及运行代码的工具和库，ROS
在某些方面类似于 “机器人框架”。</li>
</ul>
<p><a href="https://mp.weixin.qq.com/s/IBY2RMSEXde5uZpuRi3cuA">参考链接</a></p>
<h3 id="ros-系统架构">ROS 系统架构</h3>
<ul>
<li>OS 层，也即经典意义的操作系统 ROS
只是元操作系统，需要依托真正意义的操作系统，目前兼容性最好的是 Linux 的
Ubuntu，Mac、Windows 也支持 ROS 的较新版本了；</li>
<li>中间层，是 ROS 封装的关于机器人开发的中间件，比如：基于 TCP/UDP
继续封装的 TCPROS/UDPROS
通信系统，用于进程间通信 Nodelet，为数据的实时性传输提供支持；</li>
<li>应用层，功能包，以及功能包内的节点，比如: master turtlesim
的控制与运动节点等。</li>
</ul>
<h3 id="ros-设计目标">ROS 设计目标</h3>
<ul>
<li>代码复用：ROS 的目标不是成为具有最多功能的框架，ROS
的主要目标是支持机器人技术研发中的代码重用；</li>
<li>分布式：ROS 是进程（也称为 Nodes）的分布式框架，ROS
中的进程可分布于不同主机，不同主机协同工作，从而分散计算压力；</li>
<li>松耦合：开发者不需要关注模块内部实现，只要了解接口规则就能实现复用，实现了模块间点对点的松耦合连接。</li>
</ul>
<h1 id="车辆">车辆</h1>
<h3 id="激光雷达">激光雷达</h3>
<p>自动驾驶是用光学传感器来获取环境信息的，这个过程就是感知。</p>
<p>在光学传感器里，激光雷达是一种快速的遥感技术，它有非常精确的测距能力，还有比较大的探测范围，是一种高精度或高分辨率的传感器，以激光雷达传感器为主的自动驾驶感知方案是现在最为常用而且可靠的方案。</p>
<p>目前，通用的激光雷达的产品主要是 Velodyne (国外) 和 Hesai (国内)
等。</p>
<h1 id="高精地图">高精地图</h1>
<p>与普通地图不同，高精地图主要服务于自动驾驶车辆，通过一套独特的导航体系，帮助自动驾驶解决系统性能问题，扩展传感器检测边界。目前高精地图主要应用在高精定位、环境感知、决策规划、仿真运行四大场景，帮助解决林荫道路
GPS 信号弱、红绿灯是定位与感知以及十字路口复杂等导航难题。</p>
<h3 id="什么是高精地图它和手机上的地图有何区别">什么是高精地图？它和手机上的地图有何区别？</h3>
<p>高精地图不仅具有更高的精度（可以达到厘米级）；而且具有更加丰富、更加精细的内容。它能够表述所有能看到的影响交通驾驶行为的元素，有更深层次的交通语义内容，更加全面清晰。</p>
<p>在实际中，高精地图与导航地图最大的区别在于，它本身就是一套面向自动驾驶的地图，而不是面向人的地图。它提供的能力，或它提供的信息，是用于自动驾驶相关的定位系统，感知系统和决策系统。</p>
<h3 id="百度高精地图">百度高精地图</h3>
<p>目前百度高精地图主要分为四个部分：
第一部分，是定位的图层，顾名思义是用于定位；
第二部分，是静态矢量图层，是基于生产出来的矢量信息，这个也可以被称作狭义的高精地图。在这个部分将会表达我们日常在道路上看到的所有的跟交通相关的信息。比如道路两旁的交通设施，道路本身的车道，道路上的其他标线、道路停止线等，以及基于这些交通设施实际上表达出来的一些语义关系，如拓扑关系，虚拟车道之间的连接关系，红绿灯的绑定关系等；
最后，在这两层最基本的数据之上，目前还提供了人类经验的图层以及动态的信息图层。</p>
<p><a href="https://mp.weixin.qq.com/s/Ey1NaYXNxCcX2bvGeVZ7-Q">参考链接</a></p>
<h3 id="高精定位有哪些特点">高精定位有哪些特点？</h3>
<p>高精定位是自动驾驶核心技术之一，自动驾驶车辆在道路上需要实现厘米级的实时定位精度，复杂环境，如天气变化、季节变化、道路拥堵等各种外部因素的干扰。</p>
<p><a href="https://mp.weixin.qq.com/s/qFjZDZQhGzerxaSZU9FN2Q">参考链接</a></p>
<h3 id="基于高精地图的决策规划方案有哪些">基于高精地图的决策规划方案有哪些？</h3>
<p>对于规划决策模块，感知输入和定位输入的信息都会交给决策模块来决定自己的自动驾驶行为。这种自己决定自己的驾驶行为，就是一个间接应用在决策规划模块的例子。
同时，地图当中也会提供一些数据直接应用到决策模块。比如在 L4
级的自动驾驶里，过路口一直是件比较复杂的事情。通过地图当中预设一些虚拟的引导线，车就可以沿着引导线走，这样就大幅降低了自动驾驶的难度，提高了自动驾驶车辆的通行性。另外可以根据地图的信息来进行路径规划和速度规划，这部分与传统的导航是比较类似的。</p>
<h3 id="高精地图用于定位">高精地图用于定位</h3>
<p>高精地图是 L4/L5
级别自动驾驶系统的核心，许多无人驾驶车模块都有赖于高精地图，有了高精地图我们就需要在该地图上进行自定位。这意味，需要弄清我们在地图上的位置，这就是定位 —— 无人驾驶车辆在地图上的确切位置。</p>
<ul>
<li>首先车辆可能会寻找地标，我们可以使用从各类传感器收集的数据，如摄像机图像数据、激光雷达收集的三维点云数据来查找地标。车辆将其收集的数据与其在高精地图上的已知地标进行比较，这一匹配过程是需要预处理、坐标转换、数据融合的复杂过程。</li>
<li>无人车的整个定位过程取决于高精地图，所以车辆需要通过高精地图明确它处于什么位置。</li>
</ul>
<h3 id="高精地图的定位方案有哪些">高精地图的定位方案有哪些？</h3>
<p>基于高精地图的定位方案一般分为两种：</p>
<ul>
<li><p>一种是视觉的定位、点云的定位。它们的原理相差不大，就是通过地图预先找出一些特征，然后通过车辆传感器拿到的数据，再把这个特征进行匹配，如果匹配到了，就能够比较精确地获取到当前位置。</p></li>
<li><p>另一种是多传感器融合的定位。在传统的方案中，更多的是通过卫星定位来获得定位结果，这就跟我们手机上用到的 GPS 类似。除了卫星定位系统以外，还有 IMU、轮速计。通过 IMU、轮速计进行推算，也能够大致推算出当前位置，这些都是属于传统的定位手段。</p>
<p>在实际高精地图定方案当中，通常是多传感器融合的定位方案。</p></li>
</ul>
<h3 id="高精地图用于感知">高精地图用于感知</h3>
<p>无人车也可以使用高精地图来帮助感知，就像人的眼睛和耳朵会受到环境因素的影响一样，无人车的传感器也是如此。</p>
<ul>
<li><p>摄像机、激光雷达、雷达探测物体的能力，在超过一定距离后都会受到限制。</p></li>
<li><p>在恶劣的天气条件下或在夜间，传感器识别障碍物的能力可能会受到进一步限制。</p></li>
<li><p>另外当车辆遇到障碍物时，传感器无法透过障碍物来确定障碍物后面的物体。</p>
<p>这时，就需要借助高精地图的帮助了。</p></li>
</ul>
<p>即使传感器尚未检测到交通信号灯，高精地图也可以将交通信号灯的位置提供给软件栈的其余部分，帮助车辆做下一个决策。</p>
<p>另一个好处在于，高精地图可帮助传感器缩小检测范围，如高精地图可能会告知我们在特定位置寻找停车标志，传感器就可以集中在该位置检测停车标志，被称为感兴趣区域
ROI。ROI 可帮助我们提高检测精确度和速度，并节约计算资源。</p>
<h3 id="高精地图在自动驾驶系统中的其他应用有哪些">高精地图在自动驾驶系统中的其他应用有哪些？</h3>
<p>高精地图作为自动驾驶的核心基础模块。除了在定位、感知、决策规划中具有重要作用外，在安全、预测、仿真等阶段都是不可缺少的。比如高精地图可以搭建与真实场景高度一致的仿真场景，协助自动驾驶的测试开发工作。此外在人机交互和可视化以及安全驾驶策略上，高精地图都发挥着重要的作用。</p>
<h1 id="定位">定位</h1>
<h3 id="定位在自动驾驶中的作用">定位在自动驾驶中的作用</h3>
<p>定位在自动驾驶中的作用有以下三点：
第一，与高精地图配合提供静态场景感知；
第二，感知得到的动态物体正确放入静态场景；
第三，位置和姿态用于路径规划和车辆控制。</p>
<p><a href="https://mp.weixin.qq.com/s/_C2SvhsZtOEPBVIdD_J8GA">参考链接</a></p>
<h3 id="apollo-多传感器融合定位">Apollo 多传感器融合定位</h3>
<p>融合框架分为两部分，一个是航迹导航解算，这部分的输入是 IMU
提供的高频的加速度和角速度。此外会在整个融合的框架里面进行误差修正，对于
IMU
零偏进行修正。还有一个真正的把各个模块的两侧融合到一起的模块，这个模块有很多种实现方式，现在学术上比较流行的基于优化的方式。</p>
<p><a href="https://mp.weixin.qq.com/s/5IxaOjS2GgpUgofEiZO3-Q">参考链接</a></p>
<h3 id="基于高精地图的定位方案">基于高精地图的定位方案</h3>
<p>基于高精地图的定位方案一般分为两种，一种是视觉的定位、点云的定位。通过地图预先找出特征，然后通过车辆传感器拿到的数
据，把特征进行匹配，如果匹配到，就能够较精确地获取到当前位置。另一种是多传感器融合的定位。</p>
<h3 id="lidar定位">LiDAR 定位</h3>
<p>激光雷达定位，主要就是在线点云与预制底图，基于预测 pose
在小的搜索范围内，按照滑动像素的方式，计算 features 之间的匹配度 cost
value，然后把 cost value
换算成概率，最终根据概率分布来进行位置计算。</p>
<p><a href="https://mp.weixin.qq.com/s/_C2SvhsZtOEPBVIdD_J8GA">参考链接</a></p>
<h3 id="卡尔曼滤波是什么">卡尔曼滤波是什么？</h3>
<p>卡尔曼滤波是另一种 LiDAR
定位方法，卡尔曼滤波用于根据我们在过去的状态和新的传感器测量结果预测我们当前的状态。</p>
<h3 id="gnss定位技术的基本原理">GNSS 定位技术的基本原理</h3>
<ul>
<li>用户设备可以从接收信号中解码获得数据码，包含电文内容。这样，卫星轨道参数已知，通过时间计算卫星的位置、速度和钟差；</li>
<li>从卫星到地面的传播距离通过测距码信号处理获得传播时间后，乘以光速得到距离；</li>
<li>通过 3 颗卫星交会，可以得到用户位置；</li>
</ul>
<h3 id="视觉定位">视觉定位</h3>
<p>现有视觉定位方案一般都需要预先构建定位地图，再基于构建好的地图进行定位。分为两类：一类是从
SLAM 方案（simultaneous localization and
mapping）出发，将地图构建和定位拆开，预先构建特征点地图用于定位。这类方案中特征点的性能至关重要，传统的特征点方法比如
SIFT、ORB
无法满足地图时效性的需求。另一类是基于高级语义元素构建地图并进行定位的方案，比如车道线或者杆状物。</p>
<h3 id="slam">SLAM</h3>
<p>SLAM（simultaneous localization and mapping），也称为 CML
（Concurrent Mapping and
Localization），即时定位与地图构建，或并发建图与定位。SLAM 问题可以描述为：机器人在未知环境中从一个未知位置开始移动，在移动过程中根据位置估计和地图进行自身定位，同时在自身定位的基础上建造增量式地图，以绘制出外部环境的完全地图。</p>
<p><a href="https://mp.weixin.qq.com/s/kSeUnwjucZrZB2AA_WW2wQ">参考链接</a></p>
<h3 id="捷联惯导">捷联惯导</h3>
<p>捷联惯性导航可以提供两种量测，一个是加速度的信息，另一个是角速度的信息，加速度严格意义上是物体本身的加速度合成重力所得到的。
通过这个传感器，可以得到一个角速度，也可以得到一个加速度，可以去递推前后时间的一个轨迹。</p>
<h3 id="定位的基础性技术">定位的基础性技术</h3>
<p>那么定位主要基于哪几类技术？
整体分成三类技术：首先是基于信号的定位，主流的做法是利用
GNSS，比如说天上的卫星、GPS、北斗，然后也可能接收基站的信号，综合结算，来得到一个高精度的定位结果。当然也可以不用卫星，比如说可以用车路协同的方式，可以用
UWB 或者是 WiFi。</p>
<h3 id="三轴陀螺仪是怎么操作的">三轴陀螺仪是怎么操作的？</h3>
<p>三轴陀螺仪的三个外部平衡环一直在旋转，但三轴陀螺仪中的旋转轴始终固定在世界坐标系中。在坐标系中的位置是通过测量旋转轴和三个外部平衡环的相对位置来计算的。</p>
<p><a href="https://mp.weixin.qq.com/s/KJbm4wfsTLxT5LGR7GV_SA">参考链接</a></p>
<h3 id="imu有什么作用">IMU 有什么作用？</h3>
<p>结合 GPS 和 IMU 来定位汽车，一方面 IMU 弥补了 GPS
更新频率较低的缺陷。另一方面 GPS 纠正了 IMU 的运动误差。但是即使将 GPS
和 IMU
系统相结合也不能完全解决定位问题，比如我们在山间行驶或城市峡谷中或在地下隧道中行驶，那么可能长时间没有
GPS 更新。</p>
<p><a href="https://mp.weixin.qq.com/s/KJbm4wfsTLxT5LGR7GV_SA">参考链接</a></p>
<h3 id="激光雷达定位的原理是什么">激光雷达定位的原理是什么？</h3>
<p>利用激光雷达，可以通过点云匹配来对汽车进行定位。该方法将来自激光雷达传感器的检测数据与预先存在的高精地图之间匹配，通过这种比较可获知汽车在高精度地图上的全球位置和行驶方向。</p>
<p><a href="https://mp.weixin.qq.com/s/KJbm4wfsTLxT5LGR7GV_SA">参考链接</a></p>
<h3 id="pitch-yaw-roll-指什么">pitch yaw roll 指什么？</h3>
<p><ruby>pitch<rt>[pɪtʃ]</rt></ruby>
，<ruby>yaw<rt>[jɔː]</rt></ruby>，<ruby>roll<rt>[rəʊl]</rt></ruby>
本是航空学的概念，如下图所示，现在逐渐应用到自动驾驶领域。</p>
<p><img data-src="/downloads/images/plane_yaw.jpg" style="zoom:50%;"></p>
<p><img data-src="/downloads/images/coordinate_yaw.jpg" style="zoom:60%;"></p>
<ul>
<li>在航空中，pitch, yaw, roll 如上图所示：
<ul>
<li>pitch 是围绕 X 轴旋转，也叫做俯仰角。</li>
<li>yaw 是围绕 Y 轴旋转，也叫偏航角。</li>
<li>roll 是围绕 Z 轴旋转，也叫翻滚角。</li>
</ul></li>
</ul>
<p><a href="https://www.jianshu.com/p/1e38ad3d4bfb">参考链接</a></p>
<h1 id="仿真">仿真</h1>
<h3 id="仿真-1">仿真</h3>
<p>目前主要有 3 种不同形式的仿真：</p>
<ul>
<li>真实场景下的路测和结构化测试，可以对无人车在真实环境中进行端到端的测试，但是成本高昂；</li>
<li>基于真实数据回放的测试，先通过收集路测过程中的各种数据，再进行测试，它可以保证测试数据足够真实，但是可交互性极差；</li>
<li>基于仿真器模拟的测试，可以自由地构建测试场景，特别是一些现实生活中较少遇到的场景，而且测试成本比真实路测的成本低，时间花费更少。</li>
</ul>
<p><a href="https://mp.weixin.qq.com/s/B8gU9hEZ_QzF6zBSzE5upg">参考链接</a></p>
<h3 id="仿真场景用于做什么呢">仿真场景用于做什么呢？</h3>
<p>仿真场景分为 Worldsim 和 Logsim。</p>
<ul>
<li>Worldsim 是由人为预设的障碍物行为和交通灯状态构成的场景，可以简单高效地测试自动驾驶车辆，但缺乏真实交通环境中复杂的情况；</li>
<li>Logsim 是由路测数据提取的场景，提供复杂多变的障碍物行为和交通状况，使场景充满不确定性。</li>
</ul>
<p><a href="https://mp.weixin.qq.com/s/J8E9MNV7TCba2qHzrd0JTA">参考链接</a></p>
<h3 id="仿真真实性">仿真真实性</h3>
<p>可量化的 “仿真真实性” 的度量准则：
1、仿真的准召率：与真实路上问题做比对，仿真离线发现的所有问题中，有多少是路上可能发生的？召回率：路上发生的所有问题中，有多少是仿真能够召回的？准召率高则仿真能力强。
2、效果预估准确性：使用仿真对新算法进行路测效果的预估，将最终路测后得到的实际路测效果作为真值。对两者（预估值与真实值）进行相对 diff 的计算，以评估仿真对真实效果预估能力的强弱。预估 vs 真实值的相对 diff 小，则仿真能力强。</p>
<p><a href="https://mp.weixin.qq.com/s/u622WU4n6_dFkric34ipBA">参考链接</a></p>
<h3 id="仿真场景合理性">仿真场景合理性</h3>
<p>对于场景合理性的考量，需要同时兼顾：场景微观合理性（即单个场景是否有可能在路上出现，不会出现天外飞仙），以及场景宏观合理性（场景是否具有足够的多样性，能够覆盖了路上各种
case，在频度上是否与路上实际趋同）。
微观合理保证了仿真产出结果的准确性，宏观合理保证了仿真产出结果能够有足够的召回能力。
很显然，在具体实现时，两者容易出现冲突 —— 在提升准确性时多样化上就会不足；而在多样性提升时准确性就会下跌。因此需要对宏观 / 微观两者做良好的
balance。</p>
<h3 id="仿真复现率">仿真复现率</h3>
<p>模块在仿真中运行，与真实道路上的运行相比，在同样输入的情况下，产生的 diff 有多大？这个 diff 的量化评估，称之为 “仿真复现率”。很明显，仿真的复现能力是仿真能够做出正确预测的前置依赖：如果仿真中的效果，与路测时真实效果无法完成严格的一一对齐，那么仿真给出的任何结论都是没有任何价值的。而提升 “仿真复现率” 的首要问题还是量化问题 ——“如何客观度量仿真复现率”。</p>
<h3 id="lgsvl-simulator">LGSVL Simulator</h3>
<p>LGSVL Simulator 是一款开源的无人驾驶仿真系统，支持 Linux 和
Windows，可以对接 Apollo 及 Autoware 自动驾驶软件使用。</p>
<p>运行该仿真系统需要一台带 NVidia 独立显卡的高配置的电脑。在 Windows
版本的 Simulator 中，通过访问指定的 ip 地址的方式与运行在 Linux 上的
Apollo 建立连接。</p>
<p><a href="https://mp.weixin.qq.com/s/9rfOSpaO-YjLvmjsSlx2EA">参考链接</a></p>
<h1 id="routing">Routing</h1>
<h3 id="routing模块">Routing 模块</h3>
<p>Routing 模块正如其名称所示，其主要作用就是根据请求生成路由信息
模块输入：</p>
<ul>
<li>地图数据</li>
<li>请求，包括：开始和结束位置 模块输出：</li>
<li>路由导航信息</li>
</ul>
<p><a href="https://mp.weixin.qq.com/s/4qUW_I_SCCt50d2qnDiq4Q">参考链接</a></p>
<h1 id="map">Map</h1>
<h3 id="点云地图的制作">点云地图的制作</h3>
<p>点云地图的制作主要是把采集好的数据进行加工，采用激光雷达数据来进行点云地图的制作。制作的过程简单的来说就是通过激光雷达来扫描整个街道，以建立整个街道的三维模型。</p>
<p>因为激光雷达的扫描范围有限，因此需要逐帧把激光雷达的数据拼接起来，来获取整个街道的模型，这个过程也被称为点云注册。</p>
<h3 id="apollo-之-map-模块">Apollo 之 Map 模块</h3>
<p>Map 模块主要提供的功能是读取高精度地图，并且转换成 Apollo 程序中的
Map 对象。 简单来说，就是说把 Xml 格式的 Opendrive
高精度地图，读取为程序能够识别的格式。 <a href="https://mp.weixin.qq.com/s/6pQZkvxN-eJi-ZjJLn1sYQ">参考链接</a></p>
<h1 id="perception">Perception</h1>
<h3 id="源码分析-之-perception">源码分析 之 Perception</h3>
<p>Perception 系统是以多种 sensor
的数据，以及高精度地图的信息作为输入，经过一系列的计算及处理，对自动驾驶车的周围的环境精确感知。
能够为下游模块提供丰富的信息，包括障碍物的位置、形状、类别及速度信息，也包括对一些特殊场景的语义理解（包括施工区域，交通信号灯及交通路牌等）。
<a href="https://mp.weixin.qq.com/s/qIICgIsCE9GbnhjL7pmeRg">参考链接</a></p>
<h3 id="视觉感知算法">视觉感知算法</h3>
<p>视觉感知算法在 Apollo
平台上主要有 3 个应用场景，分别是红绿灯检测、车道线检测、基于摄像头的障碍物检测。每个模块又可以分为 3 部分，分别是图像的预处理、神经网络模型以及后处理。</p>
<ul>
<li>预处理：对上游信息做一些处理和整合，以方便把信息直接输入到模型中做预测。</li>
<li>神经网络模型：主要涉及一些深度学习算法，包括目标检测、语义分割、图像分类等。</li>
<li>后处理：从神经网络模型拿到输出后，会结合模型的输出、其他传感器的信号以及经验信息，利用一些传统的算法进一步优化网络模型的预测，这样可以使我们的检测结果能够适应一些比较复杂的路况，或者针对性地应对一些特殊的情形，让我们的算法可以在实车上跑得更加流畅。</li>
</ul>
<p><a href="https://mp.weixin.qq.com/s/lAvXZGrn-v8YMFzFxqgwFw">参考链接</a></p>
<h3 id="神经网络模型">神经网络模型</h3>
<p>神经网络模型分成了两部分：一是检测，二是对检测的结果做分类识别。我们的检测模型并不会直接输出灯的颜色信息，它的输出类别是三种形状，有横着的、竖着的和方形的，我们会根据不同的形状类别，针对性的用分类模型做具体的颜色识别。</p>
<h1 id="规划">规划</h1>
<h3 id="planning功能">Planning 功能</h3>
<p>Planning
功能：基于预测的结果、路由模块的全局路线指引和地图信息，生成安全舒适的驾驶轨迹。
这里有两个关键词，第一个关键词是安全，在第二个关键词是舒适。
后面的算法，很多都是基于安全和舒适来考虑的。</p>
<p><a href="https://mp.weixin.qq.com/s/uB67QBw-epHBGkBEtj8mEw">参考链接</a></p>
<h3 id="path-bound-decision">Path Bound Decision</h3>
<p>首先，车在起始状态时，会判断需不需要进行换道：</p>
<ul>
<li>如果不需要进行换道，还需要判断是否需要借道（向左变道，再变回来），如果不需要借道，boundary 就会限制在本车道内。如果我们需要借道，需要判断借道是否安全，如果不安全，boundary 还会限制在本车道内。如果判断是安全的，就会进行借道路径的限制。</li>
<li>如果需要换道，首先还需要进行安全性判断。如果不安全，依然限制在本车道内，如果安全，就会进行换道的路径限制。</li>
</ul>
<h3 id="规则的选择需要考虑哪些因素呢">规则的选择需要考虑哪些因素呢？</h3>
<p>到底如何选规则需要考虑很多因素，主要有三点，第一点要考虑舒适度，不能够加速度太快，或者加速变化太快；第二点要考虑车本身物理特性，比如车最高加速度能达到多少；第三点考虑 SV 道路限速。</p>
<p><a href="https://mp.weixin.qq.com/s/Gq_qFrq7YYW9yp_ct2fSbA">参考链接</a></p>
<h3 id="参考线平滑的优化目标有哪几种">参考线平滑的优化目标有哪几种？</h3>
<p>参考线平滑的优化目标有三个，第一个是每相邻两个点的距离要尽量近；第二是每三个相邻采样点的夹角要足够小；第三是优化目标尽量不要远离于初始点位置，调整尽量小。</p>
<h3 id="静态速度限制有哪些呢">静态速度限制有哪些呢？</h3>
<p>静态速度限制又叫 SV 线，横轴 S 指沿着路径的位移，纵轴 V 是在位移处的速度限制。这里列举三种限制，第一是道路的基本限速。第二是路上的减速带，我们需要把速度降到足够低，让乘客体感足够好。第三种情况是在离行驶路径较近处有行人或者自行车，为了安全，车速不能太快。在实践中静态速度限制有更多因素。</p>
<h3 id="障碍物可分为哪几种">障碍物可分为哪几种？</h3>
<p>障碍物可分为三种：机动车、行人和自动车。障碍物的配置要复杂一些，包括 ID、类型（类型主要是机动车、行人和自动车）、起点和速度。不同的类型会影响算法的规避。障碍物的移动方式有两种，一种是静止的，另一种按照轨迹移动。如果选择按照轨迹移动，必须要编辑它的轨迹，这里面从起点出发到结束会路过三个规定的点，对每个点都要进行配置。</p>
<h3 id="决策模块有哪些特点呢">决策模块有哪些特点呢？</h3>
<p>决策模块有两个特点：</p>
<ul>
<li><p>第一是相当于信息 hub，它把所有信息集中起来；</p></li>
<li><p>第二是经过决策模块传给轨迹优化之后，轨迹优化不用考虑上层所有复杂的信息，使抽象的问题变得相对简单，有助于替换新的算法。</p></li>
</ul>
<h3 id="决策对无人车的限制有哪几类">决策对无人车的限制有哪几类？</h3>
<p>决策就是对无人车的行车进行各种限制，主要分为三类：</p>
<ul>
<li>第一类是交规限制，保证无人车遵守交规，比如信号灯、人行横道等交规；</li>
<li>第二类是路径限制，例如，不能跨两条车道行车，不能驶出道路边界；</li>
<li>第三类是速度限制，无人车不能超过道路限速，需要低速通过限速带。</li>
</ul>
<h3 id="lattice-planner">Lattice Planner</h3>
<p>Lattice Planner
主要基于采样＋选择，算法首先需要参考线，可以处理多弯道的场景。Lattice
Planner 现在已经在低速园区和高速公路的场景中有产品落地。</p>
<h3 id="末知不安全场景缩小">“末知不安全场景” 缩小</h3>
<p>在主车跟驰前车突然避让的情况下，若没有车路协同的加持，后车无法感知；而有了车路协同的加持就可以提前感知到这个末知不安全的
状态。在遇非机动车闯红灯违规驾驶的情况下，正常行驶的汽车是无法预知到非机动车不安全交通规则的情况，在有车路协同路端设备的加持下则能提前感知到，也可以缩小未知不安全的场景范围。</p>
<h3 id="动态规划">动态规划</h3>
<p>动态规划一般应用于最优化问题 (optimization
problems)。这类问题一般存在多个解，每个解都具有一个度量值。我们期望得到具有度量值最优（即取最大或最小值）的解。该最优解一般称为最优化问题的一个解。</p>
<p>注意，这个解并非唯。因为最优化问题可能存在多个最优解。</p>
<h3 id="轨迹生成">轨迹生成</h3>
<p>高等级地图路线只是规划过程中的一部分，我们仍需要构建沿这条路线前进的低等级轨迹。这意味着要处理一些不属于地图的物体：如其他车辆、自行车或行人。例如，，我们可能需要与试图在我们前面掉头的汽车互动，或者我们可能希望超过辆在公路上行驶的慢车。这些场景需要更低级别、更高精确度的规划。</p>
<h3 id="如何选择最佳轨迹">如何选择最佳轨迹？</h3>
<p>答案是使用
“成本函数”。成本函数为每个轨迹分配了一个 “成本”，我们选择成本最低的轨然。轨迹” 成本 “由各种犯规处罚组成，例如：偏离道路中心，有可能产生碰撞，速度限制，轨迹的曲率和加速度让乘客惑到不舒服等。</p>
<h1 id="控制">控制</h1>
<h3 id="规划控制模块pnc模块">规划控制模块 / PNC 模块</h3>
<p>人类通过大脑做完规划和决策后，指令双手、双脚完成指令。自动驾驶汽车需要结合地图提供的参考规划结果 + 车端实时规划来完整地整体操作。</p>
<p><a href="https://mp.weixin.qq.com/s/_C2SvhsZtOEPBVIdD_J8GA">参考链接</a></p>
<h3 id="控制参数自动调整服务">控制参数自动调整服务</h3>
<p>控制参数自动调整服务利用机器学习方法自动优化 Apollo 控制模块中使用的
PID、LQR、MPC、MRAC
等控制器的控制参数，从而实现在离线模拟环境中控制器全自动调整，这会省去大量的手动测试和道路实验。它继承了多种
Apollo 在线服务工具，包括动态建模、仿真平台和控制配置文件。</p>
<p><a href="https://mp.weixin.qq.com/s/tICbB3youZvEGvTTjExZ7g">参考链接</a></p>
<h1 id="软件设计">软件设计</h1>
<h3 id="懒汉式单例">懒汉式单例</h3>
<p>不同于钱汉式单例，懒汉式单例仅在初次执行荻取实例的动作时才对实例进行动态内存分配
(懒” 的体现），因而程序具有更高的启动速度，但无可避免地会降低初次访问实例时的效率。</p>
<h3 id="饿汉式单例">饿汉式单例</h3>
<p>饿汉式单例在类的加载过程中便迫不及待地 (“饿” 的体现）
为实例指针分配了动态内存，当有多个线程尝试获取实例指针时，获得的将是同一个实体，因此饿汉式单例天然地具有多线程安全性，但也正因为实例的动态内存分配过程末考虑访问时机，因而会降低程序启动速度。</p>
<h3 id="单例模式">单例模式</h3>
<p>单例模式是一种创建型设计模式，能够保证一个类只有唯一的实例存在，并提供一个访问该实例的全局节点，基于该特性，单例模式广泛应用于线程池管理、日志管理和全局配置参数管理等场景。</p>
<h3 id="数据meta">数据 Meta</h3>
<p>数据 Meta
是详细记录了数据信息的数据，比如采集的时间、地点、天气、采集的人，以及当时的情况等信息，对数据做分类管理。</p>
<h3 id="linux性能优化">Linux 性能优化</h3>
<p>Linux
操作系统的 "perf" 命令可以采样一段时间内的系统调用，保存成文件之后再结合火焰图，可以查看当前系统各个进程对
CPU 的使用情况，火焰图中的横轴代表了 CPU
占用时问的比例，宽度越宽，代表该进程越耗时。火焰图的横轴是当前进程的调用栈，可以逐级查看每个调用栈和具体的耗时。</p>
<h3 id="linux对实时进程的调度">Linux 对实时进程的调度</h3>
<p>Linux 对实时进程的调度有 2 种方式：</p>
<ol type="1">
<li><p>SCHED_FIFO: 先到的进程优先执行，后到的进程需要等之前的进程执行完成之后再开始执行；</p></li>
<li><p>SCHED_RR：基于时间片轮转，先到的进程执行完成之后放到队列尾部，在队列中循环执行。</p></li>
</ol>
<hr>
<h1 id="入门建议">入门建议</h1>
<p>百度 Apollo
可谓是中国自动驾驶的黄埔军校，孵化出一系列初创公司和优秀工程师，现在依然活跃在自动驾驶的第一梯队。</p>
<p>自动驾驶的入门者，可以先以 Apollo
系统为学习对象，对自动驾驶技术栈加以了解。</p>
<p><img data-src="/downloads/images/mmexport1519643664553.jpeg" alt="mmexport1519643664553" style="zoom:50%;"></p>
<hr>
<p><strong>上述内容如有侵权，邮件联系可删除！</strong></p>
]]></content>
      <categories>
        <category>AV</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Robotics</tag>
      </tags>
  </entry>
  <entry>
    <title>Boost 库</title>
    <url>/Programming/boost-library/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="whats-boost">What's boost?</h1>
<blockquote>
<p><a href="https://www.boost.org/">Boost</a> 是为 C++ 语言标准库提供扩展的一些 C++ 程序库的总称。Boost 库是一个可移植、提供源代码的 C++ 库，作为标准库的后备，是 C++ 标准化进程的开发引擎之一，是为 C++ 语言标准库提供扩展的一些 C++ 程序库的总称。</p>
</blockquote>
<blockquote>
<p>Boost 由于其对跨平台的强调，对标准 C++ 的强调，与编写平台无关。但 Boost 中也有很多是实验性质的东西，在实际的开发中使用<strong>需要谨慎</strong>。</p>
</blockquote>
<blockquote>
<p>The Boost license encourages both commercial and non-commercial
use.</p>
</blockquote>
<h2 id="boost.geometry"><a href="https://www.boost.org/doc/libs/1_70_0/libs/geometry/doc/html/index.html">Boost.Geometry</a></h2>
<blockquote>
<p>Boost.Geometry (aka Generic Geometry Library, GGL), part of
collection of the Boost C++ Libraries, defines concepts, primitives and
algorithms for solving geometry problems. / Boost.Geometry
用于解决几何问题的概念、原语和算法。</p>
</blockquote>
<h1 id="functions">Functions</h1>
<h2 id="geometry">Geometry</h2>
<h3 id="reference"><a href="https://www.boost.org/doc/libs/1_70_0/libs/geometry/doc/html/geometry/reference.html">Reference</a></h3>
<h4 id="buffer"><a href="https://www.boost.org/doc/libs/1_70_0/libs/geometry/doc/html/geometry/reference/algorithms/buffer/buffer_7_with_strategies.html">buffer</a></h4>
<blockquote>
<p>Calculates the buffer (a polygon being the spatial point set
collection within a specified maximum distance from a geometry) of a
geometry. /
通俗点，在原有形状的外围加上指定距离的边界，形成新的几何形状。</p>
</blockquote>
<figure>
<img data-src="https://www.boost.org/doc/libs/1_70_0/libs/geometry/doc/html/img/algorithms/buffer_strategies.png" alt="一图胜千言">
<figcaption aria-hidden="true">一图胜千言 </figcaption>
</figure>
<h4 id="difference"><a href="https://www.boost.org/doc/libs/1_70_0/libs/geometry/doc/html/geometry/reference/algorithms/difference/difference_3.html">difference</a></h4>
<blockquote>
<p>Calculates the spatial set theoretic difference of two geometries. /
计算两个图形的差异。</p>
</blockquote>
<p><img data-src="https://www.boost.org/doc/libs/1_70_0/libs/geometry/doc/html/img/algorithms/difference_b.png"></p>
<h4 id="simplify"><a href="https://www.boost.org/doc/libs/1_70_0/libs/geometry/doc/html/geometry/reference/algorithms/simplify/simplify_3.html">simplify</a></h4>
<blockquote>
<p>Simplify a geometry. / 简化一个几何图形，比如减少曲线的端点数。</p>
</blockquote>
<p><img data-src="https://www.boost.org/doc/libs/1_70_0/libs/geometry/doc/html/svg_simplify_country.png"></p>
<h1 id="others">Others</h1>
<ul>
<li><a href="https://blog.csdn.net/xiangxianghehe/article/details/79013034">Linux 下查看 Boost 版本</a></li>
</ul>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">dpkg -S /usr/include/boost/version.hpp</span><br><span class="line"></span><br><span class="line">// or</span><br><span class="line"></span><br><span class="line">vim /usr/include/boost/version.hpp  // without dpkg</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>复习: Run "dpkg --help" in Linux, 可以查看 "-S|--search <pattern> Find
package(s) owning file(s)".</pattern></p>
</blockquote>
]]></content>
      <categories>
        <category>Programming</category>
      </categories>
      <tags>
        <tag>C Plus Plus</tag>
        <tag>Boost</tag>
      </tags>
  </entry>
  <entry>
    <title>第一次购买比特币和钱包存储的教程</title>
    <url>/monthly-skills/buy-one-bitcoin/</url>
    <content><![CDATA[<!--
title: buy_one_bitcoin
-->
<h2 id="section">2021.07.03</h2>
<p>我算是从数字货币 BTC 上赚钱的一批人。我看着它从 1w+ 美元飙升到 4w+
美元，自己实在拿不住，卖掉一部分回血；看着它暴涨到
6w+，又开始后悔自己卖早了，怨自己对数字货币没有信心；现在，BTC 跌落到
3w+ 美元，又开始庆幸自己卖早了。人性啊。。。</p>
<p>虽然现在的政策环境不好，但我依然是数字货币的拥护者，我相信它的未来，愿意为信仰充值。我现在的投资策略是智定投，周期性把自己收入的
5% 投入到数字货币中。</p>
<hr>
<p>按照每月体验新东西的惯例，2020 年 10
月，自己小额试错，第一次购买比特币并存储到数字钱包，然后转到交易市场，卖出比特币，完成了比特币买卖和存储的全流程。</p>
<p>本文从比特币交易平台的选择到注册，到数字钱包的转入转出操作，再到比特币的流转，来讲述比特币交易的整个过程，如下图所示。</p>
<figure>
<img data-src="/downloads/images/blog/first_btc_trade.jpg" alt="买入卖出试错">
<figcaption aria-hidden="true">买入卖出试错</figcaption>
</figure>
<p>在第一次购买比特币之前，需要明白三件事。</p>
<ul>
<li><strong>投资比特币形同赌博</strong>。比特币是一项高风险投资，跌掉
50% 是一件非常常见的事情，历史上跌掉 80%
都发生过很多次！调杠杆，玩梭哈，倾家荡产就在一夜间。</li>
<li><strong>做好密码管理</strong>。在你买了比特币之后，如果长期不交易，就要把比特币存到自己的数字钱包，一定要保存好密码 (助记词)！</li>
<li><strong>不要去小交易所</strong>。币圈几乎没有监管，交易所和项目跑路的事情每天都在。有些刚推出的小型交易所，为了拉客户会提供一些优惠，千万不要因小失大，小交易所一旦跑路，你的本金荡然无存。</li>
</ul>
<p>默念上面三遍，下面正式开始数字货币的买卖流程介绍。</p>
<p>如果你想快速了解 BTC 是如何产生和工作的，可以阅读官网的 <a href="www.bitcoin.org/bitcoin.pdf">白皮书</a>。我在另一篇文章中对白皮书做了简单的解读
<a href="http://waylon.one/BTC/A-Peer-to-Peer-Electronic-Cash-System/">link</a>，欢迎感兴趣的人移步阅读。</p>
<h1 id="数字货币交易平台选择">数字货币交易平台选择</h1>
<p>数字货币交易，如同股票，你需要在<strong>数字货币交易平台</strong>买入和卖出，只不过数字货币平台提供的是
C2C
撮合服务，帮你找到有意向的买 / 卖家，你们在平台见证下，完成私下资金划转和交易。</p>
<p>我曾先尝试注册了国外靠谱的 Coinbase，但是中国 IP
是不可以进行数字交易的；即使你能科学上网，用美国 IP 或者英国 IP
注册成功，还需要用注册 IP
所在国的身份进行实名认证才可以发起交易，所以在国内借助 Coinbase
买卖数字货币是行不通。</p>
<p>最后，决定注册一个国内数字货币交易平台。目前，国内数字货币交易大平台主要有
火币、OKEX、<a href="https://www.binance.com/cn">币安</a>
三家，他们三家在国际比特币交易量排名也是靠前的。</p>
<p>虽然三家平台比较靠前，但是黑天鹅事件还是存在的。比如，最近 OKEX CEO
被警方带走，暂停提币，感觉也不够稳，等待子弹飞一会，看看 OKEX
能不能被招安。</p>
<p><img data-src="/downloads/images/blog/three_btc_platform.jpg" alt="三家平台比较" style="zoom:100%;"></p>
<p>总体而言，炒币新手推荐去火币网，长期投资就去币安网 (手续费低)，对安全性在意的话，直接上
OKEX。</p>
<!--
|序号|平台|交易费|使用体验|适合人群|国家|网址|
|---|---|---|---|---|---|---|
|1|火币网|0.2%|支持中文，无需翻墙|炒币新手  |中国|www.binancezh.com|
|2|币安网|0.05%|支持中文，无需翻墙|长期投资者|中国||
|3|OKEX|与用户等级挂钩|支持中文，无需翻墙|小币种持有者|新加坡|www.okex.com|

-->
<p>我是打算长期持币，不属于短线交易，最后选择了币安平台。币安平台数字货币交易需要实名认证，优点是可以用支付宝、微信、银联支付。</p>
<p>更新一下，最近的比特币涨势喜人，直逼 40000
万美金，自己实在拿不住了，落袋为安。</p>
<!--
- [](bitcoin.org)
  * 注意，不是。com. 
  * 由中本聪最早创建的网站
  -->
<h1 id="如何在币安上购买数字货币">如何在币安上购买数字货币？</h1>
<h2 id="注册">注册</h2>
<p>首先在 Binance 上注册。</p>
<p>推荐用下面这个返佣注册链接在 PC 端注册。</p>
<p>这是我个人的推荐链接。如果你用这个链接注册并交易的话，“邀请人与被邀请人可共享平台的交易返佣”。我的推荐链接设置邀请人与被邀请人的返佣比例是
10%:10%，意味着你在购入比特币后，我和你都可以获得一定的奖励。一定意义上来说，你的投资也增值了。此外，你用我的推荐链接注册的话，也会给我更多的动力继续更新文章。</p>
<p>2021.07.03 更新一下，现在已经有 11
位朋友用我的链接注册币安了，你会是下一位吗？</p>
<p><a href="https://www.binancezh.com/cn/register?ref=XADUKKJM">币安注册返佣链接</a></p>
<p><img data-src="/downloads/images/blog/binancezh_referral.jpg"></p>
<p>那么返现的佣金来自哪里呢？活动的官方介绍是
“返佣和返现结算资产，与被邀请人实际交易产生的手续费相同”，其实就是把一部分交易手续费返还。</p>
<!--
- 被邀请人必须使用专属推荐链接（二维码、ID）注册才能享受对应比例返现，若注册时直接输入原有推荐人ID，将无法享受返现。
-->
<p>电脑端注册成功后，可以在网页上进行比特币的交易，也可以下载手机 App
进行交易。</p>
<p>对于苹果用户，大陆 Apple store 目前不支持下载币安 APP，所以在 Apple
store 国区带 “币安” 或 “bian” 字样的 App，都是假冒的。币安平台提供了一批
<a href="https://www.binancezh.com/cn/downloadTips">非大陆苹果账号</a>，可供官方
App 的下载，<a href="https://www.binancezh.com/cn/downloadTips">链接</a>
有详细的下载教程。</p>
<h2 id="认证">认证</h2>
<p>下载 App 并登陆成功后，需要先完成 手机验证 和 KYC 验证
(姓名 + 身份证），才可以进行法币交易，也就是使用人民币购买比特币等数字货币。</p>
<ul>
<li>KYC (Know Your Customer)，就是了解你的客户。KYC
认证一般需要三要素：姓名 + 身份证 +
手机验证，它的目的主要是确保不符合标准的用户无法使用该平台所提供的服务，同时可以在未来的一些犯罪活动调查中为执法机构提供调查依据。</li>
<li>币安的 KYC 认证，分为 基础认证 和 高级认证。<strong>买币之前必须完成
基础认证 和 高级认证</strong>，否则一直显示 "审核中"，如下图所示。</li>
</ul>
<figure>
<img data-src="/downloads/images/blog/binance_under_review.jpg" alt="实名认证">
<figcaption aria-hidden="true">实名认证</figcaption>
</figure>
<!--
KYC 认证不是人工操作，人脸识别，审核秒过。
-->
<p>审核通过后，注册的邮箱可以收到 “Personal Verification Successful”
确认邮件，那么你就可以开启数字货币的交易啦！</p>
<blockquote>
<p>Your Personal Verification has been approved. As a result, we've
upgraded your account to Level 2 and increased your daily withdrawal
limit to 100 BTC.</p>
</blockquote>
<h1 id="购买数字货币">购买数字货币</h1>
<p>币安官网的新手教程，对购买流程讲解的非常清楚，可以在 App 或者
Bilibili
上参照视频操作即可，这里不再详述。如果视频没有看懂或者不清楚，可以在下面讨论。</p>
<ul>
<li><a href="https://www.bilibili.com/video/BV1if4y1B7iS">如何购买数字货币_手机 app</a></li>
<li><a href="https://www.bilibili.com/video/BV1z541157dj">如何购买数字货币_网页版</a></li>
</ul>
<p>分享几个注意点：</p>
<ul>
<li>点击
“购买” 后，页面直接进入快速购买页面，也可以手动却换到 “自选区” 购买，选择交易卖家。
<ul>
<li>快捷区是系统根据用户的条件自动匹配订单，自选区是用户自己选择合适的交易对手，两者的价格差异一般不大。</li>
</ul></li>
<li>您需要按照卖家展示的支付方式，通过网银、手机银行、支付宝、微信或其他第三方支付平台，<strong>自己转账给卖家</strong>。
<ul>
<li>在平台绑定支付方式并不意味点击 “去支付”，“已付款” 就会自动转款给卖家。</li>
<li>如果您没有真的付款，请不要点击 “我已完成付款”，这是交易规则不允许的。</li>
<li>现在为了反洗钱，卖家担心资金被冻结，一般会要求提供一日的流水记录。</li>
</ul></li>
</ul>
<h1 id="比特币钱包">比特币钱包</h1>
<p>在币安或者 Coinbase
等比特币交易平台或公司购买数字货币后，暂时是存储在交易平台中。</p>
<p>因为比特币本身只是一串数字，币安等交易平台只是一个非官方的数字货币网络平台。虽然上述三大平台比较靠谱，但从这么多新闻可以确定，现在看起来的 “大平台” 未来也可能会跑路，被禁，或者像
Mt.Gox
平台那样监守自盗。毕竟，谁控制了私钥，谁就控制了附属在这些私钥上的比特币。你把比特币的私钥交给平台，难免平台会动歪心思。</p>
<p>如果你打算长期持有，那么你需要用<strong>私钥</strong>来安全地使用比特币网络，它可以起保护作用，防止被抢劫。</p>
<h2 id="如何保障购买的数字货币">如何保障购买的数字货币</h2>
<!--
同时，有不少萌新半知半解用了非官方的软件，或者是登录了交易所的“钓鱼网站”(类比伪基网站)，这些不安全的使用方式都会让币存储增加风险！
-->
<p>一部分人像我一样，希望购买数字货币后，封存起来，等待未来升值，那就要求你对购买的数字货币有足够的控制权。那么要怎样做，才能尽可能保障我购买的数字货币呢？</p>
<ol type="1">
<li>设置账号登录保护，保管好你的公钥和私钥，不要随便泄露给他人；</li>
<li>选择一款比较好的钱包，而不是直接长期放在交易所；</li>
<li>你可以养成良好的使用钱包的习惯，例如，定期备份钱包、必要的时候及时将热钱包内的比特币转移到冷钱包等。</li>
<li>...</li>
</ol>
<h2 id="比特币钱包是什么">比特币钱包是什么？</h2>
<p>钱包就是用来存放和收发数字货币的地方，本质是保护你的私钥。因为 “谁控制了私钥，谁就控制了附在这些私钥上的比特币”，所以本质上，<strong>加密或比特币钱包只是一个为你管理私钥的应用程序、网站或设备</strong>。钱包里有私人钥匙、允许你花数字货币的密码。</p>
<p>如果你不把数字货币转到自己的钱包，那么你的私钥暂时是由这些平台接管的，等同于你将款项存入了那家金融机构
– 就像在任何银行进行存款一样，所以这类公司的运营方式更像银行。</p>
<ul>
<li>注意：谁控制了私钥，谁就控制了附属在这些私钥上的比特币。
<ul>
<li>你的数字货币存储在 Coinbase
或任何其他交易所，数字货币的控制权就在交易所，而不在你自己手中。</li>
<li>永远不要在交易平台长期存储比特币，哪怕平台以理财的名义诱惑你。</li>
</ul></li>
</ul>
<h3 id="钱包类型">钱包类型</h3>
<h4 id="硬件钱包">硬件钱包</h4>
<p>硬件钱包是一种物理电子设备，其唯一目的是保护加密数字货币。</p>
<h4 id="热钱包">热钱包</h4>
<p>热钱包是指在电脑、手机或平板电脑等联网设备上运行的钱包。</p>
<p>由于热钱包是在有互联网连接的设备上生成的私钥，所以这些私钥并不是 100%
安全的。</p>
<h2 id="钱包选择">钱包选择</h2>
<p>参考 <a href="https://www.buybitcoinworldwide.com/zh-cn/bitcoin-wallets/">哪个是最佳的比特币钱包？</a>
来了解和选择适合自己的钱包，或者在 <a href="https://bitcoin.org/zh_CN/choose-your-wallet">choose-your-wallet</a>
填入自己的条件，可以获得推荐的钱包。</p>
<p>因为我投资的钱不多，不打算购买硬件钱包（费钱），我最后选择的钱包是一款免费的热钱包
-- <a href="https://brd.com/">BRD</a>，看重它的用户量，易用性和跨平台。</p>
<h2 id="brd-钱包">BRD 钱包</h2>
<p>BRD 钱包是对比特币新用户来说最简单使用的钱包之一。BRD
钱包直接连接到比特币网络，并使用你的设备内置的硬件加密来保证你的加密资金安全。</p>
<ul>
<li><a href="https://bitcoin.org/zh_CN/wallets/mobile/ios/brd/?step=5&amp;platform=ios&amp;user=beginner&amp;important=control">BRD
特点介绍</a></li>
</ul>
<h3 id="优点">优点</h3>
<ul>
<li>由中本聪创建的 <a href="http://bitcoin.org">bitcoin.org</a>
官网推荐。
<ul>
<li>注意由中本聪最早创建的网站，是 <a href="http://bitcoin.org">bitcoin.org</a>，后缀是.org，而不是.com。</li>
</ul></li>
<li>资金掌控权：这个钱包让你拥有对你的比特币的全面掌控权。这意味着没有第三方可以冻结或是弄丢你的资金。但你仍需注意保障安全和备份你的钱包。</li>
<li>完全的手续费控制：这种钱包给与您完全控制手续费的功能，你可以在时间和手续费之间权衡。</li>
<li>跨平台：支持 Android 和 iOS 客户端。</li>
<li>基本的隐私性：防止对你的支付的窥探，这个钱包使得通过滚动地址的方式来窥探你的余额和支付历史的举动变得难上加难。<strong>你还是应该在每次要求支付的时候都使用一个新的比特币地址</strong>。</li>
<li>安全环境：这个钱包是从手机加载的。苹果手机上的应用程序一般都是孤立的，这很好地阻止了恶意软件的攻击。</li>
<li>存储许多加密货币，包括比特币，以太坊和 USDT。</li>
</ul>
<!--

  * 注意：这个网络里的其他节点仍然可以在接受和发出支付时登录你的 IP 地址并把你的支付联系在一起。
-->
<p>对于苹果用户，和币安类似，大陆 Apple store 目前不支持下载 BRD
APP，所以国区带 “BRD” 字样的 App，都是假冒的，谨防受骗。</p>
<h1 id="从-币安-提出到-brd-钱包">从 币安 提出到 BRD 钱包</h1>
<p>在币安平台，您可通过【钱包】【现货账户】的【提现】功能来快捷地将币提出。数字货币是通过 “地址” 进行提现的。在进行提币前，您需要在对应提币平台 (如
BRD
钱包) 找到充值地址，并将地址复制至币安平台的提现地址下，即可将您的数字资产提出到对应平台的账户内。</p>
<h2 id="获取充值地址">获取充值地址</h2>
<p><img data-src="/downloads/images/blog/BRD_home.jpg" style="zoom:25%;"></p>
<p>如上，在手机 BRD APP
主页，选择打算接收的数字货币类型，进入货币页面后，点击
“收到”，你会看到一串地址，复制钱包地址。</p>
<p><img data-src="/downloads/images/blog/BRD_receive.jpg" style="zoom:25%;"></p>
<p>BTC 的充值，可以参考官方教程 <a href="https://brd.com/support/articles/360002171933">How do I receive
ether or ERC20 tokens in my BRD
wallet?</a>，讲解非常详细。如果大家对英文阅读有困难，可以下面留言告诉我，我可以有空时翻译一下。</p>
<h2 id="数字资产提出">数字资产提出</h2>
<p>进入币安交易所，把购买的数字货币从 “法币账户” 划转到 “现货账户”，点击
“提现”。接下来，在 提现地址 中输入在 BRD
钱包中拷贝的地址，输入提现的比特币数量，点击提交就可以了。</p>
<p>更详细的操作流程，可以参考币安官方教程 -- <a href="https://www.binancezh.com/cn/support/articles/115003670492-%E5%A6%82%E4%BD%95%E6%8F%90%E5%B8%81">如何从币安提现数字货币</a>。</p>
<p>注意点：</p>
<ul>
<li>数字货币提现，不像银行转账那么快，大概等待半小时到一个小时，可以在
BRD
钱包看到系统正在接收自己的数字货币，再等待半小时到一小时，就可以在钱包里收到自己的数字货币了。</li>
<li><strong>提取需要手续费</strong>。系统会自动计算手续费，并给出实际到账数量：实际到账数量 = 提币数量 - 提币手续费。
<ul>
<li>现在一次手续费都折合 ¥100+，看来你是需要减少提现频率了。</li>
</ul></li>
<li>如果您选择了 BTC，请确保您在转入平台选择的币种也是 BTC。
<ul>
<li>如您充值地址错误，或选择了不支持该币种的主网充值数字资产，您将无法找回您的数字资产。<strong>请务必核实您的充值信息，谨慎操作</strong>。
# 从 BRD 钱包充值到 币安 钱包</li>
</ul></li>
</ul>
<p>当你在 BRD 平台收到数字资产后，可以再利用 BRD
钱包的充值功能，将数字货币转入币安等交易平台账户内。</p>
<p>数字货币是通过 “地址” 进行充值。只需通过您 “现货账户” 下的【充值】即可复制您币安平台的地址至
BRD 钱包进行操作，将您的数字资产充值到币安现货账户内。</p>
<h2 id="获得币安的充值地址">获得币安的充值地址</h2>
<p>在币安平台，点击右上方【钱包】→【现货账户】；进入账户后，选择【充值】；在 “数字货币” 下的 “币种” 输入框下，输入或选择您希望充值的币种名称；输入数字货币名称后，可以看到地址二维码和字符串，对应您的币安账户地址。</p>
<p>更详细的操作流程，可以参考币安官方教程 -- <a href="https://www.binancezh.com/cn/support/faq/115003764971">如何向币安平台充值数字货币</a></p>
<h2 id="数字资产发送">数字资产发送</h2>
<p>在 BRD
钱包中，在主页点击选择货币类型；点击【发送】，在弹框内输入在币安的账号地址，选择手续费 (到账时间越快，手续费越贵)，点击 “发送” 即可。</p>
<p><img data-src="/downloads/images/blog/BRD_send.jpg" style="zoom:25%;"></p>
<p>BTC 的发送，可以参考 <a href="https://brd.com/support/articles/360002205173">How can I send
ether or ERC20 tokens from BRD?</a>。</p>
<ul>
<li>处理速度如果选择 “经济”，大概需要 1 - 24 小时完成转账。</li>
</ul>
<h1 id="不得不提的手续费">不得不提的手续费</h1>
<p>因为数字货币的特性，从币安转到钱包，或者从钱包转到币安，都是需要手续费的。</p>
<p>因为是第一次接触数字货币，自己抱着试一试的心态，想用小额测试，把数字货币的整个流程走一遍。</p>
<p>如下图所示，我首先用 100 人民币在币安购买了 0.00109082 BTC，转出到
BRD 钱包时，需要支付 0.0004 个比特币作为手续费，那么 BRD
钱包，实际收到的比特币数量是 0.00069082。</p>
<p>然后，从 BRD 钱包再转到币安时，自己需要支付 0.0001589 BTC
的手续费，那么最后币安收到的比特币是 0.00053182 BTC，当时价值是 38.55
元人民币，中间手续费损耗 60 元。</p>
<p><img data-src="/downloads/images/blog/first_btc_trade.jpg"></p>
<p>最后的最后，重复一遍，千万不要把身家性命压在虚拟币上，也不要把全部币放在一个钱包（鸡蛋放到多个篮子里面）。</p>
<h1 id="参考链接">参考链接</h1>
<ul>
<li><a href="https://www.readblocks.com/archives/23066">如何通过币安 APP 购买比特币以太坊等数字货币</a></li>
<li><a href="https://www.cnblogs.com/okex/p/13681224.html">在币安交易所如何购买比特币教程</a></li>
<li><a href="https://zhang0peter.com/2020/03/20/buy-btc/">第一次进行比特币交易的尝试</a></li>
<li><a href="https://www.buybitcoinworldwide.com/china/">Buy Bitcoin
&amp; Crypto in China</a></li>
<li><a href="https://mp.weixin.qq.com/s/OE_qZsGXF5K6bmR_Odi_pw">比特币如何转移到钱包？</a></li>
<li><a href="https://www.buybitcoinworldwide.com/wallets/brd/">BRD
使用介绍</a></li>
</ul>
]]></content>
      <categories>
        <category>monthly skills</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>BTC</tag>
      </tags>
  </entry>
  <entry>
    <title>c_plus_plus_vector</title>
    <url>/Programming/c-plus-plus-vector/</url>
    <content><![CDATA[<h2 id="比较两个-vector-是否相等">比较两个 vector 是否相等</h2>
<p><a href="https://en.cppreference.com/w/cpp/container/vector/operator_cmp">bool
operator==( const std::vector&lt;T, Alloc&gt;&amp; lhs, const
std::vector&lt;T, Alloc&gt;&amp; rhs )</a></p>
<ul>
<li>Checks if the contents of lhs and rhs are equal, that is, they have
the same number of elements and each element in lhs compares equal with
the element in rhs at the same position. </li>
</ul>
<p><a href="https://www.techiedelight.com/zh/check-two-vectors-equal-cpp/">其他方法</a>
- std::equal - std::mismatch</p>
]]></content>
      <categories>
        <category>Programming</category>
      </categories>
      <tags>
        <tag>Programming</tag>
        <tag>C Plus Plus</tag>
      </tags>
  </entry>
  <entry>
    <title>成都 - 阿坝三日游记</title>
    <url>/Trip/chengdu-aba-trip-2021/</url>
    <content><![CDATA[<!--chengdu_aba_trip_2021-->
<p>2021 年 7 月 24 日，我和苗苗开启 12 天的婚假行。</p>
<p>2021 年 7 月 23 日，周五，苗苗下班后，我们从 北京大兴机场
出发，直飞成都市。</p>
<span id="more"></span>
<h1 id="第一天-成都">第一天 成都</h1>
<p>成都的夜生活还是很丰富的。我们大概凌晨 1
点多到达酒店，楼下还有小店招呼客人，可以简单地吃一顿。</p>
<p>对成都的印象可能仅限于 “大熊猫” 和 “火锅”。我们的第一站就是 “成都大熊猫繁育研究基地”，先摆上来一张导游全景图。</p>
<p><img data-src="/downloads/images/chengdu_panda_guide.jpg"></p>
<p>成都市不是非常大，我们从天府广场乘坐地铁转公交，大概中午到达大熊猫繁育研究基地。</p>
<p>我之前在其他动物园见到过一两只憨态的大熊猫，但是在这里你可以见到一群大熊猫。</p>
<p>我们选择的三小时旅游路线，因为天气气温合适，遇到至少二十只大熊猫。建议去观看室外大熊猫，没有室内玻璃的阻碍，看起来更加有意思。</p>
<p>熊猫的憨态可掬，一定程度时熊猫比较笨，动作迟缓，可以和澳大利亚的树獭比一比。</p>
<p>大熊猫吃竹子的视频</p>
<p>大熊猫趴在地上睡觉，就像一块毛毯子。</p>
<p><img data-src="/downloads/images/panda_sleep.jpg"></p>
<p>大熊猫繁育研究基地除了大熊猫外，还有小熊猫（不是幼龄大熊猫）。</p>
<p>小熊猫是什么？</p>
<h2 id="旅游建议">旅游建议</h2>
<ul>
<li>如果计划参观<strong>大熊猫博物馆</strong>需要提前预约。我们因为预约名额已满，所以没办法进去参观。</li>
<li>大熊猫繁育研究基地的道路比较曲折，沿途的指示标志也不是非常清晰，所以很容易在旅游过程中迷路。</li>
<li>尽量选择天气凉爽的时候，比如阴雨天，室外大熊猫才会出来；如果天气炎热，室外大熊猫就会暂时闭馆，无法参观。</li>
<li>导游说，如果能够见到 10 只大熊猫，你就是赚到了。</li>
<li>成都人性化的一点，地铁的走廊都是大大小小的店面，非常热闹，你甚至不清楚自己是在逛街还是在通勤。</li>
<li>阴雨天其实不错</li>
</ul>
<h2 id="春熙路-ifs-太古里">春熙路 IFS 太古里</h2>
<p>成都的大商圈挨的特别紧，步行即可。</p>
<p>春熙路上火锅店特别多，游客非常拥挤，非常拥挤。</p>
<p>IFS 的标志性建筑，熊猫爬墙。</p>
<p>因为我对美食不是特别热爱，我们排队两小时还是没有排到火锅的号，只能在旁边吃碗
重庆小面，然后回去休息。</p>
<p>旅游建议</p>
<ul>
<li>如果吃火锅，需要提前预约，高峰期排队 2 小时还是没有排上。</li>
</ul>
<hr>
<h1 id="第二天">第二天</h1>
<p>因为车技不合格，我们报旅行团去阿坝的毕棚沟和四姑娘山旅行。</p>
<p>我们从成都出发，路程是
都江堰市 -&gt; 映秀镇 -&gt; 理县 (毕棚沟)，然后折返，
理县 (毕棚沟)-&gt; 映秀镇 -&gt; 汶川县卧龙镇，休息一晚。</p>
<p>毕棚沟位于小金县。</p>
<p>毕棚沟的门票是 60 元 /
人，进去有车辆可以拉到上海子服务部；但是如果想继续游览，可以选择徒步，也可以选择付费乘坐电瓶车。我旅游当天，基本所有的乘客都会选择电瓶车，因为景区实在太大了，徒步只能看一部分而已。</p>
<p>另外景区内如果需要乘车，还需要额外交费。</p>
<p><img data-src="/downloads/images/bipenggou_guide.JPG"></p>
<p>毕棚沟游客中心 -&gt; 龙王海 -&gt; 上海子服务部 -&gt; 磐羊湖 -&gt; 燕子岩窝。</p>
<h2 id="龙王海">龙王海</h2>
<p>龙王海景点主要有两个高山湖泊，龙王海和静海，静海的湖水清澈见底，这是我见过最清澈的湖水了。</p>
<p>山涧细流汇入高山的怀抱中，形成一汪汪湖泊。</p>
<p><img data-src="/downloads/images/jinghai_clear_water.JPG"></p>
<h2 id="上海子服务部">上海子服务部</h2>
<p>你可以在此处吃饭和休整。养足了力气，在一鼓作气爬上去。</p>
<h2 id="磐羊湖">磐羊湖</h2>
<p>周边有一个 白龙瀑布，从高山中奔流而下，水声轰鸣。</p>
<figure>
<img data-src="/downloads/images/bailong_waterfall.JPG" alt="白龙瀑布">
<figcaption aria-hidden="true">白龙瀑布</figcaption>
</figure>
<p>磐羊湖
是一个高山湖泊，湖周围围绕着挺拔的雪山，可以想像冬季银装素裹，会是多么的美丽。</p>
<p>蓝天白云青山绿水</p>
<p><img data-src="/downloads/images/panyang_lake.jpg"></p>
<h2 id="燕子岩窝">燕子岩窝</h2>
<p>燕子岩窝景点可能还处于开发阶段，虽然是景区的尽头，但却是高山的入口。</p>
<p>周围全是高山，海拔是 3840 米左右，高原反应比较明显，感觉头痛。</p>
<p>燕子岩窝围四周全是高山，属于山间的一块平地，这里有高山草甸，以及可以眺望到的高山瀑布，从山顶鹏腾而下。</p>
<p><img data-src="/downloads/images/swallow_panorama.jpg"></p>
<p><img data-src="/downloads/images/swallow_waterfall.jpg"></p>
<p><img data-src="/downloads/images/swallow_me.jpg"></p>
<p>高原反应</p>
<p>一路伴着岷江而行。</p>
<p>司机师傅说，08 年汶川大地震，隧道塌方不严重，所以后面修建了很多隧道。</p>
<p>旅行建议：</p>
<ul>
<li>洗漱用品需要带好</li>
<li>车技要求高，路况复杂，途中会单车道会车，一小半路程都是在隧道中通过，道路塌方紧急维修的情况有多处。盘山路复杂</li>
<li>从 燕子岩窝
乘车到景区入口，需要一个多小时的时间，可以看得出来景区之大。</li>
</ul>
<p>我们上午 7 点从成都出发，11 点半 到达毕棚沟。我们游览到下午 4
点半，然后在羌寨吃饭，最后驾车 3。个多小时到达 卧龙镇 休息。</p>
<hr>
<h1 id="第三天">第三天</h1>
<p>我们早晨 7 点多起来，翻越巴朗山。</p>
<p>在翻阅巴朗山的途中，我们逐渐攀爬，绕着山盘旋而上，在云中穿行，这是我认为这段旅行最美丽的地方。因为隔着玻璃的原因，图片仿佛有一层灰蒙蒙的滤镜。</p>
<p>攀爬在巴朗山</p>
<p>云朵触手可及的感觉</p>
<p>感慨山河之壮丽</p>
<p>远处的崇山峻岭躲藏在云雾中，如梦似幻</p>
<p><img data-src="/downloads/images/balang_mount_4.jpg"></p>
<p><img data-src="/downloads/images/balang_mount_3.jpg"></p>
<p><img data-src="/downloads/images/balang_mount_2.jpg"></p>
<p><img data-src="/downloads/images/balang_mount_1.jpg"></p>
<p>先到达 猫鼻梁 的 “四姑娘山观景点”，
远眺四姑娘山。远处那个高高的雪峰，就是主峰，在 7 月份酷热的天气，还是有积雪的。</p>
<p>什么是四姑娘山？</p>
<p><img data-src="/downloads/images/siguniang_mount.JPG"></p>
<p>中午，我们上午 10 点到达双桥沟景点，浏览 5 个小时。</p>
<p>双桥沟景区，先乘坐景区大巴到达最高处，红杉林，海拔 3840
米。这里有小商铺，可以简单购物，其他地方就没有了，一定要在这里补给。</p>
<p>当天天气不太好，云比较低，所以远处的高山像是戴上了盖头，看不清她的真实面目，朦胧，但是可以感受到山那头的雄伟。</p>
<h2 id="红杉林">红杉林</h2>
<p><img data-src="/downloads/images/hongshanlin_spot.JPG"></p>
<p>经停的景点依次有
红杉林 - 牛棚子 - 四姑娜措 - 撵鱼坝 - 漂流出口 - 隆珠措 - 人参果坪。</p>
<h2 id="牛棚子">牛棚子</h2>
<p>此处，可以偶遇牦牛，以及当地的一座寺庙。在这个地方，可以远眺四面的高山。</p>
<h2 id="四姑娜措">四姑娜措</h2>
<p>措的意思是湖，所以这处景点是一个高山湖泊。</p>
<p>湖中心有一批死而不倒的</p>
<p><img data-src="/downloads/images/sigunacuo.JPG"></p>
<p>在撵鱼坝可以选择徒步一公里的栈道，或者漂流而下。我选择了一条近路，结果现在林间的沼泽中，鞋子都湿了，非常狼狈地到达了漂流出口。</p>
<h2 id="隆珠措">隆珠措</h2>
<p>和和相似，但是这个湖泊是动态的，比如是流动的。</p>
<p>天空开始下雨，漫步在高山湖泊旁的体验还是很妙的。</p>
<p>木栈道</p>
<p><img data-src="/downloads/images/longzhucuo.JPG"></p>
<p><img data-src="/downloads/images/greentree_redflower.JPG"></p>
<h2 id="人参果坪">人参果坪</h2>
<p>主要是一片高山草甸，上面有一群牦牛，景色一般般。</p>
<p><img data-src="/downloads/images/renshenguoping.JPG"></p>
<p>旅游建议</p>
<ul>
<li>推荐折返旅游</li>
<li>牌子指示性不好，不清楚到哪里了</li>
<li>因为双桥沟和毕棚沟比较靠近，所以两者的景点很相似，我更加推荐毕棚沟景点。</li>
</ul>
<p>我们从出来后，大概 7 点半到达成都市。</p>
<hr>
]]></content>
      <categories>
        <category>Trip</category>
      </categories>
      <tags>
        <tag>Journey</tag>
      </tags>
  </entry>
  <entry>
    <title>Chrome 开发者工具高级使用技巧</title>
    <url>/Google/chrome-developer-tools/</url>
    <content><![CDATA[<p>[toc]</p>
<p>在开始之前，我想介绍一下 Chrome 的命令菜单。命令菜单之于 Chrome，就像
Shell 之于 Linux 一样。你可以在键盘敲入相应命令来操作 Chrome。</p>
<h1 id="打开命令菜单">打开命令菜单</h1>
<ol type="1">
<li>打开 Chrome 开发者工具</li>
<li>使用以下快捷键打开命令菜单：</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">windows：Ctrl + Shift + P</span><br><span class="line">macOS：Cmd + Shift + P</span><br></pre></td></tr></tbody></table></figure>
<p><img data-src="http://www.waylon.one/downloads/images/blog/chrome_cmds.gif"></p>
<h1 id="chrome-屏幕截图">Chrome 屏幕截图</h1>
<p>捕获屏幕内容是一个常见的功能需求，你当前的计算机上已经有了非常方便的截图工具了。但是，你可以完成以下任务吗？</p>
<ol type="1">
<li>截取网页上所有内容的屏幕快照，包括可视窗口中未显示的所有内容。</li>
<li>精确捕获 DOM 元素的内容</li>
</ol>
<blockquote>
<p>HTML DOM 是 HTML Document Object Model (文档对象模型) 的缩写，HTML DOM
则是专门适用于 HTML/XHTML 的文档对象模型。熟悉软件开发的人员可以将 HTML
DOM 理解为网页的
API。它将网页中的各个元素都看作一个个对象，从而使网页中的元素也可以被计算机语言获取或者编辑。</p>
</blockquote>
<p>这是两个很普通的要求，但是使用操作系统随附的屏幕截图工具不太容易解决。这个时候，我们可以在
Chrome 使用相关命令来帮助我们完成此要求。</p>
<h2 id="截取网页上所有内容的屏幕快照">截取网页上所有内容的屏幕快照</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">Screenshot Capture full size screenshot</span><br></pre></td></tr></tbody></table></figure>
<h2 id="精确捕获-dom-元素的内容">精确捕获 DOM 元素的内容</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">Screenshot Capture node screenshot</span><br></pre></td></tr></tbody></table></figure>
<p><img data-src="http://www.waylon.one/downloads/images/blog/chrome_cmds_capture.gif"></p>
<!--
![](https://mmbiz.qpic.cn/mmbiz_gif/XIibZ0YbvibkWhLNU78h5gmN3j6h6VXfuWlIiavPIDY9gWzMymQicQUreeU0jFZIbbdloZBYwe1pRkeBMbNH5M97GA/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1)

-->
<h1 id="监控页面加载状态">监控页面加载状态</h1>
<p>从开始到完全加载页面可能需要十秒钟以上的时间。我们有时需要监控页面在不同的时间点相关资源的加载行为。</p>
<p>在 Chrome 开发者工具中，我们可以使用 “网络” 面板下的 Capture
Screenshots 功能来捕获页面加载时的屏幕截图。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/chrome_cmds_loading.gif"></p>
<h1 id="trace-viewer">Trace Viewer</h1>
<!--
[了解](chrome://tracing/)
-->
]]></content>
      <categories>
        <category>Google</category>
      </categories>
      <tags>
        <tag>Google</tag>
      </tags>
  </entry>
  <entry>
    <title>简明版墨卡托投影坐标系 (原理到实现)</title>
    <url>/USV/Mercator-projection/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="前言">前言</h1>
<p>FYI 本博客初稿完成于 2017 年，内容更新于 <a href="http://www.waylon.one/USV/Mercator-projection/">个人网站 -
简明版墨卡托投影坐标系</a>，请移步阅读最新内容。</p>
<p>本文讲述了墨卡托投影坐标系的基本原理和实现，但是因为地球非标准椭圆，经纬度和米坐标的转换复杂，本文提供的算法存在较大误差，仅适用于初步验证。</p>
<h1 id="墨卡托投影坐标系">墨卡托投影坐标系</h1>
<p>墨卡托投影 (Mercator
Projection) 是一种 “等角正切圆柱投影”，荷兰地图学家墨卡托 (Mercator) 在 1569 年拟定：假设地球被围在一个中空的圆柱里，其赤道与圆柱相接触，然后再假想地球中心有一盏灯，把球面上的图形投影到圆柱体上，再把圆柱体展开，这就是一幅标准纬线为零度（即赤道）的 “墨卡托投影” 绘制出的世界地图。<br>
墨卡托投影在今天对于航海事业起着极为重要的作用，目前世界各国绘制海洋地图时仍广泛使用墨卡托投影，国际水路局 (IHB) 规定：“除特殊情况外，各国都要用墨卡托投影绘制海图”。国际水路局发行的《大洋水深总图》是把全世界分成 24 幅编辑的，在南北纬 72 度之间就是使用墨卡托投影绘成的。</p>
<h1 id="墨卡托投影性质">墨卡托投影性质</h1>
<p>由于墨卡托投影的经纬线离开赤道逐渐以相同倍数伸长，所以又称为渐长投影，由于它是具有等角性质的圆筒投影，所以也叫做等角圆筒投影。<strong>注意：这种投影不适合高纬地区，通常纬度 60 度以上区域，不用此投影</strong>。</p>
<p><img data-src="/downloads/images/blog/Mercator_1.png"></p>
<p><img data-src="/downloads/images/blog/Mercator_2.png"></p>
<p>墨卡托投影有一个特别的特性：所有罗盘等角线，或称斜航线（就是与所经过的所有经线形成相同角度的航线，也称恒向航线）在墨卡托投影下都是直线。这使得在航海领域这个投影非常重要。
注意：经纬线的伸长与纬线的正割成比例变化，随纬度增高极具拉伸，到极点成为无穷大；面积的扩大更为明显，在 60 度的地方面积要扩大四倍。如下图所示，地理上等半径圆在高纬度面积明显扩大。</p>
<p><img data-src="/downloads/images/blog/Mercator_3.png"></p>
<p>墨卡托投影是按等角条件修改透视圆筒投影而得到的投影，等角（也称为保形）
是指当地图上任何一点的各方向具有相同的比例，称为局部保形，透视圆筒投影如图 1 所示。从墨卡托投影图上可以看出，经线间隔的经度如果相等，则经线是等距平行的直线，
纬线也是平行的直线，而且经纬线是相互垂直的。墨卡托投影对透视圆筒投影改造点：要使圆筒投影称为等角的性质，必须使由赤道向两极经线逐渐伸长的倍数与经线上各点相应的纬度扩大的倍数相同。</p>
<p><img data-src="/downloads/images/blog/Mercator_4.png"></p>
<p><img data-src="/downloads/images/blog/Mercator_5.png"></p>
<p>透视圆筒投影</p>
<p><img data-src="/downloads/images/blog/Mercator_6.png"></p>
<h1 id="墨卡托投影方程式">墨卡托投影方程式</h1>
<p>墨卡托投影以整个世界范围，赤道作为标准纬线，本初子午线作为中央经线，两者交点为坐标原点，向东向北为正，向西向南为负。南北极在地图的正下、上方，而东西方向处于地图的正右、左。由于墨卡托投影在两极附近是趋于无限值，因此它并没完整展现了整个世界，地图上最高纬度是 85.05 度（通过纬度取值范围 ys 反解计算可得到纬度值为 85.05112877980659）。为了简化计算，我们采用球形映射，而不是椭球体形状。</p>
<p>公式推导具体见文献 <a href="http://new.oversea.cnki.net/kcms/detail/detail.aspx?filename=LNSZ198001001&amp;dbcode=CJFQ&amp;dbname=CJFD1980&amp;v=">墨卡托投影与大圆投影的构成及其在定航线计算航程与航向方面的应用_程光举</a>。</p>
<p><img data-src="/downloads/images/blog/Mercator_7.png"> <img data-src="/downloads/images/blog/Mercator_8.png"></p>
<p>利用等角条件 m=n 来讨论具体公式，具体分为三步： 1.
根据 m=n 得到地球表面投影到平面上的微积线段的关系式。<br>
2. 把地球视为球体：
设地球表面 A 点经纬坐标为（λ，Φ），对应的投影坐标为（x,y）, 基准纬线设置为赤道，则 R 为地球半径；</p>
<p>墨卡托投影方程式为：</p>
<p><img data-src="/downloads/images/blog/Mercator_9.png"></p>
<ol start="3" type="1">
<li>把地球视为旋转椭球体</li>
</ol>
<p>墨卡托投影正反解公式：</p>
<p><img data-src="/downloads/images/blog/Mercator_10.png"></p>
<p><img data-src="/downloads/images/blog/Mercator_11.png"></p>
<p>公式推导具体见文献 <a href="http://new.oversea.cnki.net/kcms/detail/detail.aspx?filename=LNSZ198001001&amp;dbcode=CJFQ&amp;dbname=CJFD1980&amp;v=">墨卡托投影与大圆投影的构成及其在定航线计算航程与航向方面的应用_程光举</a>。</p>
<h1 id="程序实现">程序实现</h1>
<p>最新版见 <a href="https://github.com/wylloong/-GeographyCoordinateTransform/blob/master/Mercator">Geography
Coordinate Transform Lite/Mercator</a></p>
<figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// Lite版，仅适用于初步验证</span></span><br><span class="line"><span class="comment">//把地球视为球体实现经纬度和墨卡托投影的函数</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="type">double</span> x;</span><br><span class="line">	<span class="type">double</span> y;</span><br><span class="line">}WayPoint;</span><br><span class="line"></span><br><span class="line"><span class="comment">//经纬度转墨卡托</span></span><br><span class="line">WayPoint <span class="title function_">lonLat2Mercator</span><span class="params">(WayPoint lonLat)</span></span><br><span class="line">{</span><br><span class="line">	WayPoint mercator;</span><br><span class="line">	<span class="type">double</span> x = lonLat.x * <span class="number">20037508.34</span> / <span class="number">180</span>;</span><br><span class="line">	<span class="type">double</span> y = <span class="built_in">log</span>(<span class="built_in">tan</span>((<span class="number">90</span> + lonLat.y) * Pi / <span class="number">360</span>))/(Pi / <span class="number">180</span>);  </span><br><span class="line">	y = y * <span class="number">20037508.34</span> / <span class="number">180</span>;</span><br><span class="line">	mercator.x = x;</span><br><span class="line">	mercator.y = y;</span><br><span class="line">	<span class="keyword">return</span> mercator;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//墨卡托转经纬度</span></span><br><span class="line">WayPoint <span class="title function_">Mercator2lonLat</span><span class="params">(WayPoint mercator)</span></span><br><span class="line">{</span><br><span class="line">	WayPoint lonLat;</span><br><span class="line">	<span class="type">double</span> x = mercator.x / <span class="number">20037508.34</span> * <span class="number">180</span>;</span><br><span class="line">	<span class="type">double</span> y = mercator.y / <span class="number">20037508.34</span> * <span class="number">180</span>;</span><br><span class="line">	y = <span class="number">180</span> / Pi * (<span class="number">2</span> * <span class="built_in">atan</span>(<span class="built_in">exp</span>(y * Pi / <span class="number">180</span>)) - Pi / <span class="number">2</span>);</span><br><span class="line">	lonLat.x = x;</span><br><span class="line">	lonLat.y = y;</span><br><span class="line">	<span class="keyword">return</span> lonLat;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h1 id="reference">Reference</h1>
<ul>
<li>程光举.
墨卡托投影与大圆投影的构成及其在确定航线、计算航程与航向方面的应用 [J].
辽宁师院学报 (自然科学版),1980 (01):13-28. </li>
<li><a href="http://download.csdn.net/detail/wylloong/9813502">墨卡托投影与经纬度转换源代码及原理文献</a></li>
</ul>
]]></content>
      <categories>
        <category>USV</category>
      </categories>
      <tags>
        <tag>Programming</tag>
        <tag>USV</tag>
      </tags>
  </entry>
  <entry>
    <title>《穷查理宝典》读后感</title>
    <url>/Reading/Poor-Charlie-Almanack/</url>
    <content><![CDATA[<p>[toc]</p>
<p>《穷查理宝典》是查理・芒格效仿效仿富兰克林的《穷理查年鉴》，汇总自己谈话和演讲资料整理而成。这本书分为两部分，前两章讲查理的生平经历、对生活、学习和决策的见解和思想；后三章是最具有代表性的十几篇演讲稿。</p>
<span id="more"></span>
<blockquote>
<p><strong>查理・芒格</strong>
何许人也？查理是巴菲特的朋友、律师、顾问，也是美国商业史上最成功的上市公司伯克希尔的最大股东之一。伯克希尔公司在二人的管理下，市值令人震惊地增长了 13500 倍，从 1000 万美元猛增到 1350 亿美元。</p>
</blockquote>
<p><img data-src="/downloads/images/Poor_Charlie_Almanack_cover.jpeg" alt="穷查理宝典封面" style="zoom:50%;"></p>
<p>这本书的一大半内容由十几篇演讲稿组成，导致在不同章节和场合的内容重复度高；查理的生活智慧和投资见解零散分布在各个段落之中，观点不成体系；再加上听众对象是金融人士或者法律人士，专业度高，通篇有不少专业名词和概念，以及西方历史人物和典故，对非金融、非法学的读者阅读门槛高。</p>
<p>作为非专员人士，我往往需要读完一段或者某句话后，要再回去重读一遍，有的地方还会思索半天，阅读并不轻松和有趣，阅读进度比较缓慢，但是受益匪浅。以我为例，我习惯在每个周六晚上读上半个小时，大概十多页的内容，如此断断续续持续了一年半的时间，才把
542
页的穷查理宝典通读一遍。因为阅读断断续续，自己对书中的内容理解和记忆已经开始模糊。借着这次机会，通过书中的标注来辅助自己回忆，重新整理自己的阅读感想，方便自己今后使用时随时温习调取。</p>
<p>我比较赞赏查理的人生经历和生活态度。查理学过数学、物理，当兵的时候学过气象学，年轻的时候当了律师，最后走上了投资的道路。他热爱阅读，自学了很多学科，非常推崇心理学，还灵活运用，是一个通才。</p>
<h1 id="核心思想">核心思想</h1>
<p>全书给我影响深刻的三个观点是多元思维模型 (多学科思维)、逆向思考和集中投资，这显然是自己之前没有意识到，没有应用的空白区域。</p>
<ul>
<li>多元思维模型。在只有铁锤的人看来，每个问题都非常像一颗钉子。在所有行业所有学科和大部分日常生活中，这种做法会让问题变得一团糟。铁锤人综合症能够把人变成彻底的白痴，而治疗它的惟一良方是拥有全套工具。你们不能只拥有一把铁锤，你们必须拥有所有的工具，你们拥有的方法必须不止一种。你们在使用这些工具的时候，应该把它们列成一张检查清单，因为如果指望在需要的时候合适的工具会自动冒出来，那么你们将会错过很多好机会。但如果你们掌握了所有的工具，并在头脑中把它们排列成一张检查清单，那么你们将会得到许多用其他方法得不到的答案。</li>
<li>逆向思考。雅各比说：“反过来想，总是反过来想。” 我得到正确判断的办法，通常是先收集各种错误判断的例子，然后仔细考虑该怎样避免得到这些下场。第二，我非常热衷于收集错误判断的例子，所以我完全无视不同行业、不同学科之间的界线。毕竟，既然其他行业有许多重大的、容易发现的愚蠢事例，我为什么还要在自己的领地无足轻重的、难以发现的新蠢事呢？</li>
<li>集中投资。聪明人发现机会之后会狠狠地下注。他们碰到好机会就下重注，其他时间则按兵不动。就是这么简单。</li>
</ul>
<h1 id="摘录">摘录</h1>
<p>分享全书中对我而言，观点新颖，启发大，希望自己温故而知新的句子或段落，督促自己形成良好的习惯和做事习惯。</p>
<ul>
<li><p>我们赚钱，靠的是记住浅显的，而不是掌握深奥的。我们从来不去试图成为非常聪明的人，而是持续的试图别变成蠢货。久而久之，我们这种人便能获得非常大的优势。</p></li>
<li><p>避免决策失误的方法：先注意应该避免什么，也就是说，先弄清楚应该别做什么事情，然后再去考虑接下来采取怎样的行动。“我只想知道我将来会死在哪个地方，那么我就永远不去那里了”。</p></li>
<li><p>我们的经验往往会验证一个长久以来的观念：只要做好准备，在人生中抓住几个机会，迅速地采取适当的行动，去做简单而合乎逻辑的事情，这辈子的财富就会得到极大的增长。</p></li>
<li><p>我们的投资规矩是等待好球的出现。机会只眷顾有准备的人。</p></li>
<li><p>我最反对的是过于自信，过于有把握地认为你清楚你的某次行动是利大于弊的。你要应对的是高度复杂的系统，在其中，任何事情都跟其他一切事情相互影响。</p></li>
<li><p>关于投资，我们有三个选项：可以投资，不能投资，太难理解。为了确定可以投资的潜在项目，查理先选定一个容易理解的、有发展空间的、能够在任何市场环境下生存的主流行业。</p></li>
<li><p>(购买) 股价公道的伟大企业比 (购买) 股价超低的普通企业好。</p></li>
<li><p>你是正确的或是错误的，并不取决于大家是否同意你。你是正确的，是因为你的资料和推理是正确的。</p></li>
<li><p>如果你说真话，你就不用记住你的谎言啦。</p></li>
<li><p>我们倾向于把大量的钱投在我们不用再另做决策的地方。</p></li>
<li><p>关注别人赚钱（比你）更快的想法是一种致命的罪行。嫉妒真的是一种愚蠢的罪行，因为它是仅有的一种你不可能得到任何乐趣的罪行。</p></li>
<li><p>你必须拥有多元思维模 —— 因为如果你只能使用一两个，研究人性的心理学表明，你将会扭曲现实，直到它符合你的思维模型，或者至少到你认为它符合你的模型为止。</p></li>
<li><p>如果你告诉人们事情的时候，总是告诉他们原因，他们就能更深刻地理解你说的话，就会更加重视你说的话，也会更倾向于听从你说的话。就算他们不理解你的理由，他们也会更倾向于听你的话。</p></li>
<li><p>大公司并非总是赢家，—— 企业变大之后，就会出现官僚机构的作风，而这种作风会造成敷衍塞责的情况 —— 这也是人类的本性。</p></li>
<li><p>决定行为的是决策者的激励机制，这是人之常情。所以制定正确的激励机制是非常、非常重要的教训。</p>
<ul>
<li>激励机制引起的偏见无所不在，这造成了一些普遍而巨大的后果。</li>
</ul></li>
<li><p>那些设计了有漏洞可钻的制度的人应该被打入地狱的最底层。</p></li>
<li><p>我们不需要了解所有的知识，只要吸取各个学科最杰出的思想就行了。</p></li>
<li><p>需要新的机器而尚未购买的公司，其实已经在为它花钱了。</p></li>
<li><p>晚年的最佳保护铠甲是一段在它之前被悉心度过的生活，一段被用于追求有益的知识、光荣的功绩和高尚的举止的生活；过着这种生活的人从青年时代就致力于提升他自己，而且将会在晚年收获它们产生的最幸福的果实；这不仅是因为有益的知识、光荣的功绩和高尚的举止将会陪伴他终生，甚至直到他生命的最后一刻，也会因为见证了正直的人生的良心和对过往美好功绩的回忆将会给灵魂带来无上的安慰。</p></li>
<li><p>注意多种因素的共同作用 —— 也就是 lollapalooza （合奏) 效应。</p>
<ul>
<li>Lollapalooza，指通过专注、好奇、毅力和自我批评的结合体而获得特殊能力的精通多门学科的人。</li>
</ul>
<figure>
<img data-src="/downloads/images/lollapalooza.png" alt="Lollapalooza">
<figcaption aria-hidden="true">Lollapalooza</figcaption>
</figure></li>
<li><p> 以最近的事情推断未来是人类的本性。</p></li>
<li><p>避免因为过去的成功而做蠢事的正确对策是：</p>
<ul>
<li>谨慎地审视以往的每次成功，找出这些成功里面的偶然因素，以免受这些因素误导，从而夸大了计划中的新行动取得成功的概率；</li>
<li>看看新的行动将会遇到哪些在以往的成功经验中没有出现的危险因素。</li>
</ul></li>
<li><p>如果你想要说服别人，要诉诸利益，而非诉诸理性。</p></li>
<li><p>容忍对某些人有一点不公平，以便对所有人更为公平，这是我向你们所有人推荐的模式。</p></li>
<li><p>如果你们的正确让其他有身份有地位的人觉得没面子，那么你们可能会引发别人极大的报复心理。</p></li>
<li><p>当人们听到坏消息，他们会讨厌带来消息的人。</p></li>
<li><p>对于复杂适应系统以及人类大脑而言，如果采用逆向思考，问题往往会变得容易解决。如果你们把问题反过来思考，你们通常就能够想得更加清楚。</p></li>
<li><p>化解过激的敌意的标准方法是，人们可以延迟自己的反应。</p>
<ul>
<li>如果你觉得骂人是很好的主意，你可以留到明天再骂。</li>
</ul></li>
<li><p>受惠者可能会嫉妒施惠者优越的处境，从而讨厌施惠者。</p></li>
<li><p>自然进化为你们的大脑提供的经验法则是不足以应付危机的。就好比你们想成为高尔夫球员，你们不能使用长期的进化赋予你的挥杆方式，而必须掌握一种不同的抓杆和挥杆方法，这样才能成为好的高尔夫球员。</p></li>
<li><p>被剥夺超级反应倾向：人们在失去 — 或者有可能失去 — 财产、爱情、友谊、势力范围、机会、身份或者其他任何有价值的东西时，通常会做出不理性的激烈反应，哪怕只失去一点点时也是如此。因此，因为势力范围受到威胁而发生的内耗往往会给整个组织造成极大的破坏。</p></li>
<li><p>对于父母来说，与其教训子女，毋宁控制他们交往朋友的质量。</p></li>
<li><p>人们在感到困惑或者有压力的时候，尤其是在既困惑又有压力的时候，最容易受到社会认同倾向影响。</p>
<ul>
<li>当人们处于怀疑状态时，别人的不行动变成了一种社会证据，证明不行动是正确的。</li>
</ul></li>
<li><p>明智的人会终身操练他全部有用然后很少用得上的、大多数来自其他学科的技能，并把这当作是一种自我提高的责任。</p>
<ul>
<li>对于一个善于思考的人而言，把他的技能编排成一张检查清单，并常常将这张清单派上用场也是很重要的。</li>
</ul></li>
<li><p>要解出 X，得先研究如何才能得到非 X。伟大的代数学家雅各比经常重复一句话：“反过来想，总是反过来想。” 许多难题只有在逆向思考的时候才能得到最好的解决，这就是事物的本质。</p></li>
<li><p>额外检查的因素：当今及未来的政策大气候，劳动力、供应商和客户关系的状况，技术变化的潜在影响，竞争优势和劣势，定价威力，环境问题。</p></li>
<li><p>投资原则检查清单 P97</p></li>
<li><p> 爱比克泰德的道德观 P453</p>
<figure>
<img data-src="/downloads/images/爱比克泰德的道德观.png" alt="爱比克泰德的道德观">
<figcaption aria-hidden="true">爱比克泰德的道德观</figcaption>
</figure></li>
</ul>
<h1 id="参考阅读">参考阅读</h1>
<ul>
<li><a href="https://www.zhihu.com/question/28988934/answer/233144689">如何评价《穷查理宝典》</a></li>
</ul>
]]></content>
      <categories>
        <category>Reading</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Finance</tag>
      </tags>
  </entry>
  <entry>
    <title>Kalman_filter_basic</title>
    <url>/Robotics/Kalman-filter-basic/</url>
    <content><![CDATA[<p>[toc]</p>
<ul>
<li>周末查看其它资料做了解</li>
</ul>
<p>卡尔曼滤波 (Kalman filter) 是在存在不确定下做信息融合 (combining
information) 的通用工具。</p>
<blockquote>
<p>It is such a general and powerful tool for combining information in
the presence of uncertainty.</p>
</blockquote>
<h1 id="what-is-it">What is it?</h1>
<p>You can use a Kalman filter in any place where you have
<strong>uncertain information</strong> about some dynamic system, and
you can make an <strong>educated guess</strong> about what the system is
going to do next.</p>
<h2 id="卡尔曼滤波的优点">卡尔曼滤波的优点</h2>
<p>卡尔曼滤波适用于连续变化 (continuously changing)
的系统，具有占用内存空间小（除了前一个状态量外，无需保留其他历史数据），处理速度快的特点，适合应用于实时问题和嵌入式系统。</p>
<blockquote>
<p>Kalman filters are ideal for systems which are continuously changing.
They have the advantage that they are light on memory (they don’t need
to keep any history other than the previous state), and they are very
fast, making them well suited for real time problems and embedded
systems.</p>
</blockquote>
<h1 id="what-can-we-do-with-a-kalman-filter">What can we do with a
Kalman filter?</h1>
<p>卡尔曼的一个应用举例：测量坦克的油量，汽车引擎的温度，用户在触摸板上的手指位置，甚至所有你可以跟踪
(track)
的物体。概括的讲，只要用 “跟踪” 这个词来形容的算法，即 tracking、Tracker 等这种词描述的算法，基本都要用 kalman 滤波处理下数据。</p>
<blockquote>
<p>It could be data about the amount of fluid in a tank, the temperature
of a car engine, the position of a user’s finger on a touchpad, or any
number of things you need to keep track of.</p>
</blockquote>
<h1 id="how-a-kalman-filter-sees-your-problem">How a Kalman filter sees
your problem</h1>
<p>The Kalman filter assumes that both variables are random and Gaussian
distributed. Each variable has a mean value 𝜇, which is the center of
the random distribution (and its most likely state), and a variance 𝜎2,
which is the uncertainty.</p>
<figure>
<img data-src="https://note.youdao.com/src/WEBRESOURCE46298a0ddeb2a342957c6f2da3a270c0" alt="截屏2021-03-23 下午8.36.39.png">
<figcaption aria-hidden="true">截屏 2021-03-23
下午 8.36.39.png</figcaption>
</figure>
<p>从参数之间的关联发掘更多信息：比如机器人的速度和位置，如果速度快，那么位置可能就比较远。</p>
<p>This kind of relationship is really important to keep track of,
because it gives us more information: <strong>One measurement tells us
something about what the others could be</strong>. And that’s the goal
of the Kalman filter, we want to squeeze as much information from our
uncertain measurements as we possibly can!</p>
<p>参数之间的相关性，可以用协方差矩阵 (covariance matrix)
来表示，即矩阵中的每个元素 ∑ij 表示第 i 个和第 j
个状态变量之间的相关度。注意，协方差矩阵是一个对称矩阵，这意味着可以任意交换
i 和 j。</p>
<blockquote>
<p>This correlation is captured by something called a covariance
matrix.</p>
</blockquote>
<h1 id="describing-the-problem-with-matrices">Describing the problem
with matrices</h1>
<p>We need some way to look at the current state (at time k-1) and
predict the next state at time k. We can represent this prediction step
with a <strong>prediction matrix</strong>, Fk.</p>
<p>请注意，预测矩阵要求严格反映运动的特征，要求预测准确，不能模糊。</p>
<p>For <strong>prediction matrix</strong>, it takes every point in our
original estimate and moves it to a new predicted location, which is
<strong>where the system would move if that original estimate was the
right one</strong>.</p>
<figure>
<img data-src="" alt="图片">
<figcaption aria-hidden="true">图片</figcaption>
</figure>
<p>不太理解这个公示是如何推导出来的，数学的理论知识不够踏实。</p>
<figure>
<img data-src="https://note.youdao.com/src/WEBRESOURCEc20ab959f47d05d994f3ad7065fd17aa" alt="screen shot 2021-03-24 at 20.14.01.png">
<figcaption aria-hidden="true">screen shot 2021-03-24 at
20.14.01.png</figcaption>
</figure>
<h1 id="external-influence">External influence</h1>
<p>外部系统的影响</p>
<blockquote>
<p>There might be some changes that aren’t related to the state itself —
the outside world could be affecting the system.</p>
</blockquote>
<ul>
<li>control matrix</li>
<li>control vector</li>
</ul>
<h1 id="external-uncertainty">External uncertainty</h1>
<p>Everything is fine if the state evolves based on its own properties.
Everything is still fine if the state evolves based on external forces,
so long as we know what those external forces are.</p>
<p>如何应对外界的不确定性，比如四旋翼控制中的风影响。</p>
<blockquote>
<p>We can model the uncertainty associated with the “world” (i.e. things
we aren’t keeping track of) by adding some new uncertainty after every
prediction step * Every state in our original estimate could have moved
to a range of states.</p>
</blockquote>
<p>图片讲解</p>
<p>In other words, the new best estimate is a prediction made from
previous best estimate, plus a correction for known external
influences.</p>
<p>And the new uncertainty is predicted from the old uncertainty, with
some additional uncertainty from the environment.</p>
<h1 id="refining-the-estimate-with-measurements">Refining the estimate
with measurements</h1>
<p>We might have several sensors which give us information about the
state of our system.</p>
<p>Each sensor tells us something indirect about the state— in other
words, the sensors operate on a state and produce a set of readings.</p>
<p>The units and scale of the reading might not be the same as the units
and scale of the state we’re keeping track of. You might be able to
guess where this is going: We’ll model the sensors with a matrix.</p>
<p>卡尔曼滤波的精妙处：</p>
<p>One thing that Kalman filters are great for is dealing with sensor
noise. In other words, our sensors are at least somewhat unreliable, and
every state in our original estimate might result in a range of sensor
readings.</p>
<p>From each reading we observe, we might guess that our system was in a
particular state. But because there is uncertainty, <strong>some states
are more likely than others</strong> to have have produced the reading
we saw.</p>
<p>We have two Gaussian blobs: One surrounding the mean of our
transformed prediction, and one surrounding the actual sensor reading we
got.</p>
<p>配图</p>
<p>We must try to reconcile our guess about the readings we’d see based
on the predicted state (pink) with a different guess based on our sensor
readings (green) that we actually observed.</p>
<p>If we have two probabilities and we want to know the chance that both
are true, we just multiply them together.</p>
<p>The mean of this distribution is the configuration for which
<strong>both estimates are most likely</strong>, and is therefore the
<strong>best guess</strong> of the true configuration given all the
information we have.</p>
<h1 id="combining-gaussians">Combining Gaussians</h1>
<figure>
<img data-src="" alt="Kalman Filter Information Flow">
<figcaption aria-hidden="true">Kalman Filter Information
Flow</figcaption>
</figure>
<h1 id="wrapping-up">Wrapping up</h1>
<p>卡尔曼滤波用于线性系统，扩展卡尔曼滤波适用于非线性系统。</p>
<blockquote>
<p>This will allow you to model any <strong>linear system</strong>
accurately. For nonlinear systems, we use the <strong>extended Kalman
filter</strong>, which works by simply linearizing the predictions and
measurements about their mean.</p>
</blockquote>
<h1 id="references">References</h1>
<ul>
<li><a href="https://www.bzarg.com/p/how-a-kalman-filter-works-in-pictures/">How
a Kalman filter works, in pictures</a>
<ul>
<li> 使用 chrome 打开有些公式显示是错误的，可以使用 safari
打开，公示显示正常。</li>
</ul></li>
<li><a href="https://mp.weixin.qq.com/s/7XJvxPRCFhdUP15mo1b89A">一文详解卡尔曼滤波器的原理与应用</a></li>
</ul>
]]></content>
      <categories>
        <category>Robotics</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Robotics</tag>
      </tags>
  </entry>
  <entry>
    <title>A COLREGs-based obstacle avoidance approach for unmanned surface vehicles</title>
    <url>/USV/colregs-paper/</url>
    <content><![CDATA[<!--2019-10-22 22:15:10-->
<p>[toc]</p>
<p>  Unmanned surface vehicles (USVs) are autonomous marine vessels that
can execute multiple tasks in a variety of cluttered marine environments
without human supervision. The future progress of USVs depends on the
development of full autonomy, which would enable USVs to work in any
unstructured or unpredictable environment without human
intervention.<br>
  One of the main challenges in enhancing USV autonomy is the
simultaneous detection and avoidance of obstacles in either open or
confined waters. Local obstacle avoidance for USVs is used to avoid
static and dynamic obstacles by adopting a timely avoidance manoeuvre.
Local obstacle avoidance algorithms are of two types: path
searching-based local path planning, which can generate appropriate
trajectories or waypoints followed by the vehicle, and the
behaviour-based reactive obstacle avoidance method, which can generate
the guidance angle and guidance velocity realized by the navigation
controller in real time.<br>
  A novel path searching-based algorithm called the local normal
distribution-based trajectory (LNDT) is proposed in this paper to
address the local obstacle avoidance problem of USVs in complicated
encounter situations. The design and implementation of LNDT has been
published in <a href="https://www.sciencedirect.com/journal/ocean-engineering">Ocean
Engineering</a> with <a href="https://www.sciencedirect.com/science/article/pii/S0029801818317475?via%3Dihub">reference
link</a>. Besides, there is <a href="https://www.yanlongwang.net/download/papers/A_COLREGs-based_obstacle_avoidance_approach_for_unmanned_surface_vehicles.pdf">a
copy</a> only for personal research purpose.<br>
  The following sections mainly discuss the implementation principle of
the algorithm and provide some critical information to facilitate the
following researchers. About the detailed information, you can refer my
master thesis - <a href="https://www.yanlongwang.net/download/papers/Research_on_the_Technology_of_Path_Planning_for_Unmanned_Surface_Vehicle.pdf">Research
on the Technology of Path Planning for Unmanned Surface Vehicle</a>,
while it is written in Chinese. The LNDS method is mainly extracted from
my master thesis and polished in simulation.</p>
<h1 id="abstract">Abstract</h1>
<p>英文在中文之后 / English follows Chinese<br>
  本文讲述了一种新型的、遵守 COLREGs 规则的无人水面艇 (USV) 自动避障方法的初步研究结果。这个方法本质上是一种基于路径搜索的算法，称为局部正态分布轨迹法，该算法可以在存在静态和动态障碍物的情况下规划出可行的避障轨迹。算法可以根据正态分布的钟形曲线生成符合 COLREGs 的次优轨迹，并提取航路点以供导航控制器安全操纵 USV。此外，我们讨论了构成钟形曲线的三个关键参数，并提出了一种轨迹重新规划策略，以提高该方法的安全性和灵活性。我们在实验中模拟了常见的超车、交叉和正面碰撞情况来验证算法，仿真表明该方法考虑了多个因素，可以规划出能够安全、平滑地避开障碍物的路径。此外，该方法还和另一种遵守 COLREGs 规则的反应式避障方法做了比较。<br>
  This paper reports the preliminary research results of a novel
automatic obstacle avoidance approach based on the COLREGs for unmanned
surface vehicles (USVs). The approach presented is essentially a path
searching-based algorithm called the local normal distribution-based
trajectory, which plans viable avoidance trajectories in the presence of
both static and dynamic obstacles. The proposed algorithm can generate a
COLREGs-compliant suboptimal trajectory based on the bell-shaped curve
of normal distribution and extract waypoints for the navigation
controller to steer USVs safely. In addition, we discuss three key
parameters and present a trajectory replanning strategy to improve the
safety and flexibility of our approach. The common overtaking, crossing
and head-on collision scenarios are each simulated in experiments. It is
shown through simulations that the proposed approach considers multiple
factors and can plan paths to avoid obstacles safely and smoothly. A
comparison is also made with a reactive path planning algorithm which
has been modified to follow the COLREGs.</p>
<h1 id="design-and-implementation">Design and Implementation</h1>
<p>  The overall scheme of obstacle avoidance is illustrated in
following figure. The decision-making module in the dashed frame
includes a two-layered distributed architecture of obstacle avoidance;
we primarily study the COLREGs-based obstacle avoidance approach.</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/science/LNDT_Architecture.png"></p>
<p>  The LNDT algorithm includes six processes, as shown below. We first
integrates COLREGs rules into the obstacle avoidance approach of USVs.
When there is a collision risk, it would determine three key parameters
of the trajectory by a fixed procedure, and the primitive trajectory
would be rotated and translated to adapt the real collision scenario.
The USV then follows the planned trajectories. We would replan the
trajectory once USVs can not follow the planned trajectory.</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/LNDT_Architecture.png"></p>
<p>  Besides, we propose a scalable and flexible obstacle avoidance
architecture. And we proposes six evaluation indicators to establish a
scientific and impartial obstacle avoidance behaviour assessment (OABA)
method in this paper.</p>
<h1 id="others">Others</h1>
<p>  The LNDT algorithm is mainly implemented in 2018, and it has not
been tested in complex sea trial, so there must be some drawbacks to
improve.<br>
  In order to put it into wide practice, I'm glad to discuss some topics
with you via email and polish this method, even share part of the source
code with you.</p>
<!--
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[LNDT] -- &gt;B(Integrate COLREGs Rules)</span><br><span class="line">B -- &gt; C(Check Collision Risk)</span><br><span class="line">C -- &gt; D(Determine Key Parameters)</span><br><span class="line">D -- &gt; E(Trajectory Rotation &amp; Translation)</span><br><span class="line">E -- &gt; F(USV Follows Trajectory)</span><br><span class="line">F -- &gt; G(Replan Trajectory)</span><br></pre></td></tr></table></figure>
<p>--&gt;</p>
-->]]></content>
      <categories>
        <category>USV</category>
      </categories>
      <tags>
        <tag>Robotics</tag>
        <tag>Paper</tag>
        <tag>USV</tag>
        <tag>Path Planning</tag>
      </tags>
  </entry>
  <entry>
    <title>巧用 STL 容器构建堆</title>
    <url>/Programming/cpp-heap-via-container/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="红黑树">红黑树</h1>
<h2 id="什么是红黑树">什么是红黑树</h2>
<h1 id="setmultiset-实现最大堆">set/multiset 实现最大堆</h1>
<p>在 STL 中，set 和 multiset 是基于红黑树实现的。</p>
<ul>
<li><a href="https://en.cppreference.com/w/cpp/container/set">Sets</a>
are usually implemented as <a href="https://en.wikipedia.org/wiki/Red–black_tree">red-black
trees</a>.</li>
<li>Sorting is done using the key comparison function <em><a href="https://en.cppreference.com/w/cpp/named_req/Compare">Compare</a></em>.
Search, removal, and insertion operations have logarithmic
complexity.</li>
</ul>
<h2 id="code-example">Code Example</h2>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">  <span class="comment">// Initialize a set.</span></span><br><span class="line">  <span class="comment">// Compare parameter is default to std::less&lt;Key&gt;.</span></span><br><span class="line">  std::set&lt;<span class="type">int</span>&gt; min_s;</span><br><span class="line">  min_s.<span class="built_in">insert</span>(<span class="number">1</span>);</span><br><span class="line">  min_s.<span class="built_in">insert</span>(<span class="number">3</span>);</span><br><span class="line">  min_s.<span class="built_in">insert</span>(<span class="number">2</span>);</span><br><span class="line">  min_s.<span class="built_in">insert</span>(<span class="number">5</span>);</span><br><span class="line">  min_s.<span class="built_in">insert</span>(<span class="number">4</span>);</span><br><span class="line">  min_s.<span class="built_in">insert</span>(<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">  std::cout &lt;&lt; <span class="string">"min value of set container is "</span> &lt;&lt; *min_s.<span class="built_in">begin</span>() &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">"max value of set container is "</span> &lt;&lt; *min_s.<span class="built_in">rbegin</span>() &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Compare parameter is default to std::greater&lt;Key&gt;.</span></span><br><span class="line">  std::set&lt;<span class="type">int</span>, std::greater&lt;<span class="type">int</span>&gt;&gt; max_s;</span><br><span class="line">  max_s.<span class="built_in">insert</span>(<span class="number">1</span>);</span><br><span class="line">  max_s.<span class="built_in">insert</span>(<span class="number">3</span>);</span><br><span class="line">  max_s.<span class="built_in">insert</span>(<span class="number">2</span>);</span><br><span class="line">  max_s.<span class="built_in">insert</span>(<span class="number">5</span>);</span><br><span class="line">  max_s.<span class="built_in">insert</span>(<span class="number">4</span>);</span><br><span class="line">  max_s.<span class="built_in">insert</span>(<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">  std::cout &lt;&lt; <span class="string">"max value of set container is "</span> &lt;&lt; *max_s.<span class="built_in">begin</span>() &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">"min value of set container is "</span> &lt;&lt; *max_s.<span class="built_in">rbegin</span>() &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Initialize a multiset.</span></span><br><span class="line">  std::multiset&lt;<span class="type">int</span>, std::greater&lt;<span class="type">int</span>&gt;&gt; max_ms;</span><br><span class="line">  max_ms.<span class="built_in">insert</span>(<span class="number">1</span>);</span><br><span class="line">  max_ms.<span class="built_in">insert</span>(<span class="number">3</span>);</span><br><span class="line">  max_ms.<span class="built_in">insert</span>(<span class="number">2</span>);</span><br><span class="line">  max_ms.<span class="built_in">insert</span>(<span class="number">5</span>);</span><br><span class="line">  max_ms.<span class="built_in">insert</span>(<span class="number">4</span>);</span><br><span class="line">  max_ms.<span class="built_in">insert</span>(<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">  std::cout &lt;&lt; <span class="string">"max value of multiset container is "</span> &lt;&lt; *max_ms.<span class="built_in">begin</span>()</span><br><span class="line">            &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">"min value of multiset container is "</span> &lt;&lt; *max_ms.<span class="built_in">rbegin</span>()</span><br><span class="line">            &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>输出结果如下</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">min value of set container is -1</span><br><span class="line">max value of set container is 5</span><br><span class="line">max value of set container is 5</span><br><span class="line">min value of set container is -1</span><br><span class="line">max value of multiset container is 5</span><br><span class="line">min value of multiset container is -1</span><br></pre></td></tr></tbody></table></figure>
<p>参考 &lt;剑指 offer&gt; 面试题 40 — 最小的 k 个数</p>
<h1 id="基于-stl-的函数-push_heappop_heap-和-vector-实现堆">基于 STL
的函数 push_heap、pop_heap 和 vector 实现堆</h1>
<p>参考 &lt;剑指 offer&gt; 面试题 41 — 数据流中的中位数</p>
<h1 id="更改记录">更改记录</h1>
<p>2023.04.02 搭建架子，写出 set 版本。</p>
]]></content>
      <categories>
        <category>Programming</category>
      </categories>
      <tags>
        <tag>C Plus Plus</tag>
      </tags>
  </entry>
  <entry>
    <title>什么是可转债打新？</title>
    <url>/Finance/convertible-bond/</url>
    <content><![CDATA[<p>[toc]</p>
<p><strong>文章观点仅代表作者本人看法，存在个人的认知局限性。若内容涉及投资建议，仅供参考勿作为投资依据。投资有风险，入市需谨慎</strong>。</p>
<p>今年第二次中签可转债 — 锦浪发债。之前被公众号安利打新债赚钱容易，但是赚钱的具体原因却不晓得，趁着这次中签新债的机会，以
<strong>锦浪发债</strong> 为例，扒一扒打新债赚钱的原理。</p>
<p><img data-src="/downloads/images/jinlangfazhai.jpg" alt="锦浪发债中签" style="zoom:33%;"></p>
<h1 id="什么是可转债">什么是可转债</h1>
<p>可转债全称 <strong>可转换公司债券 (Convertible
bond)，</strong>属于公司债券的一种形式。可转换公司债券是指发行人依照法定程序发行、在一定期限内依据约定的条件可以转换成股份的公司债券。公司发行可转换债券的<strong>主要动因是为了增强证券对投资者的吸引力，能以较低的成本筹集到所需要的资金</strong>。</p>
<blockquote>
<p>这种债券附加转股选择权，在转换前是公司债券形式，转换后相当于增发了股票。因此，可转换公司债券兼有债权投资和股权投资的双重优势。</p>
<p>可转换公司债券与一般的债券一样，在转换前投资者可以定期得到利息收人，但此时不具有股东的权利；当发行公司的经营业绩取得显著增长时，可转换公司债券的持有人可以在约定期限内，按预定的转换价格转换成公司的股份，以分享公司业绩增长带来的收益。可转换债券一旦转换成普通股票，能使公司将原来筹集的期限有限的资金转化成长期稳定的股本，扩大了股本规模。</p>
</blockquote>
<p>可转债本质上是公司借钱的一张 “欠条”，相当于我们把钱借给了上市公司，到期可以拿回本金 + 利息。借钱期限到了，公司是要返还我们本金还有利息的，这是 “债” 的部分。同时，它还可以转化为股票。如果股价上涨，我们不想做公司的债主，还可以做公司的股东，这就是 “可转” 的含义。正因为可转债具备「股债」双重特性，所以又被认为是「下有保底，上不封顶」的投资品。</p>
<p>注意，可转换债券通常包含 <strong>赎回条款</strong> 和
<strong>回售条款</strong>，一般可以分为可赎回债券和可回售债券。</p>
<ul>
<li>可赎回债券，是指可转换公司债券发行人拥有是否实施赎回条款选择权的债券。当公司股票价格在一段时间内连续高于转换价格达到一定幅度时，公司可以按照事先约定的赎回价格买回发行在外尚未转股的可转换债券。</li>
<li>可回售债券，是指可转换公司债券的持有人是否实施回售条款选择权的债券。当公司的股票价格在一段时间内连续低于转换价格达到一定幅度时，可转换公司债券持有人有权按事先约定的价格将所持可转债卖给发行人。</li>
</ul>
<p>可转换公司债券一般要经股东大会或董事会的决议通过才能发行，而且在发行时，应在发行条款中规定转换期限和转换价格。</p>
<hr>
<p>本文以 <strong>锦浪发债</strong>
为例，看看公告中是如何规定利息、转债、赎回和回售条款。本节以下截图均来自
<a href="https://pdf.dfcfw.com/pdf/H2_AN202202071545531483_1.pdf?1644265927000.pdf">锦浪科技股份有限公司向不特定对象发行可转换公司债券发行公告</a>。</p>
<h2 id="利息">利息</h2>
<p><img data-src="/downloads/images/nianxian-5331745.png" alt="债务存续期限" style="zoom: 33%;"></p>
<p><img data-src="/downloads/images/fuxi.png" alt="利息" style="zoom: 33%;"></p>
<h2 id="转股">转股</h2>
<p><img data-src="/downloads/images/zhuangu.png" alt="转股" style="zoom: 33%;"></p>
<h2 id="有条件赎回条款">有条件赎回条款</h2>
<p><img data-src="/downloads/images/suhui.png" alt="赎回条款" style="zoom: 33%;"></p>
<h2 id="有条件回售条款">有条件回售条款</h2>
<p><img data-src="/downloads/images/huishou.png" alt="回售条款" style="zoom: 33%;"></p>
<p><img data-src="/downloads/images/gujiahuishou.jpeg" alt="股价下跌，回售政策" style="zoom:100%;"></p>
<h1 id="可转债打新为什么能赚钱">可转债打新为什么能赚钱</h1>
<p>要理解可转债打新赚钱的原理，我们必须要弄清楚一件事 — 溢价率，我们打新收益大部分都源自于溢价率，然后小部分是股价上涨所致。</p>
<!--

「可转债打新」风险相对较小，相对安全。可转债 100 元以下近乎保本，长远来看，有债性保护，下跌的幅度有限，而上涨，也能比肩股票，是寻求稳健收益的渠道。-->
<p>可转债等同于 “买了保险的股票”，价格可看成 “正股价格 + 保险费” 或者 “正股价格 *（1 + 转股溢价率）”，转股溢价率随着市场情绪的变化而变化。一般的规律如下：</p>
<ul>
<li><strong>信用级别越高，溢价率越高；</strong></li>
<li><strong>转债价格越低，溢价率越高；</strong></li>
<li><strong>市场越看好某个股，溢价率越高。</strong></li>
</ul>
<h2 id="溢价率">溢价率</h2>
<p>溢价率怎么查？通过集思录的<a href="https://www.jisilu.cn/web/data/cb/list">可转债筛选功能</a>，我们可以查看锦浪溢价率。因为未上市交易，溢价率为负，这里仅是示例。</p>
<p><img data-src="/downloads/images/jinlangyijialv.png" alt="锦浪溢价率" style="zoom:67%;"></p>
<h3 id="溢价率通常大于0">溢价率通常大于 0</h3>
<p><img data-src="/downloads/images/yijialv.jpg" alt="溢价率计算" style="zoom:50%;"></p>
<h2 id="转股价格">转股价格</h2>
<h3 id="初始转股价格">初始转股价格</h3>
<p>公告中的初始转股价格不得低于</p>
<ul>
<li>募集说明书公告日前二十个交易日公司股票交易均价；</li>
<li>前一个交易日公司股票交易均价；</li>
</ul>
<p>所以，一般在发行前，溢价率小于 0，发行后溢价率为正。</p>
<h3 id="转股价格向下修正">转股价格向下修正</h3>
<p><img data-src="/downloads/images/xiangxiaxiuzheng.png" alt="股价下跌，向下修正" style="zoom:33%;"></p>
<h1 id="交易机制">交易机制</h1>
<h2 id="申购t日">申购 (T 日)</h2>
<ul>
<li>T
日，投资者网上有效申购数量与原股东优先配售后余额部分 (含原股东放弃优先配售部分)，即网上发行总量确定后，发行人与保荐机构 (主承销商) 按照以下原则配售可转债:
<ul>
<li>当有效申购总量小于或等于网上发行总量时，投资者按照其有效申购量认购；</li>
<li>当网上申购总量大于网上发行总量时，按投资者摇号中签结果确定配售数量。</li>
</ul></li>
<li>原 A
股股东除可参加优先配售外，还可参加优先配售后余额的网上申购。</li>
<li>每个证券账户的 最低申购数量为 10 张 (1,000 元)，每 10
张为一个申购单位，超过 10 张的必须 是 10 张的整数倍，每个账户申购上限是
1 万张 (100 万元)，超出部分为无效申购。</li>
<li>投资者参与可转债网上申购只能使用一个证券账户。同一投资者使用多个证券账户参与同一只可转债申购的，或投资者使用同一证券账户多次参与同一只可转债申购的，以该投资者的第一笔申购为有效申购，其余申购均为无效申购。</li>
</ul>
<h2 id="中签t2日">中签 (T+2 日)</h2>
<ul>
<li>新债中签号公布之后，当天下午 16
点之前必须认购成功，否则就是弃购，一般是半个月左右上市，上市之后注意卖出时机。
<ul>
<li>若是持续在 130
元的价位，是可能被强制赎回的，强制性赎回会折损持有者的利润，因为强赎的价格是很低的。</li>
</ul></li>
</ul>
<h2 id="发行">发行</h2>
<ul>
<li>可转债实行 T+0 交易，按照市场实时价格进行成交，没有涨跌幅限制
(设有临时停牌机制)。</li>
</ul>
<p><img data-src="/downloads/images/jiaoyixianzhi.png" alt="交易限制" style="zoom: 33%;"></p>
<ul>
<li>对投资者不收取佣金、过户费和印花税等费用。</li>
</ul>
<h1 id="债券信用评级">债券信用评级</h1>
<blockquote>
<p>债券信用评级是以企业或经济主体发行的有价债券为对象进行的信用评级。债券信用评级大多是企业债券信用评级，是对具有独立法人资格企业所发行某特定债券、按期还本付息的可靠程度进行客观公正的评估，并标示其信用程度的等级。这种信用评级，是为投资者购买债券和证券市场债券的流通转让活动提供信息服务。</p>
</blockquote>
<p>锦浪转债的信息评级是 AA-。“AA”
表示偿还债务的能力很强，受不利经济环境的影响不大，违约风险很低；“-”
符合进行微调，表示略低于本等级。</p>
<p><img data-src="/downloads/images/zhaiquanpingji.png" alt="债券评级" style="zoom: 33%;"></p>
<h1 id="风险">风险</h1>
<ul>
<li>发行可转换公司债券一般不提供担保。公司本次发行可转换公司债券未提供担保措施，那么如果可转债存续期间出现对公司经营管理和偿债能力有重大负面影响的事件，本次可转债可能因未提供担保而增加兑付风险。</li>
<li><a href="https://mp.weixin.qq.com/s/BpijeelIkfzA8ft_nbKg9w">溢价过高，强制赎回风险</a>。可转债背后的上市公司在满足一定条件后，有权用很低的价格，强行从你手中把可转债买回来。</li>
</ul>
<h1 id="参考">参考</h1>
<ul>
<li><a href="https://finance.sina.com.cn/money/fund/fundzmt/2020-03-08/doc-iimxxstf7435098.shtml">深度揭秘：可转债打新为什么能赚钱？赚了谁的钱？</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/97993034">可转债打新为什么能赚钱</a></li>
<li><a href="https://www.jisilu.cn/web/data/cb/list">溢价率查询平台 — 集思录</a></li>
</ul>
]]></content>
      <categories>
        <category>Finance</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
      </tags>
  </entry>
  <entry>
    <title>增加交换分区 swap 解决编译时内存不足问题</title>
    <url>/Linux/compiler-killed-swap/</url>
    <content><![CDATA[<!-- compiler_killed_swap -->
<h1 id="背景">背景</h1>
<p>在 Linux 系统上编译大型程序时，可能遇到如下编译错误：</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line">c++: internal compiler error: <span class="built_in">Killed</span> (program cc1plus)</span><br><span class="line">Please submit a full bug report</span><br></pre></td></tr></tbody></table></figure>
<p>经过查资料，大概率是编译时内存不够导致的，除了增加物理内存外
(花银子)，短期可以通过增加交换分区 swap 来解决 (时间换空间)。</p>
<span id="more"></span>
<h1 id="什么是交换分区-swap">什么是交换分区 swap</h1>
<p>Linux 中的交换分区 (swap)，类似于 Windows
的虚拟内存，就是当<strong>内存不足</strong> (RAM)
的时候，把一部分<strong>硬盘空间</strong>虚拟成内存使用，从而解决内存容量不足的情况。</p>
<blockquote>
<p>功能：在内存不够的情况下，操作系统先<strong>把内存中暂时不用的数据，存到硬盘的交换空间</strong>，腾出内存来让别的程序运行，和
Windows 的虚拟内存（pagefile.sys）的作用是相似的。</p>
</blockquote>
<p>副作用：虽然这个 swap
分区能够作为 "虚拟" 的内存，但<strong>它的速度比物理内存可是慢多了</strong>。</p>
<blockquote>
<p>如果需要更快的速度的话，并不能寄厚望于
swap，最好的办法仍然是加大物理内存，swap 分区只是临时的解决办法。</p>
</blockquote>
<h2 id="作用原理">作用原理</h2>
<p>计算机对内存分为<strong>物理内存</strong>与<strong>虚拟内存</strong>（注意虚拟内存和虚拟地址空间的区别）。</p>
<ul>
<li>物理内存就是计算机的实际内存大小，由 RAM 芯片组成的。</li>
<li>虚拟内存则是虚拟出来的，使用磁盘代替内存。虚拟内存的出现，让机器内存不够的情况得到部分解决。这里的虚拟内存，即所谓的 swap。</li>
</ul>
<p>当程序运行起来后，由操作系统做具体虚拟内存到物理内存的替换和加载
(相应的页与段的虚拟内存管理)。</p>
<ul>
<li>当用户提交程序，然后产生进程，在机器上运行。机器会判断当前物理内存是否还有空闲允许进程调入内存运行，如果有那么则直接调入内存进行运行；如果没有，那么会根据优先级选择一个进程挂起，把该进程交换到
swap 中等待，然后把新的进程调入到内存中运行。</li>
<li>根据这种换入和换出，实现了内存的循环利用，让用户感觉不到内存的限制。其中，swap
扮演了一个非常重要的角色，就是暂存被换出的进程。</li>
</ul>
<h1 id="如何增加交换分区">如何增加交换分区</h1>
<p>因为之前可能进行过 swap 扩容，所以第一步是把之前的交换分区关闭。</p>
<ol type="1">
<li><h1 id="查看是否已经有-swap-分区">查看是否已经有 swap 分区 </h1></li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">free -m</span><br></pre></td></tr></tbody></table></figure>
<ol start="2" type="1">
<li>如果有，先把原来的 swap 关闭 </li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">su</span><br><span class="line">swapoff -a</span><br><span class="line"><span class="comment"># 详细的用法可以：swapoff --help</span></span><br></pre></td></tr></tbody></table></figure>
<ol start="3" type="1">
<li>扩展分区</li>
</ol>
<p>交换分区的合理值，可以根据你系统内存的大小，以及<strong>所使用的程序</strong>，自行决定交换分区的大小。</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># count 的大小就是增加的 swap 空间的大小，64M 是块大小，所以空间大小是 bs*count=1024MB</span></span><br><span class="line">sudo <span class="built_in">dd</span> <span class="keyword">if</span>=/dev/zero of=/swapfile bs=64M count=16</span><br><span class="line"><span class="comment"># 把刚才空间格式化成 swap 格式</span></span><br><span class="line">sudo mkswap /swapfile</span><br><span class="line"><span class="comment"># 该目录权限，不改的话，在下一步启动时会报 “swapon: /swapfile: ”</span></span><br><span class="line"><span class="comment"># “insecure permissions 0644, 0600 suggested.” 错误</span></span><br><span class="line"><span class="built_in">chmod</span> 0600 /swapfile</span><br><span class="line"><span class="comment"># 使用刚才创建的 swap 空间</span></span><br><span class="line">sudo swapon /swapfile</span><br></pre></td></tr></tbody></table></figure>
<ol start="4" type="1">
<li>关闭临时空间 </li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">swapoff -a</span><br></pre></td></tr></tbody></table></figure>
<ol start="5" type="1">
<li>查看当前内存使用情况，确认交换分区设置成功。</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">free -m</span><br></pre></td></tr></tbody></table></figure>
<ol start="6" type="1">
<li>其他命令 </li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">swapon -s <span class="comment"># 可以查看当期swap的使用情况</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="references">References</h1>
<ul>
<li><a href="https://blog.csdn.net/qq_27148893/article/details/88936044">你的内存不够啦</a></li>
<li><a href="https://blog.csdn.net/zwan0518/article/details/12059213">Linux 中 Swap 与 Memory 内存简单介绍</a></li>
</ul>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo 博客添加腾讯 404 公益页面 / Configure a 404 page for Hexo</title>
    <url>/website/commonweal-404-page/</url>
    <content><![CDATA[<h1 id="背景">背景</h1>
<p>当用户点击我们发布的一些旧链接，而 Hexo
的链接都是永久链接，如果该文章被我们删除或者更改了链接，那么用户便会显示
nginx 的 404 页面，这个页面不够友好并且不能帮我们跳转到首页。</p>
<p>其实，hexo 本身是具备自定义 404 页面的，并且 nginx
会自动拦截并显示指定的 404 Not Found 页面，我们可以通过配置 hexo 和
nginx 来跳转自定义界面。</p>
<p>你可以在我的域名下随便修改一个网址，查看自定义 404 页面展示效果，如 <a href="http://www.yanlongwang.net/123_404">http://www.yanlongwang.net/123_404</a>。</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/404_demo.png"></p>
<blockquote>
<p>希望新的一年每个家庭都能够幸福美满，充满孩子们的欢声笑语。我也想尽自己的所能，来帮助离家的孩子们能够回到温暖的父母身边。我在今天这个特殊的日子，在自己的博客添加了腾讯 404 公益页面，希望光顾我博客的朋友如果看到 404 页面的时候，能够有现实的意义。每一个孩子都不应该被放弃，如果有万分之一的希望。</p>
</blockquote>
<h1 id="设置-hexo-的-404-页面">设置 hexo 的 404 页面</h1>
<ol type="1">
<li>在 Hexo 命令行执行 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">hexo new page 404</span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<p>那么在 Hexo 的根目录下，创建一个文件夹：\404。</p>
<ol start="2" type="1">
<li>编辑 index.md，自动跳转腾讯公益。 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">title</span>&gt;</span>404<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js"</span> <span class="attr">homePageName</span>=<span class="string">"返回首页"</span> <span class="attr">homePageUrl</span>=<span class="string">"https://www.yanlongwang.net"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">true<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<p>其中，修改 homePageUrl 设置为自己的网站主页。</p>
<ol start="3" type="1">
<li>重新发布网站</li>
</ol>
<h1 id="设置-nginx-环境以支持-404-页面显示">设置 nginx 环境以支持 404
页面显示</h1>
<ol type="1">
<li>编辑服务器上 nginx 的配置文件，将 error_page 设置为 hexo 的 404
页面。</li>
</ol>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">## location in /etc/nginx/conf.d/xxx.conf</span><br><span class="line">location / {</span><br><span class="line">   root /your_root;</span><br><span class="line">   index index.html index.htm;</span><br><span class="line">   error_page 404 /404/index.html;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ol start="2" type="1">
<li>重启 nginx 并检查 nginx 状态 </li>
</ol>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">## 重启 nginx</span><br><span class="line">- systemctl restart nginx </span><br><span class="line">## 检查重启后 nginx 的状态</span><br><span class="line">- nginx -t</span><br><span class="line">  * nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span><br><span class="line">  * nginx: configuration file /etc/nginx/nginx.conf test is successful</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>website</category>
      </categories>
      <tags>
        <tag>Website operations</tag>
      </tags>
  </entry>
  <entry>
    <title>从域名注册商 Dynadot 购买域名及配置</title>
    <url>/website/dynadot-buy-domain/</url>
    <content><![CDATA[<p>[toc]</p>
<p>域名是进入一个网站的唯一途径，也是网站的唯一
ID。一旦我们决定建立一个网站，那么域名是不可或缺的。</p>
<h1 id="域名注册商是什么">域名注册商是什么</h1>
<p>域名注册商，就是提供域名注册服务的商家，主要包括两大类，一类是自己取得了
ICANN 注册资质的商家，这类商家一般都是很大牌、靠谱的商家，因为取得 ICANN
认证的门槛比较高；还有一类是经销商，也就是 Reseller，他们自己没有 ICANN
资质，但是通过代理销售别的有资质的商家，也提供域名注册服务。</p>
<p>本文介绍的域名注册商 -- <a href="https://www.dynadot.com/">Dynadot</a>，
是成立于 2002 年的老牌的域名注册商，总部位于加利福尼亚州圣马特奥，ICANN 授权的域名注册商和网站托管公司。</p>
<p>Dynadot
目前已经有中文网站，支持<strong>支付宝付款</strong>，并且有在线客服可以提供中文支持。</p>
<h1 id="为什么选择-dynadot">为什么选择 Dynadot ?</h1>
<ul>
<li><p>Dynadot 是获得 ICANN
授权的老牌域名注册商，是一家无负债的私营公司，确保了公司的稳定运营。</p></li>
<li><p>相比 GoDaddy 付费的隐私保护，Dynadot
提供<strong>免费的隐私保护</strong>.</p>
<ul>
<li><p>当注册一个域名时，ICANN
会要求把注册人的个人信息 (邮件地址、电话等) 公开到 Whois 数据库中，那么任何人都可以通过 Whois 来查询你的个人联系信息。</p>
<blockquote>
<p>When you register a domain, ICANN, the non-profit regulatory body
that is responsible for managing the domain name system (DNS), requires
that your personal contact information including your email address,
phone number, and mailing address be placed into a Whois database that
is publicly available online. This gives anyone - including spammers and
scammers - the ability to easily find your personal contact information
simply by doing a Whois lookup on your domain.</p>
</blockquote></li>
</ul></li>
<li><p>Dynadot 有大量的特殊后缀域名可以注册，比如 .io,
.one 等，域名价格通常比 GoDaddy 便宜。</p>
<ul>
<li>域名注册费用 <a href="https://www.dynadot.com/zh/domain/tlds.html">顶级域价格</a></li>
<li>以 .one 为例，Dynadot 的注册、续费、转移费用均为 ￥58；而 GoDaddy
的注册、续费价格为 ￥94.07.</li>
</ul></li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Dynadot_one_domain_price.jpg"></p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Godaddy_one_domain_price.jpg"></p>
<ul>
<li><p> 限时活动</p>
<ul>
<li>通过链接 <a href="http://www.dynadot.com/?st6XZ6K6t8G7X7q">http://www.dynadot.com/?st6XZ6K6t8G7X7q</a>
注册账号，并在 48 小时内创建账户并消费 ¥65，我们都将获得价值 ¥32 的
DynaDollar，可以用于后续的域名续费。</li>
<li>具体的活动详情 <a href="https://www.dynadot.com/zh/community/refer-a-friend.html">推荐给朋友</a>。</li>
</ul></li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/share_to_friends.jpg"></p>
<p>综合比价后，我从 Dynadot 注册了 waylon.one
的域名，并且续费到 10 年。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/manage_domain.jpg"></p>
<h1 id="注册">注册</h1>
<ul>
<li><p>点击注册链接 <a href="http://www.dynadot.com/?st6XZ6K6t8G7X7q">http://www.dynadot.com</a>
或 <a href="http://www.dynadot.com/?st6XZ6K6t8G7X7q">http://www.dynadot.com/?st6XZ6K6t8G7X7q</a>(活动期间返利￥32)。</p></li>
<li><p>网站支持中文，可以在右上角选择 [中文]，界面可以切换为中文。</p></li>
<li><p>在注册过程中，注意<strong>验证码大小写敏感</strong>。</p></li>
</ul>
<h1 id="购买">购买</h1>
<ul>
<li>选择好域名后，在右上角货币的地方，选择人民币支付，就可以使用支付宝或者微信支付。</li>
</ul>
<h1 id="域名-dns-解析">域名 DNS 解析</h1>
<p>IP 地址是网络上标识站点的数字地址，为了方便记忆，采用域名来代替 IP 地址标识站点地址。域名解析就是域名到 IP 地址的转换过程，域名的解析工作由 DNS 服务器完成。Dynadot
现在提供免费的域名解析服务。</p>
<ul>
<li>登录账户后，在左上角依次点击 我的域名 | 管理域名 |
DNS 设置，选择自定义 DNS。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/enter_DNS_setting.jpg"></p>
<ul>
<li>我已经购买了 VPS，打算在上面部署网站，所以域名解析到对应的 IP 上。注意，DNS 更改后需要等待一段时间才起效。
<ul>
<li><a href="https://www.dynadot.com/zh/community/help/question/%C3%A8%C2%AE%C2%BE%C3%A7%C2%BD%C2%AE-DNS">怎样为我的域名设置 DNS？</a></li>
</ul></li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/DNS_config.jpg"></p>
<h1 id="references">References</h1>
<ul>
<li><a href="https://www.jianshu.com/p/ec30a84bf589">最便宜的域名注册网站</a></li>
<li><a href="https://www.bzbl.com/best-cheap-domain-name-registry.html">2020
年最好的便宜域名注册商推荐排行</a></li>
</ul>
]]></content>
      <categories>
        <category>website</category>
      </categories>
      <tags>
        <tag>website</tag>
      </tags>
  </entry>
  <entry>
    <title>Elementary English Grammar</title>
    <url>/English/elementary-English-reading/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="音标">音标</h1>
<!--![国际音标分类图](Elementary-English-Grammar/international_phonetic_system.jpg)-->
<figure>
<img data-src="https://www.yanlongwang.net/downloads/images/blog/international_phonetic_system.jpg" alt="国际音标分类图">
<figcaption aria-hidden="true">国际音标分类图</figcaption>
</figure>
<!--![发音原理](Elementary-English-Grammar/phonetic_categories.jpg)-->
<figure>
<img data-src="https://www.yanlongwang.net/downloads/images/blog/phonetic_categories.jpg" alt="发音原理">
<figcaption aria-hidden="true">发音原理 </figcaption>
</figure>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[音标_48个] --&gt; B(元音音标_20个)</span><br><span class="line">A --&gt; C(辅音音标_28个)</span><br><span class="line">B --&gt; D(元音是构成英文单词发音的基本元素)</span><br><span class="line">D --&gt; E(单元音)</span><br><span class="line">D --&gt; F(双元音)</span><br><span class="line">B --&gt; G(发音时声带振动且气流在通路上不受发音器官阻挡的是元音)</span><br><span class="line">C --&gt; H(发音时气流在通路上受到发音器官阻挡的是辅音)</span><br><span class="line"></span><br><span class="line">G --&gt; I(舌位不移动,在发音过程中没有摩擦,不受发音器官的任何阻碍)</span><br><span class="line">F --&gt; J(双元音的发音要领是发音饱满,舌行和唇形都要到位)</span><br><span class="line">C --&gt; K(辅音依元音而存在,与元音配合产生音节)</span><br><span class="line">H --&gt; L(清辅音)</span><br><span class="line">L --&gt; M(发音时声带不振动,送气的叫清辅音)</span><br><span class="line">H --&gt; N(浊辅音)</span><br><span class="line">N --&gt; O(发音时声带振动,不送气的叫浊辅音)</span><br></pre></td></tr></tbody></table></figure>
<!-- [PPT点读](https://zhuanlan.zhihu.com/p/28925020) -->
<h1 id="名词复数变化及发音规则">名词复数变化及发音规则</h1>
<ul>
<li><p>一般在词尾加 - s。s 在元音或浊辅音后读 [z]，在清辅音后面读成 [s]，在 [t] 后与 [t] 在一起读成 [ts]，在 [d] 后与 [d] 一起读成 [dz]。</p></li>
<li><p>以 s, sh, ch, x 结尾的词在词尾加 - es，读 [iz]。</p></li>
</ul>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">watch -&gt; watches  </span><br><span class="line">class -&gt; classes</span><br><span class="line">box -&gt; boxes</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>以 "元音字母＋y" 结尾的词，加 - s，读作 [z]；以 "辅音字母＋y" 结尾的词，变 y 为 i，再加 - es，读 [iz]。</li>
</ul>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">boy -&gt; boys</span><br><span class="line">factory -&gt; factories</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>以 o 结尾的词，多数加 - s，读 [z]。
<ul>
<li>以元音字母 + o 结尾的词一律加 - s，读 [z]。</li>
<li>少数以 o 结尾的词，在词尾加 - es，读 [z]。</li>
</ul></li>
</ul>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">tobacco -&gt; tobaccos</span><br><span class="line">radio -&gt; radios</span><br><span class="line">hero -&gt; heroes</span><br><span class="line">tomato -&gt; tomatoes</span><br><span class="line">potato -&gt; potatoes</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>以 f 或 fe 结尾的词，多数把 f,fe 变为 v，再加 - es，读 [vz]。</li>
</ul>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">thief -&gt; thieves</span><br><span class="line">shelf -&gt; shelves</span><br><span class="line">knife -&gt; knives</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>不规则名词的复数形式
<ul>
<li>通过变化单词内部元音字母，构成复杂形式。 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">man -&gt; men</span><br><span class="line">mouse -&gt; mice</span><br></pre></td></tr></tbody></table></figure></li>
<li>单数形式和复数形式相同 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">sheep, deer, Chinese, Japanese</span><br></pre></td></tr></tbody></table></figure></li>
</ul></li>
</ul>
<p>Reference to <a href="https://m.hujiang.com/en/p95953/">沪江英语_名词复数变化及发音规则</a></p>
<h1 id="动词第三人称单数的变化规则及发音规律">动词第三人称单数的变化规则及发音规律</h1>
<ul>
<li>大多数动词在词尾加 "s"，在清辅音后发音为 [s]，在浊辅音及元音后发音为 [z]。
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">stop -&gt; stops [s] make -&gt; makes [s]</span><br><span class="line">read -&gt; reads [z] play -&gt; plays [z]</span><br></pre></td></tr></tbody></table></figure></li>
<li>以辅音字母加 "y" 结尾的，要先将 "y" 变为 "i"，然后再加 "es"，读 [iz]。
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">fly -&gt; flies [iz] carry -&gt; carries [iz]</span><br></pre></td></tr></tbody></table></figure></li>
<li>以 "s, x, ch, sh" 结尾的，在词尾加 "es"，发音为 [iz]。
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">teach -&gt; teaches [iz] watch -&gt; watches [iz]</span><br></pre></td></tr></tbody></table></figure></li>
<li>以 "o" 结尾的动词，加 "es"，读 [z]。 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">go -&gt; goes [z] do -&gt; does [z]</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<p>Reference to <a href="https://www.weibo.com/p/230418864e42750102v7hk?pids=Pl_Official_CardMixFeedv6__4&amp;feed_filter=2">动词第三人称单数的变化规则及发音规律</a></p>
<h1 id="动词的过去式过去分词及发音规则">动词的过去式、过去分词及发音规则</h1>
<blockquote>
<p>规则动词的过去分词的构成规则与规则动词的过去式的构成规则相同。</p>
</blockquote>
<h2 id="词尾变化">词尾变化</h2>
<ul>
<li>规则动词的过去式词尾变化有几种：
<ul>
<li>一般动词，在词尾直接加 - ed。 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">watched, planted, watered, pulled, climbed, picked</span><br></pre></td></tr></tbody></table></figure></li>
<li>以不发音的 e 结尾的动词，只在词尾加 d。 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">liked, moved, tasted</span><br></pre></td></tr></tbody></table></figure></li>
<li>以 “辅音字母 + y” 结尾的动词，变 y 为 i，再加 ed。 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">study —&gt; studied</span><br></pre></td></tr></tbody></table></figure></li>
<li>以 1 个元音字母加 1 个辅音字母结尾的重读闭音节，末尾只有一个辅音字母 (r、y、x、w 除外)，先双写该辅音字母，再加 ed。
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">stop -&gt; stopped drop —&gt; dropped</span><br></pre></td></tr></tbody></table></figure></li>
</ul></li>
</ul>
<h2 id="发音规则">发音规则</h2>
<ul>
<li>在浊辅音和元音后，-ed 读 [d]。 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">lived, watered, listened, played</span><br></pre></td></tr></tbody></table></figure></li>
<li>在清辅音后，-ed 读 [t]。 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">liked, helped, watched</span><br></pre></td></tr></tbody></table></figure></li>
<li>在 [t],[d] 音后，-ed 读 [id]。 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">planted, wanted, handed</span><br></pre></td></tr></tbody></table></figure></li>
<li>在 "辅音字母 + y" 结尾后，-ed 读 [ɪd] 或 [aɪd]。
<ul>
<li>如果 y 的发音为 [ɪ]，则整体词尾发作 [ɪd]。 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">studied、carried、hurried</span><br></pre></td></tr></tbody></table></figure></li>
<li>如果 y 的发音为 [aɪ]，则整体词尾发作 [aɪd]。 <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">dried、cried、fried</span><br></pre></td></tr></tbody></table></figure></li>
</ul></li>
</ul>
<p>Reference to <a href="http://www.59edu.com/xuexiao/primary/201102/23602.html">规则动词的过去式及发音规则</a><br>
<a href="https://wenku.baidu.com/view/06ad08d6360cba1aa811dae5.html">动词过去式和过去分词的变化及发音规则</a></p>
]]></content>
      <categories>
        <category>English</category>
      </categories>
      <tags>
        <tag>English</tag>
        <tag>IELTS</tag>
      </tags>
  </entry>
  <entry>
    <title>解读 Efficient Uncertainty-aware Decision-making for Automated Driving Using Guided Branching</title>
    <url>/Autonomous-Driving/eudm-paper/</url>
    <content><![CDATA[<p>[toc]</p>
<p>本文是香港科技大学的研究结果，发表于 <a href="https://ieeexplore.ieee.org/abstract/document/9197302">ICRA
2020</a>。</p>
<p>作为一个自动驾驶的研发人员，通篇读下来认为这篇论文研究在实际工程应用中价值比较低。如果非学术原因，不建议深度研究。</p>
<p>其一，文章的亮点是自车策略选择，现在比较成熟的技术路线是
spatial-temporal planner 方案；</p>
<p>其二，原本吸引我的 POMDP 和
多物体交互，在文章中却被略写，没有深度。周围车辆的意图是受到自车未来行为决策影响的，所以存在一定的不确定性，如何评估这部分不确定性，如何判断对方车是否有合作意图，这部分难点问题也没有深入研究。</p>
<p>因为后续的精力有限，自己不会再对阅读的论文进行整理，但是我会逐渐整理并分享一个自动驾驶进阶学习资料。</p>
<span id="more"></span>
<h1 id="abstract">Abstract</h1>
<blockquote>
<p>In this paper, we present an efficient uncertainty-aware
decision-making (EUDM) framework, which generates long-term lateral and
longitudinal behaviors in complex driving environments in real-time.</p>
</blockquote>
<p>本文从纵向和横向两个维度规划自动驾驶未来 8s
的决策，优点在于决策的生成实时性。</p>
<blockquote>
<p>The computation complexity is controlled to an appropriate level by
two novel techniques, namely, the domain-specific closed-loop policy
tree (DCP-Tree) structure and conditional focused branching (CFB)
mechanism.</p>
<p>The key idea is utilizing domain-specific expert knowledge to guide
the branching in both action and intention space.</p>
</blockquote>
<p>基于领域专业知识和经验，在行为和意图空间中引导和限制自车行为扩展 (branching)。</p>
<blockquote>
<p>We also release the code of our framework to accommodate
benchmarking.</p>
</blockquote>
<p><a href="https://github.com/HKUST-Aerial-Robotics/eudm_planner">https://github.com/HKUST-Aerial-Robotics/eudm_planner</a>
现在可以访问，但是目前代码没有继续维护，参考意义不大，可以作为其他算法的比较基准。</p>
<h1 id="introduction">INTRODUCTION</h1>
<blockquote>
<p>Reasoning about hidden intentions of other agents is the key
capability for a safe and robust automated driving system. However, even
given perfect perception, it is still challenging to make safe and
efficient decisions due to uncertain and sometimes unpredictable
intentions of other agents.</p>
</blockquote>
<p>自动驾驶研究领域的核心难点之一 — 推理其他交通参与者的意图。这一部分的不确定性一方面是车辆行为不确定，另一方面车辆的行为受自车行为影响，存在不确定性。</p>
<p>Note：自动驾驶的不确定性是客观存在的，无法彻底消除，但是可以尽量限制不确定性。这一部分的不确定性如果在上游不能解决，在行为决策层就需要对多种意图考虑 (decision-making
under uncertainty)，导致自车行为保守。</p>
<blockquote>
<p>Partially observable Markov decision process (POMDP) provides a
general and principled mathematical framework for planning in partially
observable stochastic environments. However, due to the curse of
dimensionality, POMDP quickly becomes computationally intractable when
the problem size scales.</p>
</blockquote>
<p>POMDP 知识，希望大家花时间详细了解一下，这是除 ML / RL
方法外，处理交互的一种做法。</p>
<h2 id="算法实现">算法实现</h2>
<blockquote>
<p>In this paper, we present an efficient uncertainty-aware
decision-making (EUDM) framework.</p>
<p>First, EUDM uses a domain-specific closed-loop policy tree (DCP-Tree)
to construct a semantic-level action space. Each node in the policy tree
is a finite-horizon semantic behavior of the ego vehicle.</p>
</blockquote>
<p>第一步：DCP-Tree
可以确定自车的初步决策，那么可以确定下来自车的行为空间。注意，其他车辆的意图还不确定。</p>
<blockquote>
<p>EUDM uses the conditional focused branching (CFB) mechanism to pick
out the potentially risky scenarios using open-loop safety assessment
conditioning on the ego action sequence.</p>
</blockquote>
<p>第二步：CFB
可以基于自车的初步决策，识别并过滤其他车辆的危险场景。</p>
<blockquote>
<p>EUDM is highly parallelizable, and can produce long-term (up to 8 s)
lateral and longitudinal fine-grained behavior plans in real-time (20
Hz).</p>
</blockquote>
<p>规划时常是 8s，计算性能表现为 50ms，这组参数基本满足驾驶需求。</p>
<h1 id="related-work">RELATED WORK</h1>
<blockquote>
<p>POMDP is a powerful tool to handle various uncertainties in the
driving task using a general probabilistic framework. However, due to
the curse of dimensionality, POMDP quickly becomes computationally
intractable when the problem size scales.</p>
</blockquote>
<p>POMDP 理论在不确定性决策中广泛应用，但是存在计算复杂度大的缺陷。</p>
<blockquote>
<p>Hubmann et al. proposed POMDP-based decision-making methods for urban
intersection and merging scenarios.</p>
</blockquote>
<p>TODO: 后续可以研究一下这篇论文。</p>
<blockquote>
<p>In this paper, we follow the idea of semantic-level closed-loop
policies from MPDM. However, there are two major differences.</p>
</blockquote>
<p>本文是在已有研究基础上
(MPDM)，发现研究的缺陷，提出两个改进做法，属于对已有工作的创新。</p>
<h1 id="system-overview">SYSTEM OVERVIEW</h1>
<blockquote>
<p>In EUDM, DCP-Tree is used to guide the branching in the action domain
and update the semantic-level policy tree based on the previous best
policy.</p>
</blockquote>
<blockquote>
<p>For each ego action sequence, the CFB mechanism is applied to pick
out risky hidden intentions of nearby vehicles and achieves guided
branching in intention space.</p>
</blockquote>
<blockquote>
<p>The output of the CFB process is a set of scenarios containing
different hidden intentions combinations of nearby vehicles.</p>
</blockquote>
<p>TODO: 附上示意图</p>
<h1 id="decision-making-via-guided-branching">DECISION-MAKING VIA GUIDED
BRANCHING</h1>
<p>The key feature of MPDM is using semantic-level policies instead of
traditional “state”-level actions (e.g., discretized accelerations or
velocities).</p>
<ul>
<li>one major limitation of MPDM is that the semantic-level policy of
the ego vehicle is not allowed to change in the planning horizon.
<ul>
<li>As a result, the decision of MPDM tends to be local and may not be
suitable for long-term decision-making</li>
</ul></li>
</ul>
<p>用车辆语意信息来描述车辆未来行为，比如跟随前方车辆，让行横向车辆等，这要比单纯的车辆状态要好用，容易理解。</p>
<h2 id="preliminaries-on-pomdp">Preliminaries on POMDP</h2>
<p><img data-src="/downloads/images/EUDM_POMDP.png" alt="POMDP" style="zoom:50%;"></p>
<blockquote>
<p>The optimal policy is often pursued using a multi-step look-ahead
search starting from the current belief.</p>
</blockquote>
<p>POMDP 可以扩展，但是非常容易陷入爆炸问题中。</p>
<blockquote>
<p>State-of-the-art online POMDP planners use Monte-Carlo sampling to
deal with the Curse of Dimensionality and Curse of History. Meanwhile,
generic heuristic searches such as branch-and-bound and reachability
analysis can be used to accelerate the search.</p>
</blockquote>
<h2 id="domain-specific-closed-loop-policy-tree-dcp-tree">Domain-specific
Closed-loop Policy Tree (DCP-Tree)</h2>
<p>以论文图 4 为例，讲解 DCP-Tree 的步骤：</p>
<ul>
<li><p>The nodes of DCP-Tree are pre-defined semantic-level actions
associated with a certain time duration.</p></li>
<li><p>The directed edges of the tree represent the execution order in
time.</p></li>
<li><p>DCP-Tree origins from an ongoing action a, which is the executing
semantic-level action from the best policy in the last planning
cycle.</p></li>
<li><p>DCP-Tree is expanded by a pre-defined strategy: from the ongoing
action, each policy sequence will contain at most one change of action
in one planning cycle.</p>
<ul>
<li>Results: Compared to MPDM, DCP-Tree has much larger decision space
resulting in more flexible maneuvers.</li>
</ul></li>
</ul>
<h2 id="conditional-focused-branching-cfb">Conditional Focused Branching
(CFB)</h2>
<ul>
<li>其他研究的缺陷: In the case of MPDM, the intention of the nearby
vehicles is fixed for the whole planning horizon, and the initial
intention is sampled according to a behavior prediction algorithm. The
limitation of MPDM is that, with a limited number of samples,
influential risky outcomes may not be rolled out, especially when the
initial intention prediction is inaccurate.</li>
<li> 本文改进：As a result, by conditioning on the ego policy sequence,
we can pick out a set of relevant vehicles w.r.t. the ego future
actions. The selection process is currently based on rule-based expert
knowledge as detailed in Sec. V.
<ul>
<li>Instead of enumerating all the possible intentions for this subset
of vehicles, we introduce a preliminary safety check to pick out the
vehicles to which we should pay special attention.
<ul>
<li>As a result, the branching in intention space is guided to
potentially risky scenarios.</li>
<li>And for the vehicles which pass the assessment, we use maximum a
posteriori (MAP) from initial belief.</li>
</ul></li>
<li> 即，通过对物体的所有意图仿真，筛选出来危险的场景，然后重点关注。</li>
</ul></li>
</ul>
<p>NOTE：辅助算法流程，方便理清楚算法实现，这就是一个 ST Planner
的简化版本，新意不足，核心内容避而不谈。</p>
<h1 id="implementation-details">IMPLEMENTATION DETAILS</h1>
<p><img data-src="/downloads/images/EUDM_framework.jpg" alt="EUDM framework" style="zoom:50%;"></p>
<h2 id="semantic-level-actions">Semantic-level Actions</h2>
<ul>
<li>We consider both lateral and longitudinal actions to ensure the
diversity of the driving policy.</li>
<li>The depth of the DCP-Tree is set as 4, thereby we obtain a planning
horizon up to 8 s.
<ul>
<li>8s 的规划周期，满足大家的基本做法。</li>
</ul></li>
</ul>
<h2 id="forward-simulation">Forward Simulation</h2>
<ul>
<li>The goal of the closed-loop simulation is to push the state of the
multi-agent system forward while considering the potential interaction.
<ul>
<li>如何考虑，如何实现，文章没有展开讨论，这恰恰是当前实践的难点内容。</li>
</ul></li>
<li>We adopt the intelligent driving model and pure pursuit controller
as the longitudinal and lateral simulation models, respectively.
<ul>
<li>后续做研究，可以基于此模型</li>
</ul></li>
</ul>
<h2 id="belief-update">Belief Update</h2>
<ul>
<li>The belief over these intentions of agent vehicles are updated
during the forward simulation as shown in Fig. 2.
<ul>
<li>如何考虑，如何实现，文章没有展开讨论，这恰恰是当前实践的难点内容。</li>
</ul></li>
<li>In this work, we adopt a rule-based lightweight belief tracking
module that takes a set of features and metrics including velocity
difference, distance w.r.t. the leading and following agents on the
current and neighboring lanes, responsibility-sensitive safety (RSS),
and lane-changing model as input2. The belief tracker generates a
probability distribution over the intentions (i.e., LK, LCL, LCR).
<ul>
<li>TODO: 看源码理解一下，这是自己关心的内容。</li>
</ul></li>
<li>Currently, we are exploring using learning-based belief trackers for
intention tracking which will be incorporated into the EUDM framework.
<ul>
<li>学习研究画大饼的做法，大概率没有后续进展。</li>
</ul></li>
</ul>
<h2 id="cfb-mechanism">CFB Mechanism</h2>
<ul>
<li>The first step of CFB is the key vehicle selection.</li>
<li>The second step is uncertain vehicle selection according to the
initial belief.
<ul>
<li>Specifically, we pick out the vehicles, whose probabilities for the
three intentions are close to each other, as uncertain vehicles.
<ul>
<li>three intentions 是指 {LK, LCL, LCR}.</li>
</ul></li>
<li>Note that for the vehicles with confident prediction, we select the
MAP intention and marginalize the intention probabilities using the MAP
selection result.</li>
</ul></li>
<li>The third step is using the open-loop forward simulation for safety
assessment.
<ul>
<li>For the vehicles which fail the assessment, we enumerate all the
possible combinations of their intentions. Each combination becomes a
CFB-selected scenario and the probability of scenario is
calculated.</li>
</ul></li>
<li>The fourth step is picking out top k scenarios according to
user-preference, and we further marginalize the probabilities among the
top-k scenarios.</li>
</ul>
<h2 id="policy-evaluation">Policy Evaluation</h2>
<ul>
<li>The overall reward for a policy sequence is calculated by the
weighted summation of the reward for each CFB-selected scenario.
<ul>
<li>The reward function consists of a linear combination of multiple
user-defined metrics including efficiency (measured by the difference
between current velocity and desired velocity), safety (measured by the
distance between our vehicle and surrounding vehicles) and consistency
(measured by the difference between the last best policy and the policy
to be evaluated).</li>
<li> 难道所有的问题，都要化解为一个优化问题吗？策略的一致性，我们一般没有考虑到，这也是一个重要的维度。</li>
</ul></li>
</ul>
<h2 id="trajectory-generation">Trajectory Generation</h2>
<ul>
<li>The behavior plan is fed to the motion planner proposed in our
previous work, which utilizes a <strong>spatio-temporal corridor
structure</strong> to generate safe and dynamically feasible
trajectories.</li>
</ul>
<p><img data-src="/downloads/images/EUDM_algorithm.jpg" alt="EUDM algorithm" style="zoom:50%;"><img data-src=""></p>
<h1 id="experimental-results">EXPERIMENTAL RESULTS</h1>
<h2 id="simulation-platform-and-environment">Simulation Platform and
Environment</h2>
<ul>
<li>The experiment is conducted in <strong>an interactive multi-agent
simulation platform</strong> as introduced in Sect.III. All agents can
interact with each other without knowing the driving model of other
vehicles.</li>
</ul>
<h2 id="qualitative-results">Qualitative Results</h2>
<h3 id="metrics">Metrics</h3>
<ul>
<li>We introduce three major metrics to evaluate the performance of two
methods, namely, safety, efficiency, and comfort.
<ul>
<li>The efficiency is represented by the average velocity of the ego
vehicle.</li>
</ul></li>
</ul>
]]></content>
      <categories>
        <category>Autonomous Driving</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Robotics</tag>
        <tag>Autonomous Driving</tag>
      </tags>
  </entry>
  <entry>
    <title>比较场内和场外交易 ETF 基金</title>
    <url>/Finance/exchange-otc-etf/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="etf-简介">ETF 简介</h2>
<h3 id="什么是-etf">什么是 ETF ？</h3>
<p>ETF 是英文 “Exchange Traded Funds”
的简称，常被译为 “<strong>交易所交易基金</strong>”。ETF
是一种在<strong>交易所上市交易</strong>的、<strong>基金份额可变</strong>的基金。ETF
结合了封闭式基金与开放式基金的运作特点，一方面，基金份额可以像封闭式基金一样在交易所二级市场进行买卖；另一方面，可以像开放式基金一样申购、赎回。
ETF
通常是以某一选定的指数所包含的成分证券为投资对象，依据构成指数的证券种类和比例，采用<strong>完全复制</strong>或抽样复制的方法进行被动投资的指数型基金。</p>
<span id="more"></span>
<p>根据 ETF 跟踪的指数不同，可分为股票型 ETF、债券型 ETF
等。另外还有一些与特殊标的挂钩的 ETF，如黄金 ETF
是指将绝大部分基金财产投资于黄金交易所挂盘交易的黄金品种，紧密跟踪黄金价格，使用黄金品种组合或基金合同约定的方式进行申购赎回，并在证券交易所上市交易的开放式基金；商品期货
ETF
是指以商品期货交易所挂盘交易的商品期货合约为主要策略，以跟踪商品期货价格或价格指数为目标，使用商品期货合约组合或基金合同约定的方式进行申购赎回，并在证券交易所上市交易的开放式基金。</p>
<h3 id="etf-的特点">ETF 的特点</h3>
<p>ETF
最大的特点是<strong>实物申购、赎回</strong>机制，即它的申购是用一篮子股票换取
ETF 份额，赎回时是以基金份额换回一篮子股票而不是现金。ETF
有 “最小申购、赎回份额” 的规定，通常最小申购、赎回单位在 30 万份、50
万份或 100
万份，申购、赎回必须以最小申购、赎回单位的整数倍进行，一般只有机构投资者才有实力参与<strong>一级市场</strong>的实物申购与赎回交易。</p>
<h3 id="etf-如何交易">ETF 如何交易</h3>
<p>ETF 实行一级市场和二级市场并存的交易制度。</p>
<ul>
<li>在一级市场，投资者可以在交易时间内以 ETF 指定的一篮子股票申购 ETF
份额或以 ETF 份额赎回一篮子股票。</li>
<li><strong>在二级市场，ETF
与普通股票一样在证券交易所挂牌交易，基金买人申报数量为 100
份或其整数倍</strong>，不足 100
份的基金可以卖出，<strong>机构投资者和中小投资者都可以按市场价格进行 ETF
份额交易</strong>。</li>
<li>这种双重交易机制使 ETF
的<strong>二级市场价格不会过度偏离基金份额净值</strong>，因为一级、二级市场的价差会产生套利机会，而套利交易会使二级市场价格回复到基金份额净值附近。</li>
</ul>
<h2 id="什么是-etf-联接基金">什么是 ETF 联接基金？</h2>
<p><strong>ETF
联接基金</strong>是指将<strong>大部分基金资产</strong>（通常在 90%
以上）投资于<strong>跟踪同一标的指数的
ETF</strong>，密切跟踪标的指数表现，追求跟踪误差最小化的开放式基金。</p>
<h2 id="场内交易和场外交易-etf-有什么区别">场内交易和场外交易 ETF
有什么区别</h2>
<p>关于什么是场内交易和场外交易的基础知识，这里就跳过了，小白自行学习。简单来说，场内交易，就是通过证券账户在证券交易所进行基金买入和卖出操作；场外交易，通过基金公司，银行，第三方基金代销平台（如支付宝），进行基金买入和卖出操作。</p>
<h3 id="买卖价格">买卖价格</h3>
<p>场内交易，投资者互相买卖形成的价格，除了以基金本身的价值（净值）为基础，还取决于买卖双方的需求。比如有的基金场内交易火爆，买的人多，成交价可能比净值高（溢价）；反之可能会比净值低（折价）。</p>
<p>场外交易，交易日结束后计算出的基金净值，比如 1 份基金的价格是 1
元，你买 100 元就是买了 100 份。</p>
<h3 id="投资门槛">投资门槛</h3>
<p>场内交易，每笔交易最少 100
份。因为不同基金的价格不同，如果这只基金每份 10 元，就是最少需要 1000
元。</p>
<p>场外交易，一般 10~1000 元都可以，甚至还有 1 元起投的。</p>
<h3 id="可购买范围">可购买范围</h3>
<p>场内交易，市面上绝大多数 ETF 基金均可以购买。</p>
<p>场外交易，只能购买特定 ETF 种类的基金，比如旅游 ETF (159766)
是不可以在场外购买的，当然其他非 ETF 基金比较丰富。</p>
<h3 id="交易费用">交易费用</h3>
<p>这是本文重点。网络上的很多内容，互相抄袭，对交易费用的比较不客观。</p>
<p>首先，我们要搞清楚一个概念，在二级市场买卖股票和场内基金的佣金是不一样的，通常
A 股交易佣金起点为 5 元，而场内基金的佣金起点是 0.1
元。其他文章提到场内基金要交至少 5
元佣金的事情，可能是把股票和场内基金的概念搞混淆了。</p>
<ul>
<li>同一家基金公司，每个人、每个账户的佣金是不一样的，比如我在华泰证券的佣金是万一，可以询问客服或基金经理了解下自己的佣金情况。</li>
</ul>
<p>以下申赎费率操作演示，是基于我的账户和实际申赎记录，和你的账户信息可能不一致，请以你的账户实际信息为准。</p>
<figure>
<img data-src="/downloads/images/IMG_2139.jpeg" alt="费率查询">
<figcaption aria-hidden="true">费率查询</figcaption>
</figure>
<figure>
<img data-src="/downloads/images/IMG_2140.jpeg" alt="费率查询计算演示">
<figcaption aria-hidden="true">费率查询计算演示</figcaption>
</figure>
<p>场内交易费用构成：申购手续费 + 基金运作费率 + 赎回手续费。</p>
<p>场外交易费用构成：申购手续费 + 基金运作费率 + 赎回手续费。</p>
<p>通常，ETF
基金的场内和场外的年运作费率是一样的，可以在基金的招募说明书中查看。非建股，以天弘沪深
300 ETF (515330) 为例，其招募说明书中指明管理费按 0.5%
年费率计提，托管费按 0.1% 的年费率计提；同样地，在其联接基金 A (000961)
中，管理费也是按 0.5% 年费率计提，托管费也是按 0.1% 的年费率计提。</p>
<figure>
<img data-src="/downloads/images/IMG_2141.jpeg" alt="运作费率比较">
<figcaption aria-hidden="true">运作费率比较</figcaption>
</figure>
<p>那么，场内外交易费用主要体现在申赎手续费上。同样地，以天弘沪深 300
ETF，其招募说明书中没有明确指出申赎费率，但是这一版是低于万三的；其对应的联接基金
A 的申赎费率在支付宝中相关页面可以查询出来。</p>
<p>以申购为例，场内交易费率不高于万三
(0.003%)，而场外交易费率打折后是千一
(0.10%)，相对而言场外交易费率比较高；但是以 1 万元为例，申购手续费差额是
7 元，差异不大。</p>
<figure>
<img data-src="/downloads/images/IMG_2142.jpeg" alt="联接基金申购手续费">
<figcaption aria-hidden="true">联接基金申购手续费</figcaption>
</figure>
<h3 id="到账时间不同">到账时间不同</h3>
<p>场内基金申购后，T+1 个工作日可售出，资产 T+1
个工作日到账，可以继续购买股票和场内基金等；场外基金认购后，T+2
个工作日可赎回，资产 3-7 个工作日到账，回款比较慢。</p>
<h3 id="分红方式">分红方式</h3>
<p>待补充；</p>
<p>关于有人提到的场内 ETF
不可以定投，投资不方便，现在一部分证券公司已经支持场内 ETF
定投，相信场内外在这一部分的差异会越来越少。</p>
<h2 id="参考文献">参考文献</h2>
<ul>
<li>2020 版 金融市场基础知识</li>
<li><a href="https://www.zhihu.com/question/30150662">知乎：<strong><em>* 场内基金与场外基金各有什么优劣势？*</em></strong></a></li>
</ul>
]]></content>
      <categories>
        <category>Finance</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Finance</tag>
      </tags>
  </entry>
  <entry>
    <title>不持有的生活 读后感</title>
    <url>/Reading/expression-on-simple-life/</url>
    <content><![CDATA[<p>[toc]</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/simple_life.jpg" alt="不持有的生活">
<figcaption aria-hidden="true">不持有的生活</figcaption>
</figure>
<p>最近打算搬家，想借此机会重新整理自己的持有物品，转手或扔点多余的物品，拿时间换空间，在北京拥挤的房间里腾出更多的空间。</p>
<h1 id="为什么选择这本书">为什么选择这本书</h1>
<p>我在《断舍离》、《怦然心动的人生整理魔法》和这本书之间犹豫和纠结过。我大概了解这三本书的侧重点后，认为自己有断舍离的意识，现阶段自己更需要一种实践性的建议。那么，这一本实践性强的《不持有的生活》就是自己最佳的选择。这本书文字内容不多，漫画丰富，读起来不是很费力。</p>
<p>这本书是日本自由职业者 金子由纪子 在 2006
年出版的。在十年的单身生活中，她发现了 “用简单物品过上悠闲生活” 的快乐。</p>
<p>读完这本书后，自己认识到这本书成稿于 PC
时代，那时候互联网不发达，作者给出的建议在手机时代不一定实用。比如转手二手物品时，作者推荐通过跳蚤市场和二手市场来面对面交易，而现在在网络上有一些二手交易平台，足不出户就可以以优惠的价格转手自己多余的东西；在对报纸处理中，还提到剪报这种跨时代的做法。同时，作者描写的是日本的社会，和中国存在文化和生活差异，比如日本人际交往中的纪念品和土特产繁多，垃圾处理有严格的规定，甚至有专门的垃圾处理费用，这部分经验在中国却不怎么实用。最后一点，作者以女性的视角来描写收纳，侧重点在厨房、衣服和书，读者群体以女性居多，对男性同胞就不够通用。</p>
<p>虽然这本书有一点落伍和不符合国情，但是给出的生活态度和思想是不会落伍的，读起来仍然受益匪浅，特做此分享。</p>
<h1 id="什么是不持有的生活">什么是不持有的生活</h1>
<p>物质匮乏的年代，人们常觉得拥有的东西越多，生活越富足。不过，在商品泛滥的今天，拥有的东西过多，反而给人一种生活贫瘠的感觉。物品数量过多，随之而来的麻烦也越来越多。</p>
<!--
如果不好好打扫，在这样一个脏乱的环境中生活，不仅会让人感到心烦，还会令人陷入严重的白我责备与自我厌恶中。
-->
<p>“不持有的生活” 中应该 “不持有” 的物品，可以分为以下 4 种： 1.
超出自己管理能力的物品，不持有。 2. 不钟爱的物品，不持有。 3.
无法回收利用或转送给他人的物品，不持有。 4.
不适合自己、与自己的生活方式不相符的物品，不持有。</p>
<!--
2005年，肯尼亚环境和自然资源部副部长旺加里·马塔供在联合女地位委员会的演讲中，对日语中的“不持有”进行了介绍。他说：“不持有’可以用四个R来表小，即缩减浪费( reduce)、回收再利用( recycle)、重复利用(reuse)、维修再利用(repair)。
-->
<!--
首先，不持有是一种很舒服的生活方式。
-->
<p>我们应该认识到，“不持有的生活” 并不是简朴省钱的生活方式，相反你可能需要付出更多的时间和金钱来维持，享受生活。比如，为了能够减少不必要的物品，你可能不得不学会物品替代的做法，就一定要付出时间或金钱上的代价来补偿物品原有的功能。</p>
<p>时间就是物品。我们通常都是把时问 “出售” 给企业或个人，用以此获得的报酬来谋生。我们周围的某些东西，实质上都是 “我们的时间” 的另一种表现形式。被物品包围却无法很好地利用物品的人，不能将自己历尽艰辛付出的时间收回来，就是浪费了这些时间。</p>
<p>“不持有的生活” 侧重于物品的质量和适合度，能够减少物品的数量，也能减轻自己的劳动量。在实践这种 “不持有的生活” 时，以衣服整理为例，四季所穿的衣服数量不会很多，能够整齐地叠放在塑料整理箱中，或是挂在衣橱里，根本不需要那种放衣服的多屉柜；地板和家具上如果没有太多东西的话，只要用吸尘器和抹布，短短一刻钟就能将家中所有的地方清洁好，整个房间都会给人一种唤然一新的感觉。</p>
<p>究竟 “不持有” 的真正目的是什么呢？所谓 “不持有 "，就是要把我们从周围纷繁复杂的事物中解放出来，确立人生的优先顺序。如果我们被很多东西所包围的话，就无法分清到底其中哪些才是对我们有用处的。若是既想做这件事情，又想做那件事情，赶上什么算什么的话，就不知通哪些事情是我们真正想做的，而哪些是我们应该做的。</p>
<p><strong>人生有限的，我们的能力当然也是有限的，不必非得什么东西都拥有</strong>。</p>
<p>简单即高效，让生活简单点，生活就更有效率，更容易拥有大把的时间享受生活。</p>
<h1 id="如何不持有地生活">如何不持有地生活</h1>
<p>想要将 “不持有的生活” 愉快地坚持下去，就必须遵守下面的 “最低限度收拾法”。
1. 不要把东西放在地板上<br>
为了使房间看起来整洁，这一点至关重要。地板空闲的面积越大，整个房间给人的感觉也就越大，在使用吸尘器或抹布时也会简单得多，打扫起来也会变得轻而易举了。
2. 饭桌上不要摆东西<br>
饭桌看起来是一个平面，因此在家中的 “地位” 仅次于地板，是面积第二大的地方。不过，在很多人的家里，饭桌上一半的地方都被各种杂物占据了。试想一下，如果不在饭桌上摆放东西，那么整个房间给人的豁亮感就会倍增。
3. 放置物品时，要集中放置<br>
将所有的东西都收起来，表面什么也没有的房间是最理想的效果，但在现实中却很难实现。只要你按照 “集中放置” 的原则来处理，房间里即使有些随意放置的东西，也不会显得那么凌乱。</p>
<hr>
<p>在实践 “不持有的生活” 的过程中，减肥这件事和它存在着共同之处。如果出来的物品数量等于进来的物品数量，物品总数不会增加；出来的物品数量大于进来的物品数量，物品总数便会逐渐减少。同减肥一样，运动式扔东西，把房间打扫的一尘不染，房间的状况难免会反弹。那么怎么办呢？</p>
<p>作者抛出 “利用习惯，在不知不觉中让房间整齐、干净” 的观点。想要掌握 “不持有的生活”，从本质上说是 “自身的改变 = 生活方式的改变”。有如下七个生活习惯，帮助我们实现 “不持有的生活”。
1. 不要<br>
免费得到的东西，很少被人珍惜，因此往往囤积不用。不拿免费塑料袋，以自备购物袋来代替；不拿免费发送又用不到的赠品。
2. 不买<br>
冲动购物感觉痛快，但买完东西感到后悔的状况也不少，因此只要是 “没买也无所谓” 的东西，就坚持不买，让物品登堂入室的门槛变高，这样家中就只会出现真正喜欢、真正必要的东西。
3. 不存<br>
不囤积保鲜膜和卫生纸这类消耗品，也许大减价时买了一堆，像占了便宜，却容易造成使用上的浪费。一旦停止囤积，使用时就会更谨慎，并且想出各种生活小妙招来代替，自然能降低消耗品的使用率，换来神清气爽的好生活。
4. 扔掉<br>
养成丢弃的习惯，杂志或小册子超过一定数量，就丢掉；确实执行丢弃前的准备工作，例如用美观的袋子，作为垃圾分类的容器，让丢弃这件事，变得轻松愉快。
<strong>不符合现在生活的东西都是不需要的东西</strong>。懂得珍惜东西是一件值得称赞的行为。但是，每个家庭在不同时期都会需要与之相适应的东西。如果你每天都觉得生活得不快乐、不方便的话，就干脆把那收不合适的东两处理掉，并尽量添置些与生活方式和风格相适应的东西吧！再比如，如果你看到某个女人，现在还穿着带有厚垫启的衣服、及膝盖处的短裙这种泡沫经济时代的套装，会不会感到大跌眼镜呢？衣服的款式可以传递社会的信息。如果你穿的与当今的时代相去甚远．从很多方而来讲．都会得不偿失。
5. 代替<br>
我们在购买新东西前，能否考虑一下活用现有物品的方法。i.e.
我们不要禁锢思想，认定一件东西只能有一种用法，而应该试着想想看能不能有第二种、第三种使用方法，比如一件长披肩成为 “激活” 衣物的小道具。活用现有物品，不是为了弥补贫困，而是为了创造丰足。
6. 租赁<br>
不常用的东西 (相机或礼服)，可以借用或租用，和其他人一起使用更多物品，每个家庭或许就会减少囤积少用物品的情况，避免压迫居住空间，减少无谓的浪费。
7. 没有也无所谓<br>
购物前，务必自问：这个真的是必要的吗？也许能得到 “没有也无所谓” 的答案，那么就不购买。同样是花钱，就买些能使生活变得充实的东西吧！在将手中的钱变成物品时，你要格外小心、反复思量。东西是无法再变回钱的 (大多数情况是这样)，也无法用来换取生活经验。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Simple_life_1.jpg"></p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Simple_life_2.jpg"></p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Simple_life_3.jpg"></p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Simple_life_4.jpg"></p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Simple_life_5.jpg"></p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Simple_life_6.jpg"></p>
<hr>
<p>在<strong>衣物收纳</strong>中，我们首先要列出生活中必须穿的衣物的件数和种类。按照 “工作”、“游玩”、“日常生活”、“正式场合” 的不同场合分类，也可以根据季节、气温等因素进行 “有寒意的春秋季节”、“不需外衣的春秋季节”、“盛夏”、“寒冬” 来分类。</p>
<p>接着，让我们来看一下自己所拥有的衣服，能否同时满足特殊场合和季节的要求．有些衣物是否过多吧！今后买衣服时，要针对不足点进行 “强化”，时刻提醒自己不能因一时冲动而购买已经过剩的衣物类型。这样便能改善日前这种无用衣物很多，而可穿衣物短缺的情况。另外，偶尔需要穿宴会服装时，我们可以从专业机构租赁。</p>
<p>关于对<strong>书籍的整理</strong>．我们可以不按照内容对资料进行分类，而是按照使用频率来分类
-
凸显收拾法：把最近经常着的书和经常用的软件，摆放在最容易找到的地方。使用这种方法进行分类整理后，你就可以一下子找到使用频率高的东西了。</p>
<p>另外，我们可以积极利用图书馆。那些推理小说、畅销书、烹饪书等书籍．通常看一遍就被上入扔到一边了。如果喜欢纸质书，最好是从图书馆借，不用再为后续的收纳整理发愁了。</p>
<hr>
<h1 id="实用好建议">实用好建议</h1>
<ul>
<li>如果你打算在跳蚤市场上卖掉不需要的东西，最好选择那些与季一节相吻合或略早于时令的东西。例如，在
5 月的黄金周时，出售夏季的单衣，肯定会卖个不错的价钱。</li>
<li>如果 “东西” 也可以看做是 “时间” 的代名词，或许 “继续保留” 便意味着执著于过去，而过量地 “准备” 则是种对未来的担忧，这也许是一种逃避现实生活的举动，而唯有 “不持有的生活” 是珍惜现在的生活。</li>
<li>如果要丢掉一些东西，可以给那些不太重要或体积很大的东西拍下照片，比如纸箱子，做好拍照记录，然后处理掉就可以了。</li>
<li>东西是具有互补性的，替代性比较强，活用现有物品。例如一年可能只用到一次的漏斗，就用现有的塑料板卷成漏斗状来代替，如此就能避免多持有一个东西。
<ul>
<li>如果没有家用碎纸机，那么纸张泡在水里会自动溶解为纤维。</li>
</ul></li>
<li>把纸质资料收集到一起，如果一年都不会翻动，那么可以放心丢掉，不会有重要的东西遗漏。</li>
<li>衣服按种类找到到底缺失什么，平衡生活，而不是看到喜欢的就买下来。</li>
<li>不常用的东西，可以租赁，虽然价格会比较贵，但是这是精简生活的代价，自己不用后续维护，整体经济负担小。</li>
<li>对于报纸和宣传单，我们可以折叠制作一个简易纸盒，可以用做暂时的收纳盒或垃圾盒。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Simple_life_7.jpg"></p>
<ul>
<li>电热水壶使用起来很不经济和方便。每一次喝水，都要重新加热一次，拥有那种保温性较好的水壶也可以满足你的需要。
<ul>
<li>已践行，保温壶让家里随时有热水喝，避免喝千滚水。</li>
</ul></li>
<li>哪怕就写一行字，也要开始写日记，而往往一开始，就可以写很长的字。</li>
<li>尽量不要购买干电池，而是使用充电电池。</li>
<li>制作购物清单，多思考几次，反复询问自己是否真正需要呢？</li>
<li>提高常用物品的质量。
<ul>
<li>自己在没有购买 airpod
耳机之前，总是会尝鲜不同的蓝牙耳机，但是购买足够好的 airpod
后，自己再没有胡乱购买过任何一款耳机，甚至看到不看。</li>
</ul></li>
</ul>
<!--

书籍目录

# 想尝试不持有的生活吗？


# 持续享受清爽生活的秘诀

# 形成这7个习惯， 东西自如就减少

# 整理实践篇 

# 不持有的生活让人感到愉快
-->
<h1 id="references">References</h1>
<ul>
<li><a href="http://www.waylon.one/downloads/files/不持有的生活.pdf">不持有的生活高清 pdf 下载
10.6 M</a></li>
<li> 怦然心动的人生整理魔法 - 视频</li>
</ul>
]]></content>
      <categories>
        <category>Reading</category>
      </categories>
      <tags>
        <tag>Reading</tag>
      </tags>
  </entry>
  <entry>
    <title>《饱食穷民》读后感</title>
    <url>/Reading/expression-on-feed-on-poor/</url>
    <content><![CDATA[<!--date: 2020-12-27 19:01:51-->
<p>[toc]</p>
<figure>
<img data-src="/downloads/images/feed_on_poor.jpg" alt="饱食穷民封面">
<figcaption aria-hidden="true">饱食穷民封面</figcaption>
</figure>
<p>《饱食穷民》是一本纪实文学题材，在日本上市已经有近二十五年的时间，书中所述的事情也已经过去了三十多年，但是又和中国现在发生在我们身边的一些社会现象有着惊人的相似之处，比如<strong>小微借贷</strong>，<strong>加班</strong>和<strong>厌食</strong>等，这在
30 多年前的日本已经司空见惯。</p>
<p>读这本书，可以通过时空错位来借鉴 20
多年前发生在日本的事情，现在也发生在我们身边。以史为镜，可以照出我们自己得与失，值得我好好思考和借鉴。</p>
<h1 id="作者简介">作者简介</h1>
<p>本书的作者，斋藤茂男，是日本著名新闻记者，同时也是一名广为人知的<strong>纪实文学作家</strong>。在以超人般的精力从事记者工作的同时，作者至一九九四年间由岩波书店出版的十二本纪实文学作品集《日本世相》系列，不仅是他从二十世纪七十年代到九十年代记者生涯的集大成之作，同时也是一幅刻画了日本社会从经济高速增长时期直到泡沫经济破灭的真实写照。这本《饱食穷民》是纪实文学《日本世相》系列的作品之一。</p>
<h1 id="时代背景">时代背景</h1>
<p>这本《饱食穷民》所记录的时代背景，正是二十世纪八十年代中期到九十年代的这段时间。在这个时期，日本成功挺过石油危机、日元升值等一连串的 “国难”，还化 “国难” 为动力，成功收获众多世界第一的勋章，跃居超级经济大国之列。</p>
<p>在欣欣向荣的表象下，作者通过一系列的采访，描述了社会底层的人民虽然解决了温饱问题，但是却在借贷、加班和厌食中痛苦，不知满足，迷失了自己。</p>
<!--

>> 在共同社工作期间，他成功发现刑事案件“菅生事件”的嫌疑人并抢先其他媒体进行了独家报道，轰动日本全国，并因此获得一九五八年首届日本记者会议奖。

>> 在以超人般的精力从事记者工作的同时，从一九七五年出版首部纪实文学作品《超大型企业和劳动者》，直到一九九九年因癌症去世，他共出版纪实文学、采访笔记等各种著作近三十部。

  * MC: 一个人一辈子做出巨大的努力和牺牲，对社会的影响有限的，功与名，难道值得耗费自己一辈子去追逐吗？
-->
<!-- 至一九九四年间由岩波书店出版的十二本纪实文学作品集《日本世相》系列，不仅是他从二十世纪七十年代到九十年代记者生涯的集大成之作，同时也是一幅刻画了日本社会从经济高速增长时期直到泡沫经济破灭的真实写照。这本《饱食穷民》即是纪实文学《日本世相》系列的作品之一。
-->
<hr>
<p>注：文章后面的内容大部分摘录自《饱食穷民》，MC
后面的内容是我新增的。</p>
<h1 id="关于日本世相">关于《日本世相》</h1>
<p>饱食穷民描述的时代和现在的中国很像，经济高速发展，房价飞涨，跃居超级经济大国之列。那个阶段，所有人都陷入一个巨大装置，努力把时间变为金钱，被强迫着，要更快、更有效率地活着，哪怕超越身体极限，时时刻刻，一分一秒都不能错过。这节奏让我们无法按照自然时间生活，过有生命力的生活，只感觉身心俱疲，不停被压榨。</p>
<ul>
<li>MC: 我使用 阶段 这个名词来描绘 20
年前的日本，因为我认为这可能是每一个国家崛起的必经过程，和时间的关系并不大。</li>
</ul>
<h1 id="序章-走向世纪末">序章 走向世纪末</h1>
<ul>
<li>洛克希德事件案发，日本首相田中角荣被捕。
<ul>
<li>MC：洛克希德公司是当时美国最大的飞机制造公司和军火供应商之一，该公司主要是依靠行贿打开国外市场的，因此，美国的许多飞机制造商向美国参议院外交委员会跨国公司小组进行了举报。日本检察官从中发现了一张领受人为田中角荣的
5
亿日元的收据。法院认定田中角荣违犯外汇法、受托受贿，判处其四年徒刑，罚金
5 亿日元。这起日本历史上旷日持久的马拉松审判，在历时 19 年，耗资 6
亿日元后，终于落下帷幕。</li>
</ul></li>
<li>苏联切尔诺贝利核电站事故发生，世界陷入不安。
<ul>
<li>MC：切尔诺贝利核电站位于前苏联基辅市北 130 公里的地方，是前苏联 1973
年开始修建，1977 年启动的最大的核电站。1986 年 4 月 26
日，世界上最严重的核事故在苏联切尔诺贝利核电站发生。</li>
</ul></li>
<li>1987
年房价一年飙升三倍。日本国营铁道和日本航空民营化改革。空前的理财热潮，股价暴跌。
<ul>
<li>MC: 这个阶段可能类似于 08 ~ 15 年的中国，房地产价格飞涨。</li>
</ul></li>
<li>以新增消费税为主要内容的税收改革法案在临时国会获通过。<strong>经济以内需为中心持续走高</strong>。
<ul>
<li>MC:
现在的中国提出 “构建以<strong>国内大循环</strong>为主体、国内国际双循环相互促进的新发展格局”，貌似和这个阶段相似。现在的房地产已经耗干了每个家庭的消费能力，经济内需怎么促进呢？现阶段的反垄断、数字税等，是否可以算作消费税的另一种形式呢？</li>
</ul></li>
<li>德国实现统一，正式结束分裂历史。
<ul>
<li>MC：1990 年发生的事情，东德西德统一，距离我们并不遥远。</li>
</ul></li>
</ul>
<h2 id="不会珍爱自己的人们">不会珍爱自己的人们</h2>
<!--
- 大家过去都经历了很多，他们对大家来说或许不是完美的父母。但是，他们为了大家能够幸福，迄今为止也付出了巨大的努力。父母是无可替代的人。大家需要接受自己的父母，包括他们身上的缺点！大家需要现在，在这里下定决心，接受他们！
-->
<ul>
<li>脑子聪不聪明，学习、工作成绩好不好，有没有能力迅速完成任务，对公司有没有贡献…… 他们内心的刑具，就是这些丈量、判断个体价值高低的价值观、人生观。也可以说，正是<strong>这些价值观建构的体系驱赶着人们陷入无限竞争的社会</strong>。</li>
</ul>
<h2 id="人吃人的画卷">人吃人的画卷</h2>
<ul>
<li>这无疑让人联想到这样一幅画面：<strong>竞争和生产效率至上主义的齿轮正奏响嘎吱嘎吱的旋律，日夜压榨着每一个人</strong>。
<ul>
<li>MC：能否对应到现在 “降本增效” 的阶段。裁员的压力下，每一个人被 KPI
压得喘不过气来。</li>
</ul></li>
</ul>
<!--
- 日本和欧美先进资本主义国家在劳动时间长度上存在的差异，已经成为众所周知的事实。而且这一结论，还是基于日本劳动省的官方统计数据得出的。
-->
<ul>
<li><p>如今，私营电视台也纷纷推出《直播到天明》这种深夜节目，满街都是 24
小时营业的便利店，整个社会都逐渐朝着 “24
小时不夜城” 方向发展。就像纽约、伦敦等大都市一样，成功跻身国际金融中心之列的东京在信息、经济上和国外往来越来越紧密。由于时差的关系，越来越多的写字楼到了夜晚也灯火通明。</p></li>
<li><p><strong>本应以改善公司业务为目的的微电子化，反而将前所未有的高精度管理的手段指向了公司员工</strong>。效率至上的管理系统创造出巨大财富的生产系统，开始了对人类的报复。第一盏红灯，亮给了人类的健康。</p>
<ul>
<li>我们就像是骑在一辆随时会倒下的独轮车上，感受到背后不断逼近的不安，非得骑到把自己累倒，不死不休。</li>
</ul></li>
<li><p>现在是寻呼机时代。计算机技术人员无论假期还是深夜，都会因为机器故障和维护被叫去公司工作。</p>
<ul>
<li>MC: 现在手机时代，不限于程序员，打工人正常的休息都没有了。</li>
</ul></li>
</ul>
<!--
- 对于电视台的所有节目来说，收视率是可以左右节目存亡的数据。在这个行业，收视率越是上涨，目标就越是水涨船高。
-->
<ul>
<li>少数资产家把持着一路狂涨的土地，贪得无厌地增殖手中的资产，导致贫富差距越拉越大。
<ul>
<li>在这样一个挥汗劳动不如坐收利息的社会，人心没有不走向疯狂的道理。</li>
</ul></li>
</ul>
<h1 id="饱食穷民">饱食穷民</h1>
<h2 id="无处可逃的男人">无处可逃的男人</h2>
<ul>
<li><p>公司每年都会制定更高的目标，我们每年都必须超额完成公司的目标才行。在这种制度下，无论你怎么拼命，都永远不会有解脱的那天。</p>
<!--MC：有一点像现在的 issue 数量，无论你如何辛苦地去修复，总是会有更多的问题反馈，不死不休。--></li>
<li><p>小微贷为了多收利息，放款的数额通常大于借款人申请的金额。</p>
<ul>
<li>放款人通常会通过抬举借款人的方式，麻痹他们的神经，怂恿他们多借，最后酿成严重的后果。
<ul>
<li>MC:
这种做法在现在的小微贷款也很普遍，互联网平台总是会借给你更多的钱，额度远远超过你的需求。</li>
</ul></li>
</ul></li>
<li><p>这些公司打着‘XX 大作战’的旗号，喊出大家齐心协力达成目标之类的口号，或是提高士气，或是鼓励员工互相竞争，甚至在公司内制造出员工皆兄弟这种氛围，这其实也是人力管理的方法之一。</p>
<ul>
<li>归根结底，在这种所有员工‘人人有责’的制度中，一旦一个人遭遇失败，就会陷入严重的孤独感和失落感之中，认为自己给同事造成了麻烦和损失，从而产生自责的情绪。</li>
</ul></li>
<li><p>公司在不停强调要我们 “学会独立思考”，但每天都被销售指标穷追不舍的员工，又哪里有时间读书、思考呢？</p>
<!--MC:上级老板总是让我们工作时要有长远的规划，但是加班加点干不完，哪里有远方呢？--></li>
</ul>
<!--

- 工作失去了理想和热情，变得枯燥乏味。
-->
<h2 id="梦想之城">梦想之城</h2>
<ul>
<li><p>在父亲的劝说下，祐二郎中学毕业后，也不得不过上了烧炭挣钱的日子。每天早上五点起床之后，要走上两个小时的山路。弟弟砍树，把树干锯成一段一段的，哥哥去炭窑把锯好的木头烧成炭。烧好的炭，每十五公斤捆成一大捆，然后每个人背四捆下山。年纪才十五岁的少年本来身体就不壮实，要背负六十公斤的木炭下山，其中辛苦，可想而知。每走两三百米，就要靠在石头上休息一次，喘过气来后再走两三百米…… 如此循环往复。</p>
<!--MC：和小时候家里的描述差不多，自己积极参与鸽子养殖活动。反思下小时候的自己，又何尝不是这样子，难道自己现在丧失了奋斗吃苦的精神了吗？--></li>
<li><p>工作第二年，他把母亲接到东京来旅游。看着满面笑容的母亲，他心里得意极了。</p>
<!--MC: 自己也是这样的做法，工作后第一次让父母来北京。--></li>
<li><p>从某些角度看，<strong>保险合同总量的激增正反映了人们心中的不安</strong>。</p></li>
</ul>
<h2 id="我要买买买">我要买！买！买！</h2>
<ul>
<li><p>信贷消费真正开始快速增长，其实是在石油危机后的<strong>低增长时代</strong>。不光卖方需要变本加厉地提升市场的消费欲望，买方也是，<strong>一方面面临实际收入的减少，而另一方面却希望维持现有生活和消费水平，不愿让步</strong>。</p>
<ul>
<li>咱们都生活在大量消费的社会之中，<strong>刺激欲望的宣传像洪水一样席卷着我们</strong>。面对这一大潮，我们甚至来不及思考就被卷入其中。</li>
<li>MC：中国逐步进入低增长时代，现在内循环是经济主要增长动力；那么，社会和政府也会不遗余力地促进消费，但是我们要限制借贷消费，警惕实际购买能力下降。</li>
</ul></li>
<li><p>我们公司的主要业务是销售和租赁复印机。在这次出事之前，公司和一家信贷公司达成合作，信贷公司给我们介绍客户，而我们公司的员工需要用他们公司的信用卡。</p>
<!--MC: 公司内部经常需要做其他企业的优惠活动，实际也并不便宜，比如波司登的内购，莫非也是类似交易？ --></li>
<li><p><strong>很多女性平时心中都有一种空虚感，不断寻求能够满足自己的东西</strong>。有时候刚好赶上身体状态的变化，就很容易无法控制购物消费的冲动，会大量购买衣服等物品。这种心理，有时候还会以别的形式体现出来，比如喝酒、吃东西等。</p>
<ul>
<li>夫妻关系虽然表面上很好，甚至看上去十分融洽，但其实妻子想要和丈夫享受更多二人世界的需求却不能实现，又没办法率直坦诚地向丈夫表达心中的诉求。还有就是夫妻关系整体十分淡薄，没有<strong>构成两人相互支撑的关系</strong>。这时，妻子就很容易变得需要依靠物质来填补心中的空虚。</li>
</ul></li>
</ul>
<h2 id="美满生活">美满生活</h2>
<ul>
<li>虽然像我这样的人根本算不上什么中产阶级，但我心中多少总有一些仿佛是中产阶级般的感觉。想着既然别人都去夏威夷，那我也得去夏威夷。别人有的东西，我当然也想买，别人去旅游，那我也得去旅游，想过上高质量的生活…… 你说对吧？我承认确实有虚荣心在里面。
<ul>
<li>MC：警惕陷入消费危机，中产陷阱。消费不攀比，量入为出。</li>
</ul></li>
<li>一开始，我对她还有一些不解和轻蔑，认为这个女人的金钱观和脑子都有问题，然而听着她的倾诉，又渐渐觉得<strong>她就像一个身坠陷阱的小动物，沉湎于虚假繁荣的生活中不能自拔</strong>，甚至开始对她抱有一些同情。</li>
</ul>
<h2 id="x先生的对话">X 先生的对话</h2>
<ul>
<li>所谓‘细民’，是指有固定工作的社会底层的一般工人阶层。‘贫民’是属于没有固定工作的城市杂工阶层。而‘穷民’，则是指老弱病残等无力维持生计的赤贫阶层。</li>
<li>究竟贫困在哪些方面呢？
<ul>
<li>首先，是在经济上没有可以依靠的储蓄。
<ul>
<li>缺少‘储蓄’的不安，还有另一层意义。<strong>一个人从根本上赖以生存的最终手段
--
技术、技能、知识、判断能力，也许一夜之间就会被彻底推翻</strong>。现代人心中的这种不安，都在日渐膨胀。</li>
</ul></li>
<li>物质和精神的双重折磨，是现代贫困的一大特征。</li>
</ul></li>
<li>现代社会中能够作为滋润人的 “水”，换而言之对人们来说最为重要的又是什么呢？X 先生这样告诉我们：“<strong>我们所在的资本主义社会中，企业既无情也无义，只会一味追求利益，这个社会中，资本一面不停增值，一面彼此之间还会不断竞争</strong>。刺激企业追求利益的冲动、经济的冲动不停侵蚀人们的生活，压垮、吞噬并统治生活本身…… 我认为，这就是当今社会的特质。
<ul>
<li>就连我们的生活，也遭到了经济原理的彻底占领…… 所以，<strong>人们开始变得像企业一样对经济活动愈发敏感，甚至可以说人类已经被改造成了金钱和物质统治下的行尸走肉</strong>。所谓经济活动原本是指人们曾经为了糊口而进行的耕田、狩猎等为生活动。<strong>虽然经济是支撑人们生活的重要基础，但其本身不是我们活着的目的</strong>。</li>
</ul></li>
<li>X 先生说，<strong>生活第一，经济是支撑生活的基础</strong> --
这本应该是再理所当然不过的道理，然而不知不觉之间，已经变得本末颠倒，因此我们有必要对其进行重新审视。</li>
<li>拓展自己的能力、不断成长发展，满足实现自我的欲望。</li>
<li><strong>如果每个人的个人世界中，不能够充分地、均衡地满足上述多种多样的欲望，那么无论我们的宪法多么强调和平和人权的重要性，我们也会忘记是非善恶，忘记我们应该齐心协力实现的目标，无法做出正确的判断</strong>。我们在战争中付出了惨烈的代价才得到的民主主义，不就是为了让每个人都能够发展自己的人性、实现幸福生活的国家体制吗？</li>
</ul>
<h1 id="快节奏的城市">快节奏的城市</h1>
<h2 id="魔性附身">魔性附身</h2>
<ul>
<li><p>巴士里塞满了一看便知是 “高科技战士” 的上班族。他们把公文包垫在膝盖上，手里举着经济类报纸，耳朵里插着耳机，一言不发…… 这就是现在随处可见的、面目整齐划一的男人们的生活状态。</p>
<!--MC: 上班族的众生相。北京的 13 号线早高峰，随处可见戴耳机看手机，表情呆板的现代人，毫无生气和热情。--></li>
<li><p>公司将系统工程师和程序员等精锐部队调集于此，再加上外包公司派来的援军，以人海战术来推进这个项目。</p>
<!--MC: 和现在中国的人力分配和思路如出一辙。现在项目攻坚，大家聚到一起果然效率比较高。--></li>
</ul>
<!--
- 现在，社会上都对计算机技术人员抱有成见，认为他们性格沉闷无趣。很多女性甚至单纯地将从业者和黑客、阴暗、性格变态等标签画上等号。当然，你的谈吐也十分无聊。
  * MC: 沉闷的性格标签没有改变，但是阴暗、性格变态的标签没有啦。
  -->
<!--
- 不知道他说的这些，是所谓“新新人类”们所共通的生活方式，还是这群工程师日夜陪伴计算机这一现代魔性“生物”所造就的特有性格。
-->
<ul>
<li>技术应激（technostress）：这个词最早来自美国临床心理学家克雷格・布罗德（Craig
Brod）所提出的的概念。这一概念本来有两个意思：
<ul>
<li>一是指中老年人对于计算机的排斥症状。现在，各个公司都争相导入计算机办公系统，很多人跟不上计算机化的脚步，但又不得不用计算机办公…… 对于计算机的不安、恐怖，给他们带来了很大的心理压力。
<ul>
<li>但是最近几年，这种 “计算机排斥症” 不断减少，反而是人们对计算机的过度适应症状开始显现出来。</li>
</ul></li>
</ul></li>
<li>系统工程师们的宿命，就是面对性格冥顽不灵又不知变通的计算机，在终端的屏幕前一边自问自答，一边重新组织逻辑关系、修改错误，孤身奋战。问题解决、计算机正常工作后的成就感就越大。每当这时，“冥顽不灵的倔老头” 仿佛摇身一变，成了 “顺从又听话的老好人”。好多人都说 “对机器越来越爱不释手”，或是有 “人马合一的快感”。估计就是这种感觉。
<ul>
<li>当人和计算机之间产生了上面这种亲密关系后，每当离开计算机，人心中都会产生不安。这种对计算机过度适应的心理状态，就是所谓的技术应激。
<ul>
<li><strong>没有感情、无论何时都会正确无误地回应人类的计算机，就会比受感情左右的人类好处得多。相比之下，人际交往就会显得越发麻烦。这样发展的结果，就是越来越厌恶和人交往，逐渐走向自闭，失去鲜活水润的感情</strong>。</li>
</ul></li>
</ul></li>
<li>如果出现问题，就会停下来思考，然后再次输入自己设计的逻辑，电脑马上又会输出结果。这种你来我往的过招实在太有趣了，渐渐地，这种趣味就会像毒品一样作用于你的身体。这样一来，无论你在终端机前坐几个小时，身体都不会觉得疲劳。只要是软件技术人员，无论是谁几乎都会有相同的感觉。</li>
<li>计算机领域的工作一方面富于创造性和趣味性，另一方面却无时无刻都需要面对被时代追赶的压力。
<ul>
<li>开发计算机软件的工作会刺激人对知识的好奇心，独具趣味。不仅如此，每名工程师编程都有其独特的个性，如果有一百名工程师同时开发一个系统，那这个系统中就会有一百种独具个性的程序。软件开发就是这样一种富于创造性和个性的工作。</li>
<li><strong>每个工程师都要面对自身技术落后于时代的不安</strong>。<strong>编程是一项十分麻烦的工作，所以才会有人说，工程师三十五岁就得退休</strong>。工程师拼的不光是知识，到最后决定胜负的其实是腕力和体力。
<ul>
<li>MC: 现在流行的程序员 35 岁就退休，原来在 80
年代就已经在日本流行起来。</li>
</ul></li>
</ul></li>
<li>计算机的世界里，不是 1 就是
0，不是正确就是错误，不是黑就是白。所谓的‘中间’‘灰色’‘暧昧地带’是不存在的。
<ul>
<li>从早到晚面对计算机，在沉重的心理压力下，连思考方式都要和机器合一。</li>
</ul></li>
<li>将浪费压缩到最低，不断寻求到达目标的捷径。越是陷入这种思考模式，和计算机的对话就越是顺利。但是，这样却会导致和人的交往越发空虚、冷漠。
<ul>
<li>这样下去的话，和其他人的交往就会越来越少，视野也会越来越窄。<strong>大家的脑子有九成都被电脑占领了，对于政治、社会之类的越发淡漠，至于文学、戏剧什么的就更是像火星人的活动，连想都不会去想</strong>。这样每天都面对计算机，<strong>虽然技术会有所提高，但作为一个人是没有成长的</strong>。</li>
</ul></li>
</ul>
<h2 id="人心的变化">人心的变化</h2>
<ul>
<li><p>计算机的世界里，一切不合逻辑的事情绝无容身之地。当她在这样一个 “逻辑社会” 中待久了，就会<strong>对不合逻辑的事情、没有客观根据的事情产生极强的抵触情绪</strong>。</p>
<ul>
<li>“但是，如果转行干别的…… 放眼望去其他的行业我都觉得十分无聊。就好像我做的工作比他们那些普通人都要高端，我比他们都高一个层次。不知不觉之间，我已经变得这么高傲自大、藐视别人了。连我自己都特别厌恶这样的自己……”</li>
<li><strong> 因为计算机只能接受 “非黑即白” 这种二元对立型的逻辑，所以和计算机接触的人类的思维模式也会被计算机 “改造”，变得越来越像计算机</strong>。</li>
</ul></li>
<li><p>在 “职业” 一栏填 “家庭主妇” 的女性，其实也有很多在做各自的副业。比如，利用年轻时在国外居住的经历开个外语班，教小孩子们外语，或者从国外代购一些高级生活用品之类的。</p>
<ul>
<li>MC：现在的副业，斜杠青年好多从事的也是类似工作。原来现在所谓的代购，一点都不新鲜，只不过工具和方式适应了时代发生变化而已。</li>
</ul></li>
<li><p>计算机软件行业从业者每天都在和计算机独处，工作强度很高，日复一日、年复一年。听说在这样的公司里，经常能够听到有人发出野兽一般的吼叫。也许就在<strong>他们每天压抑着人类的感情波动、一心只求自己的思维能够和计算机同步</strong>的同时，心中也会存留着重做人类的欲望。</p>
<!--MC：作为软件行业从业者，没有发现这样的事情，但是身边的同事，经常说 fuck 的语言。 --></li>
<li><p>我们人类究竟在通过计算机追求什么呢？归根结底，还是‘缩短时间’这一永无止境的任务。我们的工作就是使用各种技术，不断寻找缩短处理问题的时间的方法。</p></li>
</ul>
<h2 id="自闭化的社会">自闭化的社会</h2>
<ul>
<li><p>在考察 “计算机与人” 的关系的时候，最重要的视角在于这个人是在一个怎样的现实体验中获得人生的成长。</p>
<ul>
<li>如果心灵的体验十分贫乏、人格不够健全的话，就不会在面对美丽的自然景观时感到喜悦，也不会在看到艺术品后心灵像受到涤荡一样产生清爽的向往。或者说，<strong>这种向往已经干涸，只能对工作后的成就感产生快感</strong>。</li>
</ul></li>
<li><p>技术应激这一发生在软件技术人员身上的典型症状 --
比如凡事都要用二元对立的思维分出是非黑白，或者因为计算机对人类顺从、忠诚好相处，而厌恶和有感情的人类打交道等心理现象
--
是由于他们本身就具备容易产生这种症状的人格，才能在计算机的影响下诱发心理上的异变。</p></li>
<li><p>计算机会煽动人们的求知欲和好奇心，将逻辑的快乐像 “毒品” 一样注入我们的身体。在 “毒品” 的召唤下，人们和计算机的感情愈发亲密的同时，和他人之间的关系却变得空洞化。</p>
<!--MC:我们宁可在家无聊看剧，玩手机，也懒得出去和朋友聚一聚。 --></li>
<li><p>我们人类获得生存价值感有两个条件：一是<strong>职业活动中的成就感</strong>，另一个是<strong>人际关系中获得亲密性带来的满足感</strong>。然而现代工业社会却强迫人们仅通过职业活动的成就感去获得人生的满足。极端来说，就是只要有工作，其他什么都无所谓了，根本无暇顾及排解寂寞、充实自己等方面的需求。</p></li>
<li><p>家长在养育孩子的时候，<strong>太过情绪化地关心孩子</strong>、给孩子过高的期待，反而会<strong>忽视孩子所需的关爱和心理上的其他需求</strong>，让孩子对人类的感情产生抗拒心理，厌恶和他人打交道。</p>
<ul>
<li>在体验现实的过程中充实自己的心灵。</li>
</ul></li>
</ul>
<!--
- 学历 -- 走入社会的通行证。
-->
<ul>
<li>他们都像是被一层无色透明的胶囊所包裹着，和外界之间隔着一道厚厚的屏障，从不与他人交心 —— 这就是所谓的 “胶囊人类”。
<ul>
<li>虽然他们表面上可以与人对话，但话题全都是些新出的汽车，或者哪个饭店的法国菜好吃什么的。也就是说，他们说出来的不过是‘信息’而已。
<ul>
<li><strong>他们认为只要能交换信息、看起来能说得上话，就是所谓的人际关系</strong>。但其实，明朗快活只是肤浅的表面现象，<strong>他们的关系只停留在高高兴兴地交换信息而已</strong>。</li>
</ul></li>
</ul></li>
<li>最近很多父母甚至认为 “最好尽量避免感情的波澜，过平稳、顺利的生活才是幸福的家庭”。越来越多的家庭中，夫妇之间、亲子之间简直就像陌生人一样，所有人都只是<strong>表演着幸福的家庭</strong>而已。</li>
<li>我们每一个人，就像一个个顺从的精密部件一样，被组装、吸纳进计算机系统里面，逐渐变成机器。对于这点，我们就像患了感觉迟钝症一样，完全没有抗拒。</li>
</ul>
<h1 id="呕吐的女人">呕吐的女人</h1>
<h2 id="狂乱的独角戏">狂乱的独角戏</h2>
<ul>
<li><p>她看起来不擅长用语言描述自己的感觉，用的也都是些类似 “快感”“轻松的感觉”“幸福的感觉” 这种平淡无奇的词语。交流之中，我看到了她无法与人分享自己感受的遗憾。</p>
<ul>
<li>MC: 无法清楚表达自己的感情和直觉，也是一种缺失和遗憾。</li>
</ul></li>
<li><p>幼儿园老师们的话语中透露出了这样的担忧：将孩子看作一个无法替代的生命，无条件地倾注自己的一切，通过最原始最坦诚的爱，全面接受孩子的一切 —— 这样的家长在如今社会里越来越少了。</p>
<ul>
<li>有一个老师甚至说，家长们的眼神 “十分冰冷，<strong>无时无刻不在将自己的孩子和别的孩子的能力进行比较</strong>”。
<ul>
<li>MC: 我们对孩子的爱，开始附加条件，不是纯粹的爱。</li>
</ul></li>
</ul></li>
<li><p>因为她的母亲是一个情感比较淡漠，但十分理智的人，所以仅仅停留在从理智上理解孩子，而非用自己的心灵去全面地接受孩子。大概是她做不到这点吧。</p></li>
<li><p>母亲作为一名女性，也存在依赖丈夫、希望从丈夫那里得到关爱的心理。然而对于这些需要扮演父亲角色的母亲来说，她们的这种心理需求非但得不到满足，反而要压抑自己对于关爱的需求，一个人面对生活中的一切。而只有她们在夫妻关系中获得满足，有一个稳定的内心世界，才能对自己的孩子倾注充分的母爱……</p>
<!--MC: 爱是相互影响和促进的东西。你对妻子倾注的爱减少了，可能妻子对家庭的爱也会减少。--></li>
<li><p>孩子和双亲之一关系过度亲密，形成了 “模拟夫妇” 的关系，而另一方家庭成员却始终缺席。这种关系不仅限于母女，也有父女形成 “模拟夫妇” 的情况。</p></li>
<li><p>对于从刚出生到三岁的婴儿来说，母亲是一个能够接受、包容一切的依存对象。而等孩子成长到需要规范行为的教育阶段，母亲就会禁止某些行为，变成一个只能包容部分的依存对象。通过这个过程，<strong>能够包容自己的母亲和不能包容自己的母亲合二为一，成为一个完整的母亲形象</strong>。但是，如果一开始没有一个能够彻底依存的对象，孩子就会不停地寻求这样一个缺失的对象……</p></li>
<li><p> 心理专家们对这一现象的看法其实并不统一，而且他们都默契地表示自己的解释 “仅仅是假设”，回避确定性的回答。在这种情况下我的选择只有一个，就是尽可能多倾听各方面的意见。</p>
<!--MC：在没有明确答案的情况下，尽量多倾听是一个不错的主意。--></li>
<li><p>没有影子的、半透明的生物一样的女人们，一个接一个地出现在深深的海底，飘摇在蓝白色的光亮之中，随后消失。</p></li>
<li><p>这一切都是她<strong>不断勉强自己、通过挑战极限状态才得来的结果。而她对自己的要求又高得离谱，不愿接受未达标的自己</strong>。如果这时她能够承认自己的失败，退出这个死循环，就能获得解脱，但她又不甘心认输，才会把自己弄成一副皮包骨头的病态模样，<strong>让别人以为她是因为身患疾病才没有成就更高的发展</strong>。</p>
<!--MC: 坦然而言，自己目前的状态，也可能是不断勉强自己、通过挑战极限状态才得来的结果。自己并不是非常聪明，但是通过刻苦和认知换来现在的状态，现在仍然不肯认输。--></li>
<li><p>很多像她这样的患者都接受不了原原本本的自己，而是希望<strong>通过控制和加工自己获得社会认同</strong>。然而她们这样做并非仅仅想获得社会的好评，而是在苦苦寻求一个能够原原本本接受自己的存在。</p>
<ul>
<li>一般人都会量体裁衣，而她却反过来削足适履，不断按照社会上的价值观来改造自己、强迫自己，<strong>自我肯定的意识</strong>非常淡薄。</li>
</ul></li>
<li><p><strong>学历、地位、财产 --
那些一切都以超一流为目标不断拼搏，又对社会顶层心存强烈执念的人们，双眼总被这一目标蒙蔽，到最后心中只剩下无限的空虚</strong>。</p></li>
</ul>
<h2 id="为妻为女">为妻为女</h2>
<ul>
<li><p>海岬像一双温柔的臂膀，从两侧环抱着这个小小的海湾。岸边绿、红、黄、白的房屋，就像鲜花一样点缀着海湾。</p></li>
<li><p>回国之后，有一天他忽然向我求婚…… 还说不久之后，可能会被公司派去国外工作，让我跟他一起出国，去国外的大学读研究生，所以要赶紧把英语学好…… 那时候我也觉得可以跟他组建一个温暖的家庭，之后要是能跟他一起去美国留学就更好了。心中对未来充满了憧憬……</p></li>
</ul>
<h2 id="两个自己">两个自己</h2>
<ul>
<li><p>虽然女人们都认为自己想要瘦下来是出于自己的审美，但实际上，我认为这是她们已经彻底被男性占主导地位的社会价值观所吞噬、所洗脑的结果。</p></li>
<li><p>人类有控制他人的欲望。有人通过依赖去控制他人，也有人如果不被人依赖就会心神不宁、坐立难安。所谓依赖共生关系，就是指这两者之间所构成的依赖和被依赖的关系，或者说是统治与被统治的关系。</p>
<ul>
<li>在依赖共生的同时，为了填补无法完全控制对方时所产生的寂寞、愤怒、渴望等负面感情，就会产生对食物、酒精、药物的依赖，进而染指赌博、滥交、浪费等行为。</li>
<li>所谓依赖共生关系，是<strong>指一个通过让对方依赖自己而控制对方的人，和一个通过依赖对方来控制对方的人之间所形成的依赖与被依赖的人际关系成瘾</strong>。形成这种关系的两个人会无止境地向对方索取，通常会形成互相憎恶却无法分开、互相蔑视却不能缺少对方的局面，重复着爱恨纠缠的悲剧。</li>
</ul></li>
<li><p>江津子和上班族的丈夫两人住在这样一个 “人工” 的小镇。虽然已经结婚三年，但<strong>大概是因为还没有小孩，这个年轻的主妇脸上还留着些许学生气</strong>。</p>
<!--MC: 这是对我和 XM 的贴切描述。--></li>
<li><p>我们人类，每一个人都是一个无法替代的生命，都是一个不可以通过容貌、能力、地位来排序的、独一无二的宝贵存在。或许我们可以将其称为 “人类观”，一种发自内心的尊崇个性、尊敬并爱护人类的价值观。</p></li>
</ul>
<!--
- 让我们想象一下，她在不安的驱使下，在午后空无一人的房间里沉默地吞咽东西的样子。她的身影仿佛向我们讲述着被剥夺了在闲暇中享受时间之乐趣的时代悲哀。
-->
<h1 id="后记">后记</h1>
<ul>
<li><p>现在这个词的意义，就只剩下被人们忘却的无色无味、不痛不痒的每一天，像一座无人的工厂一样在那里毫无意义地空转而已。</p></li>
<li><p>日本人工作到死的过程，不仅是为了 “垃圾” 而工作的过程，同时也是<strong>通过大量生产、大量消费垃圾，来维持饱食繁荣</strong>的现状的过程。</p></li>
<li><p>通过将容器改成铝制，销售方式也从人卖给人变成了自动售货机贩卖。自动售货机的生产量飞速增长，以至于现在存量已超二百五十万台，可以说是遍布全国。</p>
<!--MC：现在自动售货机才在中国普及开来，中国现在并不领先多少。--></li>
<li><p>为了维持生产和消费的节奏我们拼命地工作，同时大量进口制造垃圾的能源
-- 石油。</p></li>
<li><p>我们真的可以乘坐着这样一艘被充满欺瞒的 “垃圾” 和泡沫托着的破船，漫无目的地航行在茫茫大海上吗？</p></li>
</ul>
<h2 id="追踪采访-寂寥的穷民们漂泊依旧">追踪采访
寂寥的穷民们漂泊依旧</h2>
<ul>
<li><p>现代市民受到暴力压迫的情况少了很多，然而，<strong>严格的评价制度取代了暴力对人进行管理，并依据人的 “质量” 进行阶层划分</strong>。社会的评价制度在内化后形成了人们的自我评价，使<strong>人们自觉主动地将自己客体化</strong>，并努力成为对他者（社会）来说的 “优质产品”。</p>
<ul>
<li>MC：作者的文笔和思考准确，描述出了当下社会的一个现实截面。</li>
</ul></li>
<li><p><strong>所有人都在希求一个没有评价和监视、情绪和身体能不受到伤害的安全地带</strong>。然而，学校不是这样的地方，家庭也不是，那人们的安全地带究竟在哪里呢？只要人们不安的根源不消除，这种病症就不会根除，只会继续增加。</p>
<ul>
<li>对于男性来说，公司是一个像母体一样的地方。公司就像是他们的母亲。再反观女性，不光无时无刻都活在来自男性的评价之中，就<strong>连与生俱来无法改变的长相都要被人残酷地挑剔</strong>。所以，就算她们想通过拒食和过食寻求短暂的退化，也是完全可以理解的。</li>
</ul></li>
<li><p>她们的<strong>父亲过度适应公司的工作，沉湎于提高效率、增加利润的行为，除了工作以外对其他事物全无任何兴趣</strong>，可以说是脑子里被灌输了工作程序的 “机器人” 职员。她们的母亲为这样的丈夫奉献一切，只能在对孩子的过度关怀中寻求自己的价值，也是脑子里被灌输了如此价值观的贤妻良母 “机器人”。这些女性都是在这样一对对依赖共生关系下的 “机器人” 家庭里长大，按照事先安排好的剧本走进良好的学校，成为贤妻良母，被驱赶着走上设计好的、没有坎坷的人生，然而她们一定看破了其中虚伪的本质。也没关系嘛…… <strong>现在的社会连人们的愤怒都能吸收，让其烟消云散</strong>。人们迷失了自己真正的需要。现在对日本职业足球联赛的狂热给人一种很是虚伪的感觉，就像是人为炒起来的一样。<strong>我们就是这样被看不见的暴力驯服成一群忘记愤怒、没有力气的优良市民</strong>。</p>
<ul>
<li>就像是温柔版的法西斯主义？对对，就是这种。也就是说社会整体都变得像‘机器人’一样。</li>
</ul></li>
<li><p>最近最让人忧心的，是无法接受自己的人越来越多。她们不单单是对于学习之类的事情缺乏自信，而且严重缺乏让别人接受、认同自己的存在的体验。<strong>由于缺乏和他人建立亲密关系的经验，她们对现状严重不安。所以，哪怕是一点点挫折都会让她们坠入孤独的深渊，产生被人抛弃的感受</strong>。</p></li>
<li><p><strong>爱情和亲密关系，本不应该是必须达成目标后才能获得的东西</strong>，不能像解决其他问题一样，先设定一个目标，然后思考方法、制订计划后才能获得爱。然而<strong>让我们看看现在的亲子关系，家长的爱不再是无私的、无条件的给予和接受，而是必须达成某些目标之后，才能得到，才有资格成为所谓的 “乖孩子”</strong>。</p></li>
<li><p>比如夫妻之间本应该可以推心置腹地进行交流，但现实中真正能做到的夫妻却并不多。虽然表面上看上去十分和睦，但内心却并不能充分交流。这种关系被称作<strong>伪交互性</strong>，在这种关系下，<strong>夫妻双方都认为一旦发生矛盾就会分手，所以会想办法相互迁就</strong>。这种状态让人不禁觉得，他们之间的关系是缺乏感情的波澜和迸发，是稀薄且充满虚伪的，就像在表演自己的角色一样…… <strong>就连关爱、照顾他人都被当作任务来完成，可以说是一种虚伪的关系</strong>。</p></li>
<li><p>我觉得，<strong>越是能够容许孩子们绕弯、跌倒的社会，就越能保留孩子们的天性，这个社会、集团中个体的生存能力就越顽强。然而现在的社会能够容忍孩子绕弯的幅度越来越小，认为这个容忍幅度一旦超出某个程度，就再也回不到正轨</strong>。</p>
<ul>
<li>现在的孩子们从小就在自己的心里放了一个小口袋，将本真的自己收进这个口袋里。</li>
</ul></li>
<li><p>她的这种病症，属于儿童抽动症中的‘抽动秽语综合征’，越是不可以说的话就越要说，越是在不可以说的地方发病就越严重。这个病症，就像是对不允许出格的社会的反照、讽刺和抗争一样。</p></li>
<li><p>其实，无论是拒食的孩子还是过食的孩子，好多人都对我说不想把病治好，想就这样保持病态。他们周围的人，要么在催促他们治疗，要么鼓励他们不能因此丧失自信，只要努力就会有希望等。对于病人来说，这是最不愿意听到的话语。他们根本不想治疗，也不想抱希望，因为对于他们来说，明天、未来不知道会比现在更加悲惨多少。对他们来说，处于病态反而意味着他们的生命是有所保障的。</p></li>
<li><p><strong>在现代社会，不这样做的话家庭就无法适应社会，所以家长们才会不惜一切去执行</strong>。然而，他们越是想去适应社会，孩子们受到的压迫就越是厉害。</p>
<ul>
<li>MC：内卷，适者生存，如果你不这样做，那么你就无法生存下去，被迫参与社会的竞争。</li>
</ul></li>
<li><p><strong>无法表露真实的自己，被迫戴上面具伪装出另一个样子生活下去，由此造成的痛苦才是万病之源</strong>。孩子只有沿着家长给他规划好的路线、言听计从才能成为优等生。虽然他们可能会被人推举当个班长、学生会主席之类的，但作为一个人来说可能会被孤立。而对于孩子自身来说，到了一定年龄后，当在外部的体验中碰壁，就会将目光转向自己。</p></li>
<li><p>这个过程被称为家庭的重组，家长和孩子的价值观都会产生变化。<strong>只要家庭成员能够达成共识，认为别人的眼光其实无所谓，社会上的价值观也不那么重要，就能迎来希望的曙光</strong>。</p></li>
<li><p>孩子们本来需要无穷无尽的、无条件的爱，如果对爱的需求无法获得满足，产生了依赖性的性格，就会寻找其他事物去代替其所需的爱，并以此填补心中对爱的需求。</p></li>
<li><p>然而今天，现代社会（西欧社会）的自我理想终于开始变得破绽百出。<strong>对于自身力量的信仰将胜者变为 “努力成功” 的俘虏，将败者变为寂寞和渴望的奴隶</strong>。在寂寞和渴望中产生了对酒精、药物、食物、性、赌博、购物的依赖症状。</p></li>
<li><p>我们究竟想要做什么？想要度过怎样的人生？在我们尚未思考出结论时，我们自身中机械性的部分就已经擅自启动，和全家人一起按照 “幸福家庭” 的剧本表演着过家家一样的生活 —— 这是一群追求和他人一致外表、和他人同等稳定的 “趋同成瘾机器人”。<strong>隐藏在饱食泡沫时代背后的，就是这样一群时代囚徒颠沛流离的景象</strong>。</p></li>
<li><p>作者在本书的 “追踪采访” 章节的末尾处向每个读者抛出了一个值得深思的问题。“<strong>我们究竟想要做什么？想要度过怎样的人生？</strong>” 书中的一个个事例看似纷杂，但其实都贯穿着同样的设问。</p></li>
</ul>
<h1 id="译后记">译后记</h1>
<ul>
<li><p>虽然本书在国内出版距原作在日本上市有近二十五年的时间差，书中所述的不少事情也已经过去了三十多年甚至更久，但读过本书的读者一定会发现，如今发生在我们身边的一些社会现象和书中所述存在惊人的相似之处。比如，日本当年盘踞在车站前的小微贷，如今早已将阵地转移到了手机和互联网上。日本当年红极一时的<strong>自我启发活动</strong>，如今也包装成精美的个人提升、企业培训课程粉墨登场，令许多企业管理层与普通白领趋之若鹜，不惜花高价去学习；<strong>从近来引发社会广泛关注的 “996 工作制” 中，译者也仿佛看到了很多日本上班族日夜拼命工作的身影</strong>。</p></li>
<li><p>日本社会曾经历过的事情，如今有一些或原原本本，或改头换面，或多或少发生在我们自己的身上。</p></li>
<li><p>对于我们来说，这本写于三十多年前的纪实文学不应是 “隔岸观火”“事不关己”，而应是一面照出我们自己得与失的 “明镜”，值得我们更好借鉴。</p></li>
</ul>
<hr>
<h1 id="我的随想">我的随想</h1>
<p>在现在这个浮躁的社会，我们刚刚经历了房价暴涨，经济前景不明，不禁思考未来社会会何去何从？</p>
<p>幸好隔壁邻居先中国 30
年经历了经济高速增长时期，所以我一直想读一本书，窥视 80
年代末经济停滞前的日本最后的狂欢，来为现在的自己提个醒，帮助自己更好地对未来做一些预测。</p>
<p>这是我第一次读相关的书，当我捧起这本书时，看到了一个个熟悉的社会百态，比如小额借贷，买房，加班过劳死，35 岁退休等等，只不过工具和形式为了适应时代做出来调整和更改。</p>
<p>如果你赞同中国未来的发展可能会和日本类似，那么这本书就像一个长着告诉你各种可能发展以及未来的状态。你可以在比较中选择适合自己的发展方式，对我而言，可能更偏向于<strong>适度工作，追求体验，享受和家人朋友在一起的时光，让生活充实有趣</strong>。</p>
<p>作为刚毕业不久的打工人，在没有读书前，我是一个满心斗志的加班人，希望在职场做出一番事业来。这本书让我逐渐意识到，日本在
80 年代就已经开始了 996
的加班生活，自己正在被社会评价指标裹挟着成为一个工具人，除了工作对其他事情都不感兴趣，我的未来是何其枯燥和无聊。<strong>我要有最后的倔强，我希望自己能够多去亲近大自然，扩宽自己的视野，最末和朋友聚一聚</strong>。</p>
<p>我是一名程序员，也经常会被电脑吸引着坐在屏幕前几小时，看到事物的思维开始二值化，不愿意去处理复杂的人际交往关系，这可能是程序员的共性。这本书告诉自己，程序是有意思的工作，但是要谨防上瘾，自己需要不断地反思，锻炼自己的思维能力，从更高的视野看待事情。</p>
<p>不可否认，中国现在已经步入低增长时期，国家和社会在积极地扩展内需，我们受到的诱惑只增不减，总是会有一个声音告诉你，你需要什么，甚至你连思考都没有就开始购物。在社会开始疯狂的时候，自己需要坚持<a href="http://www.waylon.one/Reading/expression-on-simple-life/">不持有的生活</a>，理性看待不必要的消费，不要跟随大流去疯狂购物。</p>
<p>这本书给了自己一些新奇的观点：</p>
<ul>
<li>我和同事的交流，只限于信息交流，没有深刻的内心沟通；</li>
<li>如果不能准确地表达自己的感受，那么是一种自己的缺陷和遗憾；</li>
<li>人生苦短，不要参与进来内卷的过程，你需要花费更多的时间来体验时间，丰富心灵，而不是被社会裹挟着向前盲目走。</li>
</ul>
<!--关于近期的思考：身边有不少朋友开始买房，这让自己开始焦虑起来。因为我的资金有限，在买房和基金投资上只能二选一。如果房价不发生第二轮暴涨，遵守“房住不炒”的底线，即使是年化 5% 的涨幅，那么我还是倾向于股票投资，因为美国和日本，个人财富一大部分在股市中，而中国应该正处于这个过渡过程中。假设现在自己买房了，那么自己就被购房贷款锁死了，最近十年不会有大规模的投资生活，很可能错过未来十年的股票投资机会；如果自己没有马上买房，处于观望的角度，手中握着现金，自己可以在投资股市的时候，关注房市变动，假使房价开始第二轮暴涨，自己还是有购房入场机会和资本的。如果自己赌对了，股市发展优于房市，那么恭喜自己啦。

总而言之，在眼下房价涨势不明显时，自己可以继续投资股市和基金，不必因为周围人而焦虑。-->
]]></content>
      <categories>
        <category>Reading</category>
      </categories>
      <tags>
        <tag>Reading</tag>
      </tags>
  </entry>
  <entry>
    <title>第四次剑桥领思考试回忆</title>
    <url>/English/fourth-linguaskill/</url>
    <content><![CDATA[<p>[toc]</p>
<p>为了能在短时间内取得满意的分数，自己在第三次领思考试后，没来得及等待成绩出分，就开始第四次领思考试。</p>
<!--
自己在 2020 年 8 月 9 日上午，参加了第四次领思考试，开始四战领思考试，希望能取得好结果吧。
-->
<p>在第四次考试中，自己看到了越来越多熟悉的题目，但是这些熟悉的题目，也让自己放弃了警惕，在听力上犯了极大的错误，后面会详细说一下。在这次考试中，自己又遇到了几次网络断线，自己基本也清楚这个套路，最后在超过考试时间（
3 小时） 40+ 分钟的时候，交卷。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Fourth_Linguaskill_Test_Report.jpg"></p>
<h1 id="speaking">Speaking</h1>
<h2 id="part-1">Part 1</h2>
<ul>
<li>What/where you would do when you leave
<ul>
<li>这道题目，自己并没听清楚问题，属于答非所问。</li>
</ul></li>
<li>The opportunity to speaking English
<ul>
<li>之前考试过的题目，可以在我之前的总结中看到。<br>
</li>
</ul></li>
<li>Play indoor game</li>
<li>What work would like to do in 10 years in the future
<ul>
<li>之前考试过的题目，可以在我之前的总结中看到。</li>
</ul></li>
</ul>
<!--I like to play Hearthstone computer game with my friends. It's a card game, and you can compete with another player and finished it with 15 minutes.
-->
<h2 id="part-2">Part 2</h2>
<ul>
<li>这是第三次考试的原题，但是自己第三次考后没有及早复盘，这道题目有些断句、单词发音可能不准确。
<ul>
<li>prezentation about research opportunities.</li>
<li>has started.</li>
<li>forget /fəˈɡet/ password /ˈpɑːswɜːd/.</li>
<li>The library until 11 due to staff traning。</li>
</ul></li>
</ul>
<!--
  * 自己相当于学习了两遍，然后再从头开始作答
  的。
  * 昨天的原题，但是自己却没有抓住机会。
  * 自己需要练习如何断句
-->
<h2 id="part-3">Part 3</h2>
<ul>
<li>A shop your like to visit</li>
</ul>
<h2 id="part4">Part4</h2>
<ul>
<li>一个游乐的场所，包括滑梯划水、night life、吃海鲜，visit lake；住
hotel 或者帐篷，这是我所有的印象了。</li>
</ul>
<!--
  * 自己缺少连词，没有连贯性。
-->
<h2 id="part5">Part5</h2>
<ul>
<li>体育类话题
<ul>
<li>第一次考试的题目</li>
<li> need sport wear 需要穿特别的衣服吗</li>
<li> sport programmes in TV more or less
<ul>
<li>电视界面中的体育节目少还是多？</li>
</ul></li>
<li>what the advantage of do much kinds of sports</li>
<li>How to learn a sport</li>
</ul></li>
</ul>
<!--
  - coches / videos
-->
<h1 id="listening">Listening</h1>
<ul>
<li>因为第一道题遇到原题，自己心情比较愉悦，天知道为什么手误，自己会选择一道毫不相关的答案。因为是第一道题目，根据自适应算法，所以自己后面的题目都是非常简单，分数肯定不高了；自己一路升级打怪，题目难度不断提升，最后的分数还可以吧。
<ul>
<li>一道租车题目，有三个 144 175 189 候选项，自己明确知道答案是
144，但是手误选择了 175。</li>
<li>在自适应考试的前面一两道题目中，一定要反复斟酌下自己的答案，尤其是第一道题目，否则很容易直接从很简单的地方开始作答，自己的分数会受直接的影响呢！</li>
<li>遇到熟悉的题目，不要骄傲放纵，依然需要认真去作答，否则很容易出现失误，反而不如遇到生题好。</li>
</ul></li>
</ul>
<!--
自己在心态完全有点奔溃的情况下，依然坚持开始作答，因为我喜欢从弱到强的修炼过程，最后题目越来越难，超过了自己的能力，希望自己也能取得一个不错的成绩吧。
-->
<!--
自己遇到原题，所以在第一道题目中，明明确定原答案的情况下，仍然手误，点击了错误的答案，导致后面的题目都是非常简单，然后才是慢慢地变得复杂，我初步觉得这次得分不会很高，因为是自己从低处坐上来的。
-->
<!--
为什么自己在听力作答时，状态不是那么好呢？总是喜欢东张西望，可能是缓解自己的压力吧。
-->
<h1 id="reading">Reading</h1>
<ul>
<li>遇到了 XX lake 的题目，这已经是第三次考试遇到了。</li>
<li>so as not to vt. 以便不（未到... 的程度）</li>
<li>了解 avert impeded precluded 的区别</li>
</ul>
<!--
precluded
-->
<h1 id="writing">Writing</h1>
<h2 id="task-1">Task 1</h2>
<ul>
<li>City Musical School.
<ul>
<li>自己的回答字数大概是 200。</li>
<li>musical instrument 乐器</li>
</ul></li>
</ul>
<h2 id="task-2">Task 2</h2>
<ul>
<li>Write a letter about your opinions about recently opened shopping
mall to a magazine.
<ul>
<li>自己的回答字数大概是 280。</li>
</ul></li>
</ul>
<h1 id="申请成绩复议">申请成绩复议</h1>
<p>首先，领思成绩是不支持复议的，但是自己收到这一次的成绩单后，和雅思相比，感觉分数被严重低估，实在觉得有必要折腾一下。因为国内只是考试的代理机构，没有太多的话语权，自己于向剑桥雅思的官方机构申请复议。</p>
<h2 id="反馈渠道">反馈渠道</h2>
<ul>
<li><a href="https://www.cambridgeassessment.org.uk/contact-us/">Contact
us</a></li>
<li><a href="https://www.cambridgeenglish.org/exams-and-tests/linguaskill/information-about-the-test/contact/">Register
your interest in Linguaskill</a></li>
</ul>
<h2 id="邮件反馈">邮件反馈</h2>
<p>首先，自己向邮箱 info@cambridgeassessment.org.uk
反馈，很快就收到了一位 Helpdesk Analyst
答复，基本意思是成绩不支持复议；然后自己继续表达了不满，语气加重，一位
Senior Helpdesk
Analyst，表达会进行调查，很快也告知我结果了，<strong>成绩不存在问题</strong>。</p>
<h3 id="我的反馈">我的反馈</h3>
<blockquote>
<p>I took Lingualskill tests four times up to now, and I got very
instability results, especially in Speaking. I have to say, my Speaking
result is underestimated seriously, compared with my IELTS results last
year. My speaking result of IELTS is XX for twice last year, while my
Linguaskill is XX, XX, and XX, which is almost equal to XX in IELTS
according to CEFR standard. What's more, my other three aspects are C1
or above, much better than Speaking. And my subjective feeling is that
my Speaking performance/result should be better and better as I had paid
more effort, although the fact is my speaking results are lower and
lower now.</p>
</blockquote>
<h3 id="helpdesk-analyst-的答复">Helpdesk Analyst 的答复</h3>
<p><img data-src="http://www.waylon.one/downloads/images/blog/cambridgeassessmen_first_round.png"></p>
<h3 id="senior-helpdesk-analyst-的答复">Senior Helpdesk Analyst
的答复</h3>
<p><img data-src="http://www.waylon.one/downloads/images/blog/cambridgeassessmen_second_round.png"></p>
<h1 id="references">References</h1>
<ul>
<li><a href="http://www.waylon.one/English/linguaskill-introduction/">领思介绍</a><br>
</li>
<li><a href="http://www.waylon.one/English/first-linguaskill/">第一次领思考试回忆</a></li>
<li><a href="http://waylon.one/English/second-linguaskill/">第二次领思考试回忆</a></li>
<li><a href="http://waylon.one/English/third-linguaskill/">第三次领思考试回忆</a></li>
</ul>
]]></content>
      <categories>
        <category>English</category>
      </categories>
      <tags>
        <tag>English</tag>
      </tags>
  </entry>
  <entry>
    <title>第一次剑桥领思考试回忆</title>
    <url>/English/first-linguaskill/</url>
    <content><![CDATA[<p>[toc]</p>
<p>免责声明：因为剑桥领思的考试内容和形式存在变化，以下内容仅代表我的个人认知、个人经历和个人观点，不能确保信息完全准确和实时同步，请读者自己辨识。如果有任何错误，请不要将它们归咎于任何其他个人或组织。</p>
<p><a href="http://www.waylon.one/English/linguaskill-introduction/">领思介绍</a></p>
<p>关于什么是领思考试以及如何报名，可以阅读 <a href="http://www.waylon.one/English/linguaskill-introduction/">什么是剑桥领思</a>。</p>
<p>我之前在准备雅思考试，但是因为疫情的原因，雅思考试已经暂缓考试几个月了。最近，偶然得知领思考试成绩也开始被一部分院校认可，与其等待雅思开考 (遥遥无期)，不如把剑桥领思也作为一种选择。</p>
<p>我在 2020 年 6 月 20 日，第一次参加了领思考试。考试时间从 9:30
开始，因为是自适应考题，所以没有考试结束的时间，自己大概是在下午 1:30
的时候交卷，整个过程 (4 小时) 是不能离开离开自己座位的
(包括去洗手间)。</p>
<p>自己的成绩单在 6 月 23 日的中午收到 (72
小时内)，下面是我的成绩单截图。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/20200620_Linguaskill_score.jpg" alt="score">
<figcaption aria-hidden="true">score</figcaption>
</figure>
<p>这次的 B2
成绩并不理想，最近一个月应该还会预约新的考试，感兴趣的朋友可以关注下我，我会继续更新自己的考试回忆。</p>
<p>我当时报考的是全科考试，总的考试会有倒计时，一般是三小时，系统会提醒你距离考试结束还有多久，你其实不用理会这个总的考试时间倒计时，我那时候考完，倒计时显示负值，考试成绩还是正常的。但是，写作和口语的倒计时，一定要抓紧，倒计时过后会自动收卷的。</p>
<h1 id="考试环境准备">考试环境准备</h1>
<p>在考试组织上，剑桥领思考试不限时间、场地，只需一台电脑、一个手机、一个网络、一个麦克风和一套耳机设备，即可进行考试。</p>
<p>报名成功后，会收到一封 ProctorExam
机构发来的邮件，你可以按照邮件要求来配置自己的环境，以及检查自己的网络和硬件设备是否正常。</p>
<p>可以观看下面的视频，来大概了解整个考试系统的配置和检查。</p>
<!--
- [插件软件下载和系统检查](https://www.bilibili.com/video/BV1Xp4y1C7CP/)
-->

<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=967719391&amp;bvid=BV1Xp4y1C7CP&amp;cid=177187449&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>

<p>&nbsp;</p>
<h1 id="考试过程">考试过程</h1>
<p>考试开始后，你需要登录网页先做一个考试环境的检查 (确保房间没有其他人)，以及身份的验证 (需要身份证)，才能可以开始考试。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/Linguaskill_rules.jpg" alt="考试规则">
<figcaption aria-hidden="true">考试规则</figcaption>
</figure>
<p>可以观看下面的视频，来了解考试过程的演示。</p>
<!--
- [考试过程演示](https://www.bilibili.com/video/BV1Tk4y1R71y/)
-->

<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=752715660&amp;bvid=BV1Tk4y1R71y&amp;cid=177189153&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>

<p>&nbsp;</p>
<p>下面是一个非官方机构的考试测评，大家有兴趣也可以看看。</p>

<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=752715660&amp;bvid=BV1Tk4y1R71y&amp;cid=177189153&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>

<p>&nbsp;</p>
<h1 id="考试题型">考试题型</h1>
<p>剑桥领思考试模块分为三个模块：阅读和听力、写作及口语，应试者可根据需求进行模块分别或统一进行测试。</p>
<p>这次报考了整个考试，三个模块是在一起考试进行的。</p>
<h2 id="阅读和听力">阅读和听力</h2>
<p>考试时长：约 60 - 85 分钟
(官方推荐，但是作答时间不受限，可以慢一点，提高答案正确率)</p>
<p>阅读和听力模块具有自适应性，能根据应试者情况自动调整，因此<strong>题目数量和难度不是固定的</strong>。应试者每回答一个问题，电脑就能更加了解其英语水平。待已答题目达到一定数量，电脑能准确判断出应试者英语水平后，测试结束。</p>
<p>当前，阅读和听力题目是分开的，做题没有明确的时间限制。因为时间不受限，我在阅读和听力上反复阅读题目和确认答案，所以花费时间比较多，<strong>大概是三个小时才把阅读和听力做完</strong>，远远超出了官方的推荐时间。</p>
<p>虽然是自适应考试，但在考试的时候，你还是可以关注屏幕下方的进度条，可以预估还有多少题目等着你。</p>
<h3 id="考试题型----阅读">考试题型 -- 阅读</h3>
<ul>
<li>阅读并选择：应试者阅读包含简短文字的通知、示意图、标识、备忘录或者信件，然后从三个选项中选择最符合短文意思的句子或短语。</li>
<li>填空：应试者从四个选项中选择正确的单词给句子填空。</li>
<li>完形填空：应试者从四个选项中选择正确的单词或短语给短文中的句子填空。</li>
<li>开放式完形填空：应试者将单词填写在短文中空缺的地方。
<ul>
<li>这是我认为阅读中比较困难的一类，需要自己根据上下文提示，想出来一个单词填空。</li>
<li>因为时间不受限，可以反复斟酌句子和填词，主要是<strong>固定短语搭配、介词</strong>的填空，比如
more often than not，in terms of, among, 和 that。</li>
</ul></li>
</ul>
<!--  
* Type only one word in each gap.

![360截图1787042189104110](0E7EE06C09BA4A179F050C0D98AEE79D) 

![Hard](02E692227B0044568A175B533F13899A)
-->
<ul>
<li>拓展阅读：应试者读一篇较长的文本，并回答一系列选择题。<strong>题目顺序与文中信息顺序一致</strong>。
<ul>
<li>基本一个段落对应一道题目，所以可以缩小阅读范围。</li>
<li>阅读的时间不受限，阅读可以检查多次，提高准确率。</li>
</ul></li>
</ul>
<h3 id="考试题型----听力">考试题型 -- 听力</h3>
<ul>
<li>听并选择：应试者听一段短音频，然后从三个选项中选出正确答案。
<ul>
<li>不限定阅读题目的时间，所以有足够的时间去理解题目和选项。</li>
<li>一段对话可以听两遍，两遍听力中间的间隔时间由考生决定。</li>
<li>即使是单选题，也会有一大段内容音频素材，所以听力难度不弱于雅思。</li>
<li><strong>备选项基本都会听到</strong>，所以不能根据听到的信息来蒙题，需要在完全理解对话的基础上，根据逻辑推理做出正确的选择。</li>
</ul></li>
<li>拓展听力：应试者听一段较长音频，然后回答一系列相关选择题。<strong>题目顺序和音频中信息顺序一致</strong>。
<ul>
<li>长音频，问题由多个组成，同样地，一段对话可以听两遍。</li>
</ul></li>
</ul>
<!-- 在C1级别，阅读题目有时间限制，需要抓紧时间去阅读题目，时间一般不够认真阅读完整个题目。-->
<p>这次考试中，自己感觉听力难度越来越简单，以为听力做的不够好，但是结果却是
C1，大大出乎我的预料。因为听力有足够的时间阅读题目，在第一次听不懂的时候，可以多做逻辑的推理，然后第二遍确认答案。另外，听力的数量，超过自己的想象，自己花费一个半小时才做完听力题目。</p>
<h2 id="写作">写作</h2>
<p>考试时长：45 分钟（两部分）</p>
<p>写作测试采用<strong>电脑阅卷</strong>。</p>
<h3 id="考试题型-1">考试题型：</h3>
<p>测试分为两个部分。 -
类似于雅思的大小作文，两篇作文的计时是一起的，所以需要合理分配写作的时间。考官范文中的字数远远超过题目要求，所以我猜测每篇文章可以尽量多写一点，可以加分。
-
应试者阅读一篇短消息，通常为<strong>邮件</strong>。然后根据消息中的信息和给出的<strong>三个要点</strong>写一篇不少于 50 个单词的邮件。答题时长约为 15 分钟。
* 因为是电脑评卷，推荐写作字数最好写到 180 字以上，可以为自己增分。 -
应试者阅读一篇概述某情景的短文，然后根据情景中的信息和给出的三个要点写出不少于 180 个单词的信或者报告。答题时长约为 30 分钟。
* 写作是有明确时间限制的，所以需要抓紧时间写作文。 *
字数可以多写一点，注意留一点时间检查拼写。在我看来，减少拼写、语法等低级错误，比耗尽时间写长作文更重要。
* 推荐字数写到 300 字左右。</p>
<p>这次考试中，题目一是 “回复邀请你参加婚礼的邮件”，题目二是
“给杂志社推荐你最喜欢的运动员”。</p>
<p>此外，推荐使用剑桥官方的免费服务 -- <a href="https://writeandimprove.com/">Write &amp; Improve</a>
来为自己的写作打分；因为都是机器打分，我感觉评分算法应该和领思相似。Write
&amp; Improve
虽暂不包含专门针对剑桥领思的写作主题，却是提高写作技能的绝佳方法。</p>
<h2 id="口语">口语</h2>
<p>考试时长： 15 分钟（五个部分）</p>
<p>口语模块需要准备电脑、麦克风和头戴式耳机。试题会出现在屏幕上和耳机里，应试者的回答会被录下来，供考官打分，<strong>人工评分</strong>。</p>
<h3 id="考试题型-2">考试题型</h3>
<p>测试分为五个部分。</p>
<ul>
<li>面试：应试者回答关于自己的八个问题（<strong>前两个问题不计分</strong>）。
<ul>
<li>需要集中精力，根据播放的录音来回到对应的问题。如果漏听题目，后面自己的作答就是答非所问，非常尴尬。</li>
<li>前两个问题是你的名字和家庭名字拼读，不计分。</li>
</ul></li>
</ul>
<!--
  - Your name
  - Family name WANG
  - where are you from
  - job or work
  - doing what on weekend 
  - opportunity to speak english
  - best thing last week 过去式 
  - live in the future
-->
<ul>
<li>大声朗读：应试者大声朗读八个句子。
<ul>
<li>句子中有类似于 AM， Mrs， Dr. 等缩写词，以及复数，三单的形式。
<ul>
<li>AM 直接读字母即可；Mrs /ˈmɪsɪz/；Dr. /ˈdɒktə(r)/.</li>
</ul></li>
<li> 阅读句子时最好先分析句子结构，按<strong>语义群</strong>开始朗读，而不是一个个单词向外输出。</li>
<li>短句子不用很着急，但阅读的句子会越来越长，最后两个句子一般是 20+
个单词，时间可能需要抓紧点。</li>
</ul></li>
</ul>
<!--
 - mrs
 - club‘s
 - how easy 语气
 - 阅读的句子会越来越长，紧张的感觉让自己没有形成语义群，而是一个个单词向外输出。
-->
<ul>
<li>陈述 1: 应试者就给定的某话题进行一分钟的陈述。准备时间为 40 秒。
<ul>
<li>目前，考试要求不能携带纸和笔，所以不能在纸上写思路和关键词。</li>
<li>降低语速，保持大声的输出，让考官感觉到你的自信。</li>
</ul></li>
<li>陈述 2:
应试者就给定的一个或多个图形（例如图表、示意图或信息表单）进行一分钟的陈述。准备时间为一分钟。
<ul>
<li>一般是两个物品的对比，比如两件衣服的材料、价格和功能比较，两件房子大小、租金和内部设计的比较等等。</li>
<li>因为陈述时间并不多，而比较的内容又比较多，所以最好不要套用模板 (铺垫太多)，开门见山，直接说重点，因为时间真的不够把所有的内容和区别说完的。</li>
</ul></li>
<li>交流活动：应试者简短地就某话题的<strong>五个问题</strong>发表自己的观点。准备时间为一分钟。
<ul>
<li>五个问答的关键词可以提前看到，可以猜测题目，有所准备地作答。</li>
</ul></li>
</ul>
<p>这次考试中，面试题目有： - What's your name? - How to spell your
family name? - Where are you from?</p>
<blockquote>
<p>I'm from Beijing, the capital of China. It is a really beautiful and
developed /dɪˈveləpt/city with a long history ['hɪst (ə) rɪ n. 历史] and
modern /ˈmɒdn/facilities/fə'sɪlɪtɪz/, like shopping malls.</p>
</blockquote>
<ul>
<li>When you listen to music?</li>
</ul>
<blockquote>
<p>Yeah. It depends. I often listen to soft music when I am studing or
working, I reckon ['rek (ə) n vi. 估计；计算；猜想] it can help me
concentrate ['kɒns (ə) ntreɪt] on my work and improve the efficiency
[ɪ'fɪʃ(ə) nsɪ]. Sometime I like to listen high-energy music when I feel
tired or bored. I think music has a certain kind of power which can make
me forget the daily ['deɪlɪ adj. 日常的；每日的] pressure ['preʃə
n. 压力；压迫] and trouble in life temporarily ['temp (ə) r (ər)ɪlɪ
adv. 临时地] and get a monment of relaxation [riːlæk'seɪʃ(ə) n].</p>
</blockquote>
<ul>
<li>Work or study?</li>
</ul>
<blockquote>
<p>I'm currently /ˈkʌrəntli/working. I'm an autonomous /ɔːˈtɒnəməs/
driving engineer /ˌendʒɪˈnɪə(r)/in DIDI CHUXING company in Peking
['pi:'kiŋ]. My ==job duty== [ˈdjuːti] [工作职责] is local path planning
for self-driving cars.</p>
</blockquote>
<ul>
<li>What's your favourite sport?</li>
</ul>
<blockquote>
<p>My favorite /'feɪvərɪt/sport is scuba ['skuːbə n. 水中呼吸器] diving
/ˈdaɪvɪŋ/. I just love the feeling of being in the water, under the sea,
seeing all the beautiful creatures /'kriːtʃə-z/, being part of the
nature. I feel very free and calm under /ˈʌndə(r)/the sea, as if I
belong [bɪˈlɒŋ vi. 属于，应归入] there.</p>
</blockquote>
<ul>
<li>Do you have much opportunity to speaking English?</li>
</ul>
<blockquote>
<p>I'm afraid not. Although I live in an international /ˌɪntəˈnæʃnəl/
metropolis /məˈtrɒpəlɪs/, I am still surrounded /sə'raʊndɪd/ by Chinese
people and don't have any opportunity /ˌɒpəˈtjuːnəti/ to speak English
with them. At the same time, I take participate in an online English
class now, where I can speak English with foreign /ˈfɒrən/ tutors
/ˈtjuːtə(r)/.</p>
</blockquote>
<p>陈述 1 题目是 Describe a type of technology you want to own；陈述 2
题目是向朋友比较两个房子的大小、租金和地理位置等；交流活动是谈论你对运动的看法，比如是否需要特别的衣服，去哪里运动等。</p>
<h1 id="考试总结">考试总结</h1>
<ul>
<li>剑桥领思考试属于自适应考试，阅读和听力的题目难度会随你的作答而变化。一般而言，如果题目越做越难，说明你的成绩应该不错。<br>
</li>
<li>这次考试中，我发现题目中涉及到的<strong>运动素材</strong>很多，比如口语、写作和阅读都有运动对应的题目。我不确定后续的考试是否也是这样，但是可以做点准备。<br>
</li>
<li>和雅思考试相比，阅读时间不受限，听力时间不受限，并且可以听两遍，我觉得这两部分相比，应该容易拿高分。以我为例，我在雅思中的听力是 6.0，这次的领思成绩是
C1 (180+)，超出我的预料。</li>
<li>写作有观点的提示，基本把你的思路定下来，自己不用自由发挥和思考观点，难度应该比雅思简单点，但是如果要拿高分，依旧是不容易的。</li>
<li>最后是令我发愁的口语，自己的口语一直比较差，在雅思中，自己的成绩是勉强
5.5，这次也没有好好准备，只有 A2
的成绩，应该比雅思的成绩差。因为都是人工打分，所以整体难度和雅思应该差不多，考查形式不同而已。</li>
<li>因为自己的答题时间比较久，ProctorExam (系统默认三小时)
提醒自己时间已经结束，那时候自己写作才开始写，口语还没有开始考试，自己没有在意
ProctorExam 的提醒，正常做题，最后从成绩单看来，并没有受到太多影响。
<ul>
<li>ProctorExam 是一个在线考试监控的服务，剑桥领思考试应该是使用了
ProctorExam 的服务。</li>
</ul></li>
</ul>
<h1 id="备考资源">备考资源</h1>
<ul>
<li><a href="http://www.cambridgeenglish.cn/exams-and-tests/linguaskill/information-about-the-test/practice-materials/">官方在线练习</a>
<ul>
<li>练习的题目模式和考试类型是一致的，只不过题目的数量比较少。</li>
</ul></li>
<li><a href="https://www.bilibili.com/video/BV16Z4y1W764?spm_id_from=333.905.b_72656c61746564.1">万象教育
Linguaskill 公开课</a>
<ul>
<li>通过对着智能语音录入软件练习口语大声朗读的能力。</li>
</ul></li>
</ul>
<!--

备考
写作（考试会有倒计时 一共45mins）一篇邮件 15mins内 （包括阅读题目+思考+打完字后语法单词拼写检查）最好写到180字以上（平时练习的话 控制在12mins左右）大作文report、书信、review、article都有可能 30mins内 最好写到300字左右 平时练习写作要着重练习打字速度和思维方式 我备考时7天不到的时间 写了一共30、40篇 每天必须计时练习 在这里给大家推荐一个网站 write&improve非常棒 平时可以点击B2first 输入自己的作文可以给自己的文章打分 打分很准 我从一开始的160多练到187到最后考试出分175+作文练到后面发现单词可以不用多高级 注重变化 语法也不用多复杂 句子不要过于单调就行 最重要的是观点 观点一定要多 从多个角度切入去讨论topic 句子与句子之间一定要存在合理的逻辑这样作文分数就很高了

平时练习第一题我是根据口语素材准备 第二题每天花半个小时读一读句子 不难 第三题我背了一个万能模版 然后根据不同的话题往里面套 第四题就随缘 第五题我也是背了口语素材考试的时候口语可以放在后面考 当时我先考了口语 由于网络不稳定 一直卡然后刷新 导致十分影响我的口语成绩 大家可以根据状态 擅长程度来安排各科考试顺序 总的考试会有倒计时 会提醒你距离考试结束还有多久不用理会 你自己顾自己慢慢做就好啦！（除了写作和口语 一定要抓紧时间有倒计时）我那时候考完试 总的时间已经显示-47mins了 （因为之间网络断了 还去跟技术人员沟通 ）没事的！ 全部考完点击完成考试就可以啦
-->
]]></content>
      <categories>
        <category>English</category>
      </categories>
      <tags>
        <tag>English</tag>
      </tags>
  </entry>
  <entry>
    <title>第五次剑桥领思考试回忆</title>
    <url>/English/fifth-linguaskill/</url>
    <content><![CDATA[<p>[toc]</p>
<p>因为 <a href="http://www.waylon.one/English/third-linguaskill/">第三次</a> 和 <a href="http://www.waylon.one/English/fourth-linguaskill/">第四次</a>
的口语成绩都不理想，自己被迫报考了第五次领思考试，自己在 2020 年 8 月 15
日下午 6:00 参加了第五次领思考试。</p>
<p>在这次考试中，自己依然看到了熟悉的题目，但是对于这些熟悉的题目，自己依然没有积极准备，空留遗憾，看来需要在靠前把这些题目温习一下。</p>
<p>在这次考试中，又遇到了几次网络断线，自己基本也清楚这个套路，最后在超过考试时间
(3 小时) 30+ 分钟的时候交卷。</p>
<h1 id="speaking">Speaking</h1>
<h2 id="part-1">Part 1</h2>
<ul>
<li>What work would like to do in the future?
<ul>
<li>It's to be an Autonomous Driving Engineer in the future. Autonomous
Driving is transforming the transport, which can lessen the traffic
problems caused by human drivers, a very meaningful career. Besides, I
can put what I have learned at school into practice.<br>
</li>
</ul></li>
<li>What's you favorite weather?
<ul>
<li>I like sunny ['sʌnɪ adj. 阳光充足的；快活的] weather in the daytime,
since I can spend time outdoors without suffering ['sʌfə
vi. 遭受，忍受；受痛苦] from the cold &amp; rain. Yeah, I enjoy practicing
sports and ==being out in the nature== because it makes me feel alive
[ə'laɪv adj. 活着的；活泼的；有生气的].</li>
</ul></li>
</ul>
<!--
自己回答成气候，答非所问，估计会扣分。
-->
<ul>
<li>What you did last week?
<ul>
<li>I finished /ˈfɪnɪʃt/ a slide presentation in my work, and I read a
book called &lt;Poor dad, Rich dad&gt; in the weekend, and it inspired
me <strong>on</strong> many levels.</li>
</ul></li>
<li>How often do you use you mobile phone?
<ul>
<li>On a daily basis, almost every moment. I like using my mobile phone
to contact /ˈkɒntækt/my friends online and keep up to date with them,
and reading the latest news from the internet. I can have a good
relationship with my friends and know what happens in the world via
/ˈvaɪə/prep. 经由，通过 a mobile phone.</li>
</ul></li>
</ul>
<h2 id="part-2">Part 2</h2>
<ul>
<li>presentation /ˌpreznˈteɪʃn/</li>
<li>library /ˈlaɪbrəri/</li>
<li>Dr.</li>
</ul>
<h2 id="part-3">Part 3</h2>
<ul>
<li>A technology you want to own (电子产品)
<ul>
<li>到底是什么呢？</li>
<li><a href="https://hinative.com/en-US/questions/6627491">a piece of
technology（not computer-related）</a></li>
</ul></li>
</ul>
<h2 id="part4">Part4</h2>
<ul>
<li>如何从 hotel 到达 theme park
<ul>
<li>自己只会说 turn left，和一些方位词，却没有额外的信息。</li>
</ul></li>
</ul>
<h2 id="part5">Part5</h2>
<ul>
<li>锻炼身体类话题
<ul>
<li>do regular exercice 为什么重要</li>
<li> sleep for 8 hours 重要吗</li>
<li> what's the difficult for sb in exercise</li>
<li>how to keep fit
<ul>
<li>锻炼身体和饮食</li>
</ul></li>
</ul></li>
</ul>
<h1 id="listening">Listening</h1>
<h1 id="reading">Reading</h1>
<h1 id="writing">Writing</h1>
<ul>
<li>朋友在你的城市找到工作</li>
<li>在一个海边度假的酒店，为什么选择它，喜欢和不喜欢什么，会推荐这个酒店的地方吗（location
of the hotel）</li>
</ul>
]]></content>
      <categories>
        <category>English</category>
      </categories>
      <tags>
        <tag>English</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 frp 实现内网穿透搭建内网服务</title>
    <url>/Ubuntu/website/frp/</url>
    <content><![CDATA[<p>在工作和生活中，我们经常需要在外部访问我们家中的主机。然而，由于主机处于内网中，外部设备
(公网) 很难直接连接到主机以获取所需的资料。</p>
<p>本文将介绍一种通过内网穿透软件来搭建内网服务的方法，使得外部用户能够方便地访问和使用内网中的服务和资源。在这个过程中，将会涉及到内网穿透和反向代理的核心技术。</p>
<p>通过调研不同的 <a href="https://juejin.cn/post/7240288077868286010">内网穿透工具</a>，目前主要分为两种类型：</p>
<ul>
<li><p>一种是通过销售硬件设备和流量的方式实现，比如快解析、花生壳、神卓互联、NAT123 等。这些工具拥有自主研发的核心技术，可以在淘宝等平台直接购买和配置。然而，这种方式的缺点是需要付费购买硬件设备，并且免费流量有限制，适合一些专业用户或氪金用户。</p></li>
<li><p>一种是使用免费开源软件（如 frp 和 nps）来搭建内网穿透，不需要额外购买硬件设备，但需要具备公网
IP
的条件。这种方式的优点在于可以根据自己的需求进行定制化配置，后续扩展性强，
但对于新手来说入门门槛较高。</p></li>
</ul>
<p>考虑到使用开源软件的优点，我的本地主机没有敏感信息，流量不设限制，
所以我选择了免费开源软件 -- frp 来搭建内网穿透服务。请注意，虽然 frp
目前使用广泛，但是本身逻辑设计有先天性缺陷，网络安全性差，
非常容易造成网络堵塞，不能长时间连接使用，技术不够成熟.</p>
<h1 id="我的应用场景">我的应用场景</h1>
<ul>
<li>在办公室或外出办公时，能够通过远程 ssh 控制家中的另一台电脑；</li>
<li>家中电脑上运行了一个 web
服务，希望能够让非局域网的用户访问到这个服务。</li>
</ul>
<h1 id="工具和材料">工具和材料</h1>
<ul>
<li>一个云服务器（包含公网 IP）；</li>
<li>本地电脑需要联网；</li>
<li>一个域名（用于多个 web 服务，如果只有 ssh 访问则不需要）。</li>
</ul>
<p>请注意，以下的教程适合具备一定计算机基础的开发者，对于新手来说可能存在一定的配置难度。</p>
<h1 id="我的网络配置示意图">我的网络配置示意图</h1>
<p>我进行了如下的网络配置，以实现通过 frp 在远程访问家中的主机和使用 web
服务的目标。比如，在 ipad 上就可以通过网页连接内网服务上的 stable
diffusion 生成图片。具体示意图如下：</p>
<img data-src="/downloads/images/frp_struct.jpg" class="" title="frp 配置示意图">
<h1 id="frp-是什么">frp 是什么？</h1>
<p><a href="https://github.com/fatedier/frp/tree/dev">frp</a>
是一个专注于内网穿透的高性能的反向代理应用，支持 TCP、UDP、HTTP、HTTPS
等多种协议，且支持 P2P
通信。可以将内网服务以安全、便捷的方式通过具有公网 IP
节点的中转暴露到公网。</p>
<h2 id="内网穿透是什么">内网穿透是什么？</h2>
<p>内网穿透，即 NAT（Network Address
Translator）穿透，是指计算机在内网（局域网）内使用私有 IP 地址，在连接外网（互联网）时使用全局 IP 地址的技术。简而言之，内网穿透可以将内网中的服务暴露到公网，使得这些服务可以通过公网访问。</p>
<h2 id="反向代理是什么">反向代理是什么？</h2>
<p>反向代理（reverse proxy）是指以代理服务器来接受 internet
上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给
internet
上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。</p>
<h1 id="frp-安装">frp 安装</h1>
<p>你可以参考 <a href="https://gofrp.org/docs/setup/">安装教程</a>
中的详细步骤来下载、部署和配置
frp。该教程提供了安装和开机自启动的指导，具有很好的实用性。</p>
<h2 id="我的配置环境">我的配置环境</h2>
<h3 id="frp-服务端">frp 服务端：</h3>
<p>操作系统：Ubuntu 20.04</p>
<h3 id="frp-客户端设备-1">frp 客户端设备 #1：</h3>
<p>操作系统：Ubuntu 20.04</p>
<h3 id="frp-客户端设备-2">frp 客户端设备 #2：</h3>
<p>操作系统：Ubuntu 22.04</p>
<h2 id="如何设置-frp-支持多个本地网页终端">如何设置 frp
支持多个本地网页终端</h2>
<p>在我本地的开发机器 #2 ，部署了 stable diffusion 和 Jupyter Notebook
两个 web 应用，它们通过指定的本地端口提供服务，例如通过
<code>127.0.0.1:8080</code> 可以访问
jupyter。由于这些应用都部署在本地，无法直接从公网访问，因此 #2
主机需要配置 frpc 服务来支持公网访问。</p>
<h3 id="多-web-服务主机配置">多 web 服务主机配置</h3>
<p>在 #2 的 frp 的配置文件（frpc.ini）添加下面的内容</p>
<figure class="highlight plaintext"><figcaption><span>[frpc.ini]</span></figcaption><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">[common]</span><br><span class="line">server_addr = 1.2.3.4     # 替换成公网 IP</span><br><span class="line">server_port = 1234        # 替换成开放的 Port</span><br><span class="line"># 此处省去 token 等配置</span><br><span class="line"></span><br><span class="line">[web1]   # 此处配置用于远程访问内网电脑上的 A 服务</span><br><span class="line">type = http</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = port1</span><br><span class="line">custom_domains = a.my_domain.com</span><br><span class="line"></span><br><span class="line">[web2]   # 此处配置用于远程访问内网电脑上的 B 服务</span><br><span class="line">type = http</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = port2</span><br><span class="line">custom_domains = b.my_domain.com</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>在上述配置中，我们使用不同的 <code>custom_domains</code>（例如
<code>a.my_domain.com</code> 和 <code>b.my_domain.com</code>）以及不同的
<code>local_port</code>（例如 <code>8888</code> 和
<code>9999</code>）来区分两个本地网页终端。在实际应用中，通过
custom_domains:vhost_http_port 就可以访问内网的 web 项目.</p>
<h3 id="vps-服务器配置">VPS 服务器配置</h3>
<p>在 frp 服务器上配置相应的转发规则，将请求转发到本地网页终端。你可以在
frps.ini 配置文件中进行设置。</p>
<figure class="highlight plaintext"><figcaption><span>[frps.ini]</span></figcaption><table><tbody><tr><td class="code"><pre><span class="line">[common]</span><br><span class="line">bind_port = 1234</span><br><span class="line">token = xxxx</span><br><span class="line">vhost_http_port = 8888</span><br><span class="line">dashboard_port = xxxx</span><br><span class="line">dashboard_user = xxxx</span><br><span class="line">dashboard_pwd = xxxx</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>通过以上配置，你可以通过 <code>a.my_domain.com:8888</code>
访问第一个本地网页终端，通过 <code>b.my_domain.com:8888</code>
访问第二个本地网页终端。</p>
<h2 id="frp-如何支持多个服务端">frp 如何支持多个服务端</h2>
<p>如果你想要支持多个服务端，需要在每个客户端安装一个 frpc
服务，并根据每个设备的差异进行配置，确保每个设备的
<code>remote_port</code> 不重复即可。</p>
<p>上文提到，本地有两台主机，如果想让两台主机都可以远程访问，
需要在每个客户端安装一个 frpc 服务.</p>
<h3 id="设备-1">设备 #1</h3>
<figure class="highlight plaintext"><figcaption><span>[frpc.ini]</span></figcaption><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">[common]</span><br><span class="line">server_addr = 1.2.3.4     # 替换成公网 IP</span><br><span class="line">server_port = 1234        # 替换成开放的 Port</span><br><span class="line"># 此处省去 token 等配置</span><br><span class="line"></span><br><span class="line">[ssh1] # 若有多个客户端，名称不要重复。</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 22</span><br><span class="line">remote_port = 2345 # 远程连接端口不要重复</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h3 id="设备-2">设备 #2</h3>
<figure class="highlight plaintext"><figcaption><span>[frpc.ini]</span></figcaption><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">[common]</span><br><span class="line">server_addr = 1.2.3.4     # 替换成公网 IP</span><br><span class="line">server_port = 1234        # 替换成开放的 Port</span><br><span class="line"># 此处省去 token 等配置</span><br><span class="line"></span><br><span class="line">[ssh2] # 若有多个客户端，名称不要重复。</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 22</span><br><span class="line">remote_port = 3456 # 远程连接端口不要重复</span><br><span class="line"></span><br><span class="line"># 此处省去 web 等配置</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h3 id="vps-服务器配置-1">VPS 服务器配置</h3>
<figure class="highlight plaintext"><figcaption><span>[frps.ini]</span></figcaption><table><tbody><tr><td class="code"><pre><span class="line">[common]</span><br><span class="line">bind_port = 1234</span><br><span class="line">token = xxxx</span><br><span class="line">vhost_http_port = 8080</span><br><span class="line">dashboard_port = xxxx</span><br><span class="line">dashboard_user = xxxx</span><br><span class="line">dashboard_pwd = xxxx</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>根据提供的示例，两台机器都绑定服务器的 1234
端口，但是远程连接的端口不同，第一台机器的远程连接端口为
<code>2345</code>，第二台机器的远程连接端口为 <code>3456</code>。假设 #1
用户名为 test1, #2 用户名为 test2, 那么</p>
<figure class="highlight plaintext"><figcaption><span>[#1 机器连接]</span></figcaption><table><tbody><tr><td class="code"><pre><span class="line">ssh  -oPort=2345 test1@1.2.3.4</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight plaintext"><figcaption><span>[#2 机器连接]</span></figcaption><table><tbody><tr><td class="code"><pre><span class="line">ssh  -oPort=3456 test2@1.2.3.4</span><br></pre></td></tr></tbody></table></figure>
<h1 id="安全性">安全性</h1>
<h1 id="参考资料">参考资料</h1>
<ul>
<li><a href="https://gofrp.org">frp 文档</a></li>
<li><a href="https://github.com/fatedier/frp/tree/dev">frp
github</a></li>
<li><a href="https://www.cnblogs.com/TianyuSu/p/11961994.html">frp
配置多个 web 项目，无需购买域名</a>
<ul>
<li>参考 frpc.ini 配置，但是 custom_domains 使用自己的域名，
没有通过配置本地 host 文件来使用虚假域名.</li>
</ul></li>
<li><a href="https://www.cnblogs.com/wangyuyu/p/14312431.html">frp 用一个服务器进程 frps 连接多个客户端 frpc</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/370476621">frp 内网穿透，实现局域网网页，外网访问</a>
<ul>
<li>对单个 web 应用，custom_domains 也可以设置为服务器 IP 地址，不用域名
(亲测可行) ; 多个 web 端不可行.</li>
</ul></li>
</ul>
]]></content>
      <categories>
        <category>Ubuntu</category>
        <category>website</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
      </tags>
  </entry>
  <entry>
    <title>我踩过的 C Plus Plus 的坑</title>
    <url>/Programming/hole-for-c-plus-plus/</url>
    <content><![CDATA[<h1 id="拷贝还是复制">拷贝还是复制</h1>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">for (auto occupant_in_yield_zone_state : occupant_in_yield_zone_states_) {}</span><br><span class="line"></span><br><span class="line">for (auto&amp; occupant_in_yield_zone_state : occupant_in_yield_zone_states_) {}</span><br></pre></td></tr></tbody></table></figure>
<h1 id="运算符的区别">运算符的区别</h1>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">// 加号优先级高，三元运算符 从右向左 解析</span><br><span class="line">single_sum = (l1!=nullptr?l1-&gt;val:0) + (l2!=nullptr?l2-&gt;val:0) + next_tmp;</span><br><span class="line"></span><br><span class="line">single_sum = l1!=nullptr?l1-&gt;val:0 + l2!=nullptr?l2-&gt;val:0 + next_tmp;</span><br><span class="line"></span><br><span class="line">等同于</span><br><span class="line"></span><br><span class="line">single_sum = l1!=nullptr?l1-&gt;val:[(0 + l2)!=nullptr?l2-&gt;val:(0 + next_tmp)];</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><a href="https://zh.cppreference.com/w/cpp/language/operator_precedence">c++
运算符优先级</a></li>
<li><a href="https://blog.csdn.net/misayaaaaa/article/details/62417326">C++
右结合律与左结合律详解</a></li>
</ul>
<blockquote>
<p>表达式 a &gt; b ? b &gt; c ? 1 : 0 : 2 将被解析为 a &gt; b ? (b&gt; c
? 1 : 0) : 2。</p>
</blockquote>
<h1 id="boostgeometrycovered_by">boost::geometry::covered_by</h1>
<h2 id="int64_t-vs-int">int64_t vs int</h2>
]]></content>
      <categories>
        <category>Programming</category>
      </categories>
      <tags>
        <tag>Programming</tag>
        <tag>C Plus Plus</tag>
      </tags>
  </entry>
  <entry>
    <title>桂林三日游记</title>
    <url>/Trip/guilin-trip-2021/</url>
    <content><![CDATA[<!--guilin_aba_trip_2021-->
<p>2021 年 7 月 26
日晚，因为四川绵阳有疫情，我们不敢在成都多做逗留，从阿坝回到成都后，直接坐飞机直达桂林，所以在桂林的行程比较随意，缺乏规划。</p>
<span id="more"></span>
<!--多亏这次的果断，成都后来的疫情变得严重，我们躲过一次隔离。-->
<h1 id="第一天-桂林市区">第一天 桂林市区</h1>
<p>我们在桂林的第一天主要做休整，打算逛逛市区景色，<strong>象鼻山</strong>，<strong>两江四湖</strong>，以及不太知名的西山景区。</p>
<p>7
月份的桂林是非常炎热的，正午出门会汗流不止。因为我们的时间规划的比较紧，所以在酒店休息好，就顶着酷热出门了。</p>
<h2 id="两江四湖">两江四湖</h2>
<p>我们住宿的酒店处于市中心，我们绕着城区的水域，徒步去我们在桂林的第一站 -- 西山公园。毫不夸张，只要你在桂林市区内行走，你就是漫步在两江四湖路线中。</p>
<p>桂林 “<a href="https://baike.baidu.com/item/%E4%B8%A4%E6%B1%9F%E5%9B%9B%E6%B9%96/596257">两江四湖</a>”，即指漓<strong>江</strong>、桃花<strong>江</strong>、木龙<strong>湖</strong>、桂<strong>湖</strong>、榕<strong>湖</strong>、杉<strong>湖</strong>，基本把桂林市的环城水系连通起来。</p>
<p>因为夜间两江四湖部分路段有灯光夜景，所以<strong>夜游两江四湖</strong>是一个热门旅游项目，但是门票实在贵，我们选择徒步溜达，来体验 “千山环野立，一水抱城流”。</p>
<!--台联酒店-->
<p>我们环城徒步路上，经过象鼻山公园，在外面远远眺望一下。这个景点大概是因为在语文课本上出现，所以现在是一个热门景点，<strong>象鼻山整个山形确实酷似一头驻足漓江边临流饮水的大象</strong>。</p>
<p><img data-src="/downloads/images/xiangbi_mount.JPG"></p>
<p>我们基本是绕着日月双塔，在唐代佛塔基础上于 2001 年重建的，是<a href="https://baike.baidu.com/item/%E4%B8%A4%E6%B1%9F%E5%9B%9B%E6%B9%96/596257">两江四湖</a>环城水系中最著名的旅游景点。</p>
<blockquote>
<p>日月双塔的可以在杉湖沿岸观看，观看最佳时间是晚上，每晚双塔的灯光会打亮，一座为金黄色灯光，另一座为银白色灯光，而白天灯光熄灭后的视觉效果并不好。</p>
</blockquote>
<figure>
<img data-src="/downloads/images/sun_lunar_towers.JPG" alt="燥热的日月双塔">
<figcaption aria-hidden="true">燥热的日月双塔</figcaption>
</figure>
<p><img data-src="/downloads/images/sun_lunar_towers_night.JPG" alt="日月双塔夜景"><img data-src=""></p>
<h2 id="西山公园">西山公园</h2>
<blockquote>
<p>西山景区，是桂林市内较早被开发的旅游景区，也是桂林市第二大综合性公园。景区由西山群峰、西湖及隐山组成，区内群峰环绕耸立，西湖、桃花江相映带，形成山重水复的奇景。登山后，可以俯瞰桂林市区，远眺群峰。</p>
</blockquote>
<p>如果再给我一次选择，我是不会选择徒步去西山公园的，外面的天气实在太热了。</p>
<p>西山和尧山在当地都比较知名，但是西山坐落在市区，尧山稍微远点，所以我们最后选择爬
<a href="https://www.maigoo.com/citiao/114795.html">西山</a>。</p>
<p>我们大概在下午 3
点半开始爬西山，那时候山上植被的湿气很重，在阳光照射下非常炎热，满身流汗，行走非常艰难。</p>
<h3 id="爬上去你会发现一切都值得">爬上去，你会发现一切都值得</h3>
<p>原来以为西山公园只有一个山峰，结果爬上去才发现，山峰连绵，山的那头还是山。我们连续攀爬了几个山头，高度逐渐攀升，看到的景色也越来越美丽。</p>
<p><img data-src="/downloads/images/xihu_in_gulin.JPG" alt="俯瞰西湖"><img data-src="/downloads/images/xihu_mount.JPG" alt="远眺桂林城区"></p>
<p>没错，等你攀登上高峰，你不仅可以俯瞰桂林市区，还可以远眺远处的喀斯特地貌。站在高处，我感觉桂林处于一个盆地中，被包围在群山之中。</p>
<figure>
<img data-src="/downloads/images/xishan_panorama.JPG" alt="西山峰顶全景">
<figcaption aria-hidden="true">西山峰顶全景</figcaption>
</figure>
<p>我们来的比较凑巧，能够站在顶峰看日落。当快到黄昏时，夕阳西照在西峰上，撒在各峰的缝隙处，美丽又舒心。</p>
<!--猜测是观音峰-->
<figure>
<img data-src="/downloads/images/xifeng_sunset-5930252.jpg" alt="xifeng_sunset">
<figcaption aria-hidden="true">xifeng_sunset</figcaption>
</figure>
<p>比较遗憾的一件事情，因为西峰比较陡峭，我们没有爬上去，远远望过去攀登者需要手脚并用才能够爬上去，难度比较高。</p>
<p><img data-src="/downloads/images/strange_plants.jpg" alt="strange_plants"><img data-src=""></p>
<h2 id="夜逛两江四湖">夜逛两江四湖</h2>
<p>我们从西山公园出来天色已经不早，我们先是品尝了 “李记阳朔啤酒鱼”，然后绕着桂林市区闲逛，那时天气不再炎热，游客比较多，又一次路过 “象鼻山公园” 和 “日月双塔 “，这两处在灯光的装饰下五彩斑斓，是夜游两江四湖的重要景点。</p>
<p><img data-src="/downloads/images/gulin_night.JPG" alt="桂林夜景"><img data-src=""></p>
<p>我们最后慢悠悠地逛到<strong>正阳步行街</strong>，紧挨着靖江王府景点，是桂林一条具有千年历史的古老街道，那里是夜市最热闹的地方。踏着古味浓郁的青石板路，赏繁华美丽的街市灯火。</p>
<!--我们两个人乘坐着共享电单车回来，一路上非常忐忑，生怕遗落。-->
<h1 id="第二天-阳朔漓江游">第二天 阳朔漓江游</h1>
<p>游漓江的方式多种多样，我们选择从桂林的<strong>磨盘山码头</strong>出发，乘坐游船一路顺流而下到阳朔的<strong>龙头山码头</strong>，沿途游览两岸漓江风光，看到的景色是最完整的。</p>
<figure>
<img data-src="/downloads/images/lijiang_guide.JPG" alt="漓江景区导游全览图">
<figcaption aria-hidden="true">漓江景区导游全览图</figcaption>
</figure>
<p>注意：磨盘山码头离市区比较远，如果不是自驾游，可以<strong>提早一天</strong>在携程上购买<strong>漓江三星游船票</strong>，费用
220 元 / 人，包含在桂林市区内接送到磨盘山码头的费用。</p>
<h2 id="游船逛漓江">游船逛漓江</h2>
<p>因为从市区到码头需要一段路程，当天早晨旅行社在 7
点左右到酒店接驳，我们乘坐大巴车花费一个多小时，才到达磨盘山码头，然后自行乘船游览，船上没有导游。</p>
<p>因为我们提前买票比较晚，安排的游船出发时间也相对晚一点，我们是 9
点前到达码头，10 点整才出发，最后在下午 1
点多抵达<strong>龙头山码头</strong>，游览时间比较长，但是游船空间宽松，游客不拥挤，行驶平稳，没有晕船的感觉。</p>
<blockquote>
<p>三星级游船分三层：第一层因为靠近发动机等，声音比较大，比较吵；第二层价格要比第一层贵一点，视野相对好一点；第三层是露天观光层，没有遮挡，游客可以自行上去观光和拍照。</p>
</blockquote>
<p>旅游攻略都会提醒到，漓江乘船全程是 4 小时，但是精华景点主要在前面 2
小时，比如 “九马画山” 和 “黄布倒影”。</p>
<p>因为我们是 7
月份过去，正好是桂林的雨季，漓江的水不是清澈见底，甚至有点浑浊，看不到水底的石头；漓江的水非常浅，我甚至怀疑会不会搁浅呢？那一天天气不是特别晴朗，湿气比较重，云彩比较多，所以拍的照片色调比较差，有点灰蒙蒙的感觉。</p>
<p>游览漓江的景点，需要靠想象力勾勒出来，有点像<strong>皇帝的新衣</strong>，如果说看不出来显得自己会比较笨，尤其是在<strong>九马画山</strong>景点。</p>
<ul>
<li>因为游览过程是动态的，所以你需要时刻准备好相机才能抓拍到好的角度，否则一旦错过角度就比较难拍到了。</li>
<li>黄布倒影，20 元人民币的背面景点，需要站在船尾向后看。</li>
</ul>
<p>驶过<strong>黄布倒影</strong>景点后，后面一个小时的行程，和刚才的景点比起来，山水变化不多，没有太多特色，有点平淡无奇，容易审美疲劳。</p>
<p>因为在雨季去的，所以漓江的水并不是清澈见底，反而有点浑浊，你是看不到底部的，但是漓江水比较浅，你可能会怀疑会不会搁浅呢？分享几个热门的景点</p>
<h2 id="十里画廊">十里画廊</h2>
<p>我们到达阳朔 XX 码头后，对阳朔的西街等景点不感兴趣，我私下认为两个地方的差异不大，逛逛和吃吃。</p>
<ul class="task-list">
<li><input type="checkbox" disabled="">
我们在出口租了辆电动车，60 元 / 辆，押金 300 元，骑行去十里画廊逛逛，然后在遇龙河漂流。</li>
</ul>
<p>在遇龙河漂流，我们的路线是，你不用担心停车的问题，你在十里画廊的某一段，乘坐摆渡车到达遇龙河上游，然后在竹筏下来，回到起点，在骑车即可。</p>
<p>如果说漓江是人在画中游，那么十里画廊就是骑在画廊中，铺设有专门的自行车道，你可以看两侧的奇山异石，但是这和桂林的风格差不多，更多是享受骑电动车的感觉，速度可以飙到
50 码，还是很危险的。</p>
<h3 id="遇龙河漂流">遇龙河漂流</h3>
<p>我们在附近停车，然后在这里乘坐摆渡车即可，你可以把电动车免费停到停车场。先不用买票。摆渡车会把你送到起点，这一出可以买票，你乘坐竹筏顺流而下，一般半个小时就能打到起点。</p>
<p>竹筏漂流不太刺激，只有上次人工造成的落差，是纯手工的，所以价格比较贵，一个竹筏可以乘坐两位，售价
160 元。</p>
<p>我们在漂流的过程中，突然天空风雨大作，紧急停靠到岸边，在河中心很容易侧翻。尽管有雨伞庇护，但是还是淋成一个落汤鸡。广西的雨来得快，走得快。</p>
<p>我们到达起点后，继续骑车前行，大概汽车到柳州地界附近，然后折返回来。回来的时候，突然看到彩虹，感觉一切都值得。</p>
<p><img data-src="/downloads/images/yangshuo_rainbow.JPG" alt="yangshuo_rainbow"><img data-src=""></p>
<p>据导游说，阳朔的消费要比桂林高。</p>
<p>因为见过太多同质化的老姐，所以对西街不感兴趣，所以当天没有在龙脊留宿。</p>
<p>我们回到码头后，沿路有大师傅啤酒鱼。因为要赶回桂林的火车，所以我们打滴滴，大概一个小时抵达阳朔的高铁站，然后做动车回到桂林。</p>
<h1 id="第三天-龙脊梯田">第三天 龙脊梯田</h1>
<p>桂林除了市区的景点和漓江外，比较出名的就是龙脊梯田。</p>
<p>因为龙脊梯田距离市区比较远，景区入门距离梯田处有比较远，所以我们抱团去。</p>
<p>我们当天是 7 点才桂林市区出发，进入大山深处。先是</p>
<p>途中路过一个农机化肥的街道，给我的感觉像家乡 20 年前的样子，可以感觉到这边的经济发展一般般。</p>
<p>导游先是把我们拉到龙脊梯田游客中心，然后在这里购票等。在这里会换成大巴车（可能景区内的），又是翻山越岭，把我们拉到当地的 “黄洛瑶寨”，特点是长发村。</p>
<h2 id="黄洛瑶寨">黄洛瑶寨</h2>
<p>这是一个消费项目，寨子不大，但是导游后引导我们花费 80
元观看表演；其他不观看表演的，就需要在外面自行活动，等待其他游客。</p>
<p>主要的景点就是一个购物街道，从头走到尾大概 5min 的路程。</p>
<p>我们对这类活动不感兴趣，所以溜达到后面的一条小河里。</p>
<p>我们在后面的小河里，看到了圈养的鸭子，以及蝌蚪大小的小鱼苗。</p>
<p><img data-src="/downloads/images/16296224487179.png" alt="16296224487179"><img data-src=""></p>
<p>我们在当地吃饭，比较有特色的米酒，以及竹筒饭，以及竹筒鸡，消费
60 + 元。</p>
<h2 id="龙脊梯田">龙脊梯田</h2>
<p>我们到龙脊梯田，可以选择做缆车，55 元 / 人 / 趟。</p>
<p>我们选择乘坐缆车上去，你从下面是无法看到梯田的感觉，只能看到平平的一幕。看梯田的最好视角是从高处望下去。</p>
<p>徒步下山的时间是 1 个小时左右。因为是中午下山，所以特别炎热，好水特别多。</p>
<p>我们乘坐缆车半小时登顶，大概 1 点到达山顶，然后两点开始下山，3
点到达起点。</p>
<p>龙脊梯田不是非常推荐，因为往返各需要 3 小时；梯田属于静态景观，可能一个小时就审美疲劳了，不会玩那么久。所以，基本是一天充满，最后就是看到了 1～2 小时的梯田景色。</p>
<p>我之前没有看到过梯田，第一次见到梯田还是很震撼的，梯田需要修葺。这么美丽的梯田，需要人工的不断维护，否则很容易被山洪冲坏，塌陷，感谢他们为我们留下这一片景色。</p>
<p>我们游览龙脊梯田时，天空比较多云，甚至在山顶上还下雨呢。在雨中观看梯田，不太刺眼，被冲洗的绿油油的，有一种甜美的江南水乡的感觉，朦胧感强烈。</p>
<p><img data-src="/downloads/images/longji_terrace.JPG" alt="longji_terrace"><img data-src=""></p>
<p><img data-src="/downloads/images/longji_terrace_1.JPG" alt="longji_terrace_1"><img data-src=""></p>
<p>大概 6 点多到达桂林市区，我们去
“卓漫私房菜” 吃饭，然后去沃尔玛超市。</p>
<p>因为后面的行程安排，我们在第 4
天早晨，离开桂林市，乘坐动车去北海市。可能</p>
<h1 id="饮食">饮食</h1>
<ul>
<li>啤酒鱼，大师傅啤酒鱼</li>
</ul>
]]></content>
      <categories>
        <category>Trip</category>
      </categories>
      <tags>
        <tag>Journey</tag>
      </tags>
  </entry>
  <entry>
    <title>how to create gif in Ubuntu / 如何在 Ubuntu 系统上录制 gif</title>
    <url>/Ubuntu/how-to-create-gif/</url>
    <content><![CDATA[<p>ps. 本文实时更新于<a href="http://www.waylon.one/Ubuntu/how-to-create-gif/">个人网站</a>，请移步阅读。</p>
<p><a href="https://baike.baidu.com/item/GIF/217778?fr=aladdin">Gif</a>
是当下较为流行的一种交流方式，其文件比视频小，而且比 jpg
图片生动形象，所以不仅在微薄、QQ
等社交中尤为常见，而且适用于产品和功能的展示。同时，Gif
文件大小一般是普通 MP4 格式的数倍。</p>
<blockquote>
<p>GIFs are an average of 5-10 times larger than an efficiently encoded
MP4 video. This difference in size means that GIFs waste a large amount
of bandwidth and also load at a slower rate leading to a bad user
experience.</p>
</blockquote>
<p>下文主要分享下如何在 Ubuntu 18 上录制 gif 动画以及处理 gif
文件，不必动用到 Windows 中像 Photoshop 这样的神器。</p>
<h1 id="软件需求">软件需求</h1>
<ul>
<li><a href="https://blog.csdn.net/liuxiabing150/article/details/45872783">ImageMagick</a>
&gt; ImageMagick 是一款用于创建、编辑和合并位图图像的一款开源软件。</li>
<li><a href="https://www.linuxidc.com/Linux/2017-12/149744.htm">byzanz</a> &gt;
byzanz 是通过输入命令方式来录制文件小、清晰的 GIF 动态效果图。</li>
</ul>
<h1 id="gif-录制">Gif 录制</h1>
<p>本文使用 byzanz 来录制 Gif，其主要的参数选项有：</p>
<table>
<thead>
<tr class="header">
<th>参数</th>
<th>单位</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td> -d, --duration</td>
<td>SECS</td>
<td> 动画的时间 (默认：10 秒)</td>
</tr>
<tr class="even">
<td>--delay</td>
<td>SECS</td>
<td> 开始之前的延时 (默认：1 秒)</td>
</tr>
<tr class="odd">
<td>-c, --cursor</td>
<td></td>
<td> 录制鼠标光标</td>
</tr>
<tr class="even">
<td> -a, --audio</td>
<td></td>
<td> 录音</td>
</tr>
<tr class="odd">
<td> -x, --x</td>
<td> 像素</td>
<td>要录制矩形的 X 坐标</td>
</tr>
<tr class="even">
<td> -y, --y</td>
<td> 像素</td>
<td>要录制矩形的 Y 坐标</td>
</tr>
<tr class="odd">
<td> -w, --width</td>
<td> 像素</td>
<td>录制矩形的宽度</td>
</tr>
<tr class="even">
<td> -h, --height</td>
<td> 像素</td>
<td>录制矩形的高度</td>
</tr>
<tr class="odd">
<td> -v, --verbose</td>
<td></td>
<td> 详细</td>
</tr>
<tr class="even">
<td> --display</td>
<td></td>
<td> 要使用的 X 显示</td>
</tr>
</tbody>
</table>
<h2 id="例子">例子</h2>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">byzanz-record -d 10 --delay=5 -x 0 -y 0 -w 1440 -h 900 out.gif  </span><br></pre></td></tr></tbody></table></figure>
<p>上面的命令是录制屏幕坐标 (0,0) 处宽度 1440 像素、高度 900 像素的矩形区域 (指定的坐标为矩形左上角)，延时 5 秒开始录制，录制时间 10s，输出文件 out.gif。</p>
<h1 id="gif-合并">Gif 合并</h1>
<p>如果想将录制的多个 Gif 合并成一个文件，只需将要合并的文件存到同一文件夹当中，再执行如下命令即可，不需要安装其他软件，Ubuntu 比 Windows 强大之处。</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">convert -delay 120 -loop 0 *.gif output.gif</span><br></pre></td></tr></tbody></table></figure>
<p>其中，"-delay 120" 表示 Gif 动画速度，"-loop 0" 表示无限循环。</p>
<h1 id="参考文献">参考文献</h1>
<p><a href="https://www.maketecheasier.com/record-screen-as-animated-gif-ubuntu/">Record
Screen as Animated GIF in Ubuntu with Byzanz</a></p>
<p><a href="https://www.trellis.co/blog/gifs-vs-animated-videos-which-should-you-use">Gifs
vs animated videos - which should you use</a></p>
]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>Gif</tag>
        <tag>byzanz</tag>
      </tags>
  </entry>
  <entry>
    <title>解读 Path Planning with Risk Consideration by Hopping Mobility for Long Distance Traversability</title>
    <url>/paper/hopping-mobility-rover/</url>
    <content><![CDATA[<p>[toc]</p>
<p><a href="https://robotics.estec.esa.int/i-SAIRAS/isairas2018/Papers/Session%204a/4_90kunii-90-113-Kunii-Yasuharu.pdf">文献下载地址</a></p>
<p>本文运用星球跳跃漫游者 (hopping rover)
的移动特性 (可以跳过而不是绕过障碍物)，提出了一种新的路径规划和导航方法，并且讨论了因为跳跃行为和测量误差带来的不确定性。</p>
<blockquote>
<p>In this paper, a navigation method for a small size hopping rover
with advantages on its mobility is discussed by considering with some
uncertainties caused by jumping behavior and measurement error.</p>
</blockquote>
<p>和通常的路径规划一样，本文首先从环境数据中提取障碍物，构建三角形
(triangular polygons) 的环境网格，然后使用 A star
算法来规划安全的路径。其中，算法着重考虑了和障碍物的碰撞风险，复杂地形
(roughness of terrain) 和失败的跳跃行为 (failures of hopping
action)。</p>
<blockquote>
<p>By extracting obstacles from environmental data and constructing
triangular polygons it is possible to form paths. The algorithm
considers with safety of collision with obstacles, roughness of terrain
and failures of hopping action, and then could generate safer path based
on A* algorithm.</p>
</blockquote>
<p>多平台维护不易，内容实时更新于 <a href="http://www.waylon.one/paper/hopping-mobility-rover/">个人网站</a>，请移步阅读最新内容。</p>
<h1 id="introduction">INTRODUCTION</h1>
<p>目前，月球等星球的表面探索主要是使用一个笨重的履带机器人 (heavy wheel
rovers)，但是履带机器人开发周期长，发射时极少，对安全的需求要求更多的资源来保障，甚至进入了恶性循环。</p>
<p>作者提出一种新的方法，使用多个轻量紧凑的探索机器智能体 (light and
compact exploration robot agent) 来共同工作，构成一个大的智能体。</p>
<blockquote>
<p>One possibility is the introduction of a light and compact
exploration robot agent, and it is possible that multiple types of
agents work together in one system. Various roles (functions) can be
played on various kinds of equipment, and all of them can constitute one
exploration system.</p>
</blockquote>
<p>一个创意：通过将同样的功能分散到若干个智能体上，可以忽略一定程度的智能体功能失效，那么风险被分散到整个大系统上，有可能获得较高的效率。</p>
<blockquote>
<p>By allocating the same function (equipment) to some or many of them,
it is possible to ignore some percentage of the agent's loss rate, so
that risk can be distributed to the system and the mission and there is
a high possibility of obtaining higher efficiency.</p>
</blockquote>
<figure>
<img data-src="/downloads/images/blog/hopping_mobility_multi_exploration.png" alt="Multi Exploration">
<figcaption aria-hidden="true">Multi Exploration</figcaption>
</figure>
<p>虽然小机器人 (A small size rover) 因为大小 (size) 和重量 (weight)
有很多优势，但是其移动性 (traversability) 和测量能力 (measurement)
却受到局限。</p>
<blockquote>
<p>However, its size causes problems on its traversability and
measurement ability.</p>
</blockquote>
<p>所以，可以引入跳跃行为 (hopping mobility) 来获得更高的移动性能
(higher traversability) 和更广的测量范围 (wider measurement range)。</p>
<blockquote>
<p>We have introduced hopping mobility to obtain higher traversability
and wider measurement range.</p>
</blockquote>
<p>通过固定区域的地面机器人 (land-based agent)
和跳跃机器人互相配合，来构成探测系统 (exploration system)。</p>
<blockquote>
<p>Introduction of two types of rovers is being considered in the
exploration system. One is a land-based agent and a stochastic existence
region is given in the search region, contributing to the search of the
ground surface. The other is hopping rover. the rover that makes path
planning taking advantage of sensing from high places while moving the
exploration area together with the ground moving rover plays an
important role.</p>
</blockquote>
<ul>
<li>相比轮式机器人，在低重力环境下 (low gravitational
environment)，可以通过跳跃的方式跳过障碍物，从而抄近路 (adopt a
short-cut path)。</li>
</ul>
<blockquote>
<p>Especially under low gravitational environment such as other planet
or satellite, it indicates higher performance, e.g.Thus, it can jump
over a long distance upon terrains and obstacles, adopt a short-cut path
without a detour of a wheeled type, and also measure an environment from
higher position in the air of jumping trajectory.</p>
</blockquote>
<figure>
<img data-src="/downloads/images/blog/Advantage_of_hopping_mobility_Jump.png" alt="Advantage of hopping mobility Jump">
<figcaption aria-hidden="true">Advantage of hopping mobility
Jump</figcaption>
</figure>
<h1 id="issue-and-objectives">ISSUE AND OBJECTIVES</h1>
<ul>
<li>为什么导航问题需要研究：现有的导航研究，没有利用跳跃机器人的运动特性
(文章发表于 2017)，所以需要进一步利用跳和远距离的优势来导航。</li>
</ul>
<blockquote>
<p>For a hopping rover, though a lot of jumping hardware designs have
been studied, its software e.g. navigation algorithms have been
discussed hardly. So, the navigation method hasn't been established by
taking advantage of <strong>hopping mobility such as jumping over
obstacles</strong> or <strong>a long distance</strong> yet.</p>
</blockquote>
<p>本文利用跳跃机器人的运动特性，基于对移动性和测量数据的风险考虑，提出一种导航方法 (主要是如何规划路径)。</p>
<blockquote>
<p>In this paper, a navigation method for a small size hopping rover
with advantages on its mobility is discussed with some risk
considerations on its mobility and measured data.</p>
</blockquote>
<h1 id="path-planning-for-hopping-mobility">PATH PLANNING FOR HOPPING
MOBILITY</h1>
<h2 id="selection-of-jumping-target-position">Selection of Jumping
Target Position</h2>
<p>移动机器人跳跃行为 (jumping motion) 的不确定性包括初始速度变化
(initial speed change)，跳跃距离 (jump distance)，跳跃方向 (jumping
direction)，落地后的束缚 (bound after landing) 以及跳跃失败 (failure of
leap)。</p>
<blockquote>
<p>The uncertainty factor of hopping rover's jumping motion is the
initial speed change, jump distance, jumping direction, bound after
landing, failure of leap.</p>
</blockquote>
<p>因为跳跃行为的不确定性，所以需要选取目标落地点 (landing point)。</p>
<h3 id="如何环境建模">如何环境建模</h3>
<ol type="1">
<li>连接被识别到的障碍物，构成不规则三角形的环境模型。</li>
</ol>
<blockquote>
<p>Each obstacle captured by sensing is connected and the observation
area is divided into triangles</p>
</blockquote>
<ol start="2" type="1">
<li>在观测到的障碍物上使用狄洛尼三角剖分 (Delaunay
triangulation)，可以获得每三个点的外心 (outside
heart)，即可能的落地点。</li>
</ol>
<blockquote>
<p>By using Delaunay triangulation on the observed obstacles, we can set
the landing point.</p>
</blockquote>
<!--MC: 什么是Delaunay triangulation？ [完美三角剖分](https://zhuanlan.zhihu.com/p/34158974)-->
<pre><code>&gt; Delaunay三角剖分定义：平面上的点集P是一种三角剖分，使得P中没有点严格处于剖分后中任意一个三角形**外接圆**的**内部**(可以是圆上)。</code></pre>
<figure>
<img data-src="/downloads/images/blog/hopping_mobility_DT.jpg" alt="Delaunay triangulation demo">
<figcaption aria-hidden="true">Delaunay triangulation demo</figcaption>
</figure>
<p>外心安全设定：假设外心是落脚点，那么它到三个端点的距离是一致的，只要有一定的距离保障，就可以确保安全。</p>
<blockquote>
<p>Since the outer heart is equally distant from each vertex, it can be
said that it is safe if a certain margin can be secured.</p>
</blockquote>
<blockquote>
<p>Safety distance is secured by creating a circumscribed circle (其实是
delaunay triangulation) so as not to include other obstacles in the
circle</p>
</blockquote>
<h2 id="candidate-path-network">Candidate Path Network</h2>
<ol start="3" type="1">
<li>通过连接外心，可以得到一个维诺图 (Voronoi diagram)。</li>
</ol>
<blockquote>
<p>The Voronoi diagram is a method of dividing the region by joining the
outer centers formed by Delaunay triangulation.</p>
</blockquote>
<p>MC: 什么是 Voronoi diagram？ <a href="https://baike.baidu.com/item/%E6%B3%B0%E6%A3%AE%E5%A4%9A%E8%BE%B9%E5%BD%A2/3428661?fromtitle=voronoi&amp;fromid=9089406">Voronoi
diagram</a></p>
<pre><code>&gt; 泰森多边形是对空间平面的一种剖分，其特点是多边形内的任何位置离该多边形的样点（如居民点）的距离最近，离相邻多边形内样点的距离远，且每个多边形内含且仅包含一个样点。</code></pre>
<p>维诺图安全设定：维诺图包含障碍物，那么可以生成安全的节点 (safe
nodes)。</p>
<blockquote>
<p>It can be confirmed that there are no obstacles on the sides of the
Voronoi diagram enclosing the obstacles and safe nodes can be
generated.</p>
</blockquote>
<h2 id="add-uncertainty">Add Uncertainty</h2>
<p>作者设定跳跃运动有一定的不确定度，误差通常是正态分布 (不清楚是否有理论依据)，取决于初始速度，跳的角度，方向角。</p>
<blockquote>
<p>The error is generally given in the form of a normal distribution,
which rides on the initial speed, the jumping angle, and the direction
angle, respectively.</p>
</blockquote>
<p>基于上述假设，rover 在未来的位置误差会累加
(accumulated)，可以使用一个误差椭圆 (error ellipse) 来表示。</p>
<blockquote>
<p>The position of the rover can be indicated as the existence
probability, and generally takes a shape called an error ellipse.</p>
</blockquote>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/hopping_mobility_error_ellipse.png" alt="Rover Position and Error Ellipse 4">
<figcaption aria-hidden="true">Rover Position and Error Ellipse
4</figcaption>
</figure>
<p>MC: 通过椭圆来表示误差和不确定性，算是一个新奇的做法。</p>
<!--

类似的文章有 [Robust Trajectory Planning for a Multirotor against Disturbance based on Hamilton-Jacobi Reachability Analysis](https://ieeexplore.ieee.org/abstract/document/8968126)。

-->
<h1 id="simulation-of-path-planning">SIMULATION OF PATH PLANNING</h1>
<p>作者在一个很理想的环境下仿真，认为对于非质点的、大块的障碍物仍然可以规划出路径，但是没有讲清楚，如何实现？假设障碍物很高，那么跳跃机器人是否就无法跳跃过去呢？</p>
<blockquote>
<p>Even if the obstacle is the size of the black part of the figure.</p>
</blockquote>
<p>在虚拟的月球环境下仿真，比简单的理论仿真，更具有说服力。</p>
<blockquote>
<p>Simulation was also carried out in the virtual lunar environment
created based on the rock distribution collected by “Surveyor 7” of
NASA.</p>
</blockquote>
<p>当在椭圆内的障碍物到达一定比例后，进行位置的自校正 (self-position
estimation)。</p>
<blockquote>
<p>When the occupancy rate of the obstacle in the error ellipse exceeds
the threshold value, the rover performs self-position estimation.</p>
</blockquote>
<h1 id="conclusion">CONCLUSION</h1>
<h2 id="the-results-of-this-research">The results of this research</h2>
<ul>
<li>In consideration of the uncertainty of the hopping rover, we were
able to determine a safe landing point.</li>
<li>By performing self-position estimation in the virtual lunar
environment, it was possible to induce Rover while suppressing position
error.</li>
</ul>
<h2 id="works-to-do">Works to do</h2>
<ul>
<li>路径规划限于 2 维，缺乏对障碍物和跳跃高度的考虑。</li>
<li>如何切分大的障碍物，而不仅仅是把障碍物作为质点考虑。</li>
<li>跳跃机器人的设计，物理构建，环境识别，以及规划好路径后，如何对跳跃行为进行控制，准确抵达目标点。</li>
</ul>
]]></content>
      <categories>
        <category>paper</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>paper</tag>
        <tag>Robotics</tag>
      </tags>
  </entry>
  <entry>
    <title>Install zoom client in Ubuntu 18.04</title>
    <url>/Ubuntu/how-to-install-zoom-in-linux/</url>
    <content><![CDATA[<!--date: 2020-02-06 12:21:22-->
<p>[toc]</p>
<h1 id="whats-zoom">What's zoom</h1>
<blockquote>
<p>Zoom offers communications software that combines video conferencing,
online meetings, chat, and mobile collaboration. Zoom can be installed
on Windows and Linux desktops and mobile devices.</p>
</blockquote>
<p><a href="https://zoom.com.cn/download?os=linux">Zoom's Linux
client</a> allows you to start or join Zoom meetings on Ubuntu, Fedora
and many other Linux distributions.</p>
<h1 id="how-to-install-zoom">How to install zoom</h1>
<p>The following commands would download the Zoom package for Debian
system and install it using the apt package manager.</p>
<ol type="1">
<li><p>Install wget if not installed </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt -y install wget</span><br></pre></td></tr></tbody></table></figure><p></p></li>
<li><p>Download the latest Zoom package </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">wget https://zoom.us/client/latest/zoom_amd64.deb</span><br></pre></td></tr></tbody></table></figure><p></p></li>
<li><p>Install the zoom package </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt install ./zoom_amd64.deb</span><br></pre></td></tr></tbody></table></figure><p></p></li>
<li><p>Check zoom is installed successfully </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">apt-cache policy zoom</span><br></pre></td></tr></tbody></table></figure><p></p></li>
</ol>
<!--copy from apt-cache policy --help-->
<p>apt-cache queries and displays available information about installed
and installable packages, in which policy shows policy settings. The
output information has demonstrated the downloaded package has installed
successfully. </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">zoom:</span><br><span class="line">  Installed: 3.5.352596.0119</span><br><span class="line">  Candidate: 3.5.352596.0119</span><br><span class="line">  Version table:</span><br><span class="line"> *** 3.5.352596.0119 100</span><br><span class="line">        100 /var/lib/dpkg/status</span><br></pre></td></tr></tbody></table></figure><p></p>
<ol start="5" type="1">
<li>Set up zoom in command line <figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">zoom</span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<h1 id="reference">Reference</h1>
<p>None.</p>
<!--
[在Ubuntu 19.04/18.04、Debian 10/9上安装Zoom的方法](https://ywnz.com/linuxrj/5400.html)
-->
]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
  </entry>
  <entry>
    <title>如何阅读一本书 读后感</title>
    <url>/Reading/how-to-read-a-book-summary/</url>
    <content><![CDATA[<p>[toc]</p>
<p>2022 年 11
月末，北京疫情变得严重起来，我开始居家办公。这段时间省下来数个小时的通勤时间，使得自己能够利用晚上的时间，捧起《如何阅读一本书》。我的初步想法是希望阅读这本书可以教会自己如何更加高效读书，如何更好地理解和整理一本书，以及纠正自己阅读的一些坏习惯。</p>
<p><img data-src="/downloads/images/how_to_read_a_book_front_cover.jpeg"></p>
<span id="more"></span>
<h1 id="简介">简介</h1>
<p>如其书名，作者给《如何阅读一本书》的定位是，<strong>传授阅读的艺术，是为了增进理解力而写的，目标读者是习惯于从书写文字中汲取大量知识，以增进对世界了解的人</strong>。</p>
<h2 id="内容介绍">内容介绍</h2>
<p>作者开门见山提出阅读的四个层次，<strong>基础阅读</strong>、<strong>检视阅读</strong>、<strong>分析阅读</strong>和<strong>主题阅读</strong>，全书也是围绕着这四个层次逐步深入展开的。四个阅读层次是渐进关系，作者分别用一个章节来对基础阅读、检视阅读、主题阅读的内容进行解读，而对分析阅读则是使用了若干个章节 (一篇) 来重点解读。</p>
<p>在我看来，这么布局安排的原因是，<strong>基础阅读主要针对去文盲阶段</strong>，针对小学生水平，显然不是本书的主要阅读对象；<strong>检视阅读主要是一种读书理念</strong>，技巧性不多，更多是需要你接受这种观念并在平常阅读中应用；<strong>主题阅读更多面向做主题研究的学术工作者</strong>，应用面窄，难以总结和应用，所以作者花费的笔墨也不多。</p>
<p>唯独剩下的<strong>分析阅读，这是大部分读者所处的阅读阶段</strong>，也是阅读此书最容易有收获的地方，所以作者从 “如何做书籍分类” 开始，依次从 “如何透视一本书”，“与作者找出共通的词义”、“判断作者的主旨”，“公正地评判一本书”、“赞同或反对作者” 等若干个过程和纬度，教授读者如何花大量的时间来肢解和消化一本好书，以期自己对一本书的全面理解。</p>
<p>在接下来的第三篇中，为了进一步补充分析阅读通用规则的局限性，作者根据书中提到的书籍分类，提供了对 “实用型”、“想像文学”、“故事、戏剧与诗”、“历史”、“科学与数学”、“哲学”、“社会科学” 等这几类书籍的<strong>针对性阅读建议</strong>。特意提醒一下，不能跳过前面的章节铺垫而只读这部分内容，因为这部分书籍只是 “分析阅读” 的特例，是对前面阅读建议的补充和特例化。这部分内容不在本文讨论范围内，我打算下次阅读相关类型书籍时，再详细阅读和理解。</p>
<p>在书后的附录中，作者<strong>给出西方作品的经典阅读书单</strong>，勉励读者多读书，读好书。</p>
<p>最后，我把书中提到的各个阶段的阅读步骤和摘要整理到几页 pdf
中，如果时间比较匆忙，只是想通过摘要窥其一二，直接阅读作者提供的精华摘要可能是最高效的。</p>
<p><a href="http://www.waylon.one/downloads/files/如何阅读一本书摘要.pdf">如何阅读一本书 - 精华摘要</a></p>
<h2 id="阅读四层次之我见">阅读四层次之我见</h2>
<p>根据我的理解，这里把四个阅读层次的定义、要求和关系整理下来。如果你没有读过这本书，可能理解比较困难。</p>
<figure>
<img data-src="/downloads/images/IMG_3176.jpg" alt="阅读四个层次">
<figcaption aria-hidden="true">阅读四个层次</figcaption>
</figure>
<ul>
<li>第一层次 基础阅读 (elementary reading)：去文盲阶段。
<ul>
<li>这个层次的学习通常是在小学时完成的，能看到此文的你显然不属于这个阶段。</li>
</ul></li>
<li>第二层次 检视阅读 (inspectional
reading)：特点强调时间，在一定的时间之内，抓出一本书的重点。你的目标是从表面去观察这本书，学习到光是书的表象所教给你的一切。
<ul>
<li>类似于日常语文考试中阅读理解部分。</li>
</ul></li>
<li>第三层次 分析阅读 (analytical
reading)：全盘的阅读，完整的阅读，比较费力。分析阅读就是在无限的时间里，最好也最完整的阅读。分析阅读永远是一种专注的活动。
<ul>
<li>类似于精读专业课课本，每一个细节都需要注意到并整理出自己的看法。</li>
</ul></li>
<li>第四层次 主题阅读 (syntopical reading):
最复杂也最系统化的阅读。在做主题阅读时，阅读者会读很当书，而不是一本书，并列举出这些书之间相关之处，提出一个所有的书都谈到的主题。借助他所阅读的书籍，主题阅读者要能够架构出一个可能在哪一本书里都没提过的主题分析。主题阅读是最主动、也最花力气的一种阅读。
<ul>
<li>类似于开题报告的论文综述，读百篇文章，梳理自己对某个问题或论点的看法和架构。</li>
</ul></li>
</ul>
<h1 id="感想">感想</h1>
<p>本书初版写于上世纪 40 年代，第二版写于上世纪 70
年代。虽然缺乏对 “互联网” 和 “电子书” 等现代媒体的背景和思考，但到目前为止，本书跨越了半个世界而经久不衰，足以看出其中对阅读的建议和方法论，在当前时代还是有意义的。</p>
<p>以下内容是我阅读本书后的感想和收获，每个人的收获虽然都是不同的，但是希望这部分能启发你的思考。</p>
<ol type="1">
<li>读过这本书后，自己认识到读书的几个误区，自己缺乏运用检视阅读的想法和习惯，往往习惯捧起一本书就从头读到尾；我在做主题阅读时往往忘记自己的目的，我应该是为了要解决自己的问题才阅读，而不是为了这本书本身的目的而阅读，我应该着重于只阅读一本书的一部分，而不是全盘通读。</li>
<li>作者建议我们整理一生的阅读清单，这给我一个很大的启示，此前读书有点随波逐流，现在认识到需要制定长远的规划，督促自己的读书。</li>
<li>作者对咨询类消息 (如新闻、杂志等) 持批评态度，这也可以应用到对现在互联网大部分消息，包括知乎等。作者的看法是 “太多的资讯就如同太少的资讯一样，都是一种对理解力的阻碍，现代的媒体正以压倒性的泛滥资讯阻碍了我们的理解力。一本消遣或娱乐性的书可能会给你带来一时的欢偷，但是除了享乐之外，你也不可能再期待其他的收获了。为了讯息而阅读，就跟为了娱乐阅读一样，没法帮助你心智的成长。也许看起来你会以为是有所成长，但那只是因为你脑袋里多了一些你没读这本书之前所没有的讯息而已。然而，你的心智基本上跟过去没什么两样，只是阅读数量改变了，技巧却毫无进步”。</li>
<li>一定程度上解答我的困惑，作为 “理工科工程师，有必要读那么多人文的书籍” 吗？作者的看法是 “这是每个人的责任，参与人类理性的活动，能帮助我们的心智保持活力与成长”。</li>
<li>可能自己功底不够，书中译文有一部分读起来相当拗口，甚至不得其意，比如 “判断作者的主旨” 这一章节，不容易辨析 “主旨” 和 “论述” 的区别。</li>
<li>毕竟错过了现在的互联网时代，现在网络上有众多软件帮助我们做摘要，做批注和整理一本书的框架，比如 MarginNote
等，所以作者在 “如何做一个自我要求的读者” 这一章节给出的做笔记的建议，主要针对纸质书，有一定的时代局限性。</li>
<li>熟练掌握阅读技巧后，在阅读过程中四个层次没有优劣之分，根据自己的阅读需求和目的，灵活应用四个层次的方法，或快读，或慢读，适合自己的才是最好的。</li>
</ol>
<hr>
<p>接下来的内容，均摘自书中的一部分内容，不代表我的观点，主要用做自己反刍阅读使用。这部分内容更适合已经有阅读过本书的人阅读，希望能够跟你引起共鸣。</p>
<h1 id="第一篇-阅读的层次">第一篇 阅读的层次</h1>
<h2 id="阅读的活力与艺术">阅读的活力与艺术</h2>
<ul>
<li>所谓 “阅读的人”(readers），是指那些今天仍然习惯于从书写文字中汲取大量资讯，以增进对世界了解的人，就和过去历史上每一个深有教养、智慧的人别无二致。
<ul>
<li>MC (MY COMMENT,
下同)：我自认为我属于阅读的人，因为我还是偏向于从书写文字中获取知识，比如对专业领域知识的学习，不是非常倾向于从视频中去获取信息，对其专业性和全面性比较怀疑。</li>
</ul></li>
<li>我们为了 “理解”(understand) 一件事，并不需要 “知道”(know）和这件事相关的所有事情。<strong>太多的资讯就如同太少的资讯一样，都是一种对理解力的阻碍。</strong>换句话说，现代的媒体正以压倒性的泛滥资讯阻碍了我们的理解力。
<ul>
<li>会发生这个现象的一个原因是：我们所提到的这些媒体，经过太精心的设计，使得思想形同没有需要了 (虽然只是表象如此)。<strong>如何将知识分子的态度与观点包装起来，是当今最有才智的人在做的最活跃的事业之一</strong>。电视观众、收音机听众、杂志读者所面对的是一种复杂的组成 — 从独创的华丽辞藻到经过审慎挑选的资料与统计 — 目的都在让人不需要面对困难或努力，很容易就整理出 “自己” 的思绪。但是这些精美包装的资讯效率实在太高了，让观众、听众或读者根本用不着自己做结论。相反的，他们直接将包装过后的观点装进自己的脑海中，就像录影机愿意接受录影带一样自然。他只要按一个 “倒带” 的钮，就能找到他所需要的适当言论。他根本不用思考就能表现得宜。</li>
</ul></li>
<li>什么是真正的阅读？
<ul>
<li>只有一种方式是真正地在阅读。没有任何外力的帮助，你就是要读这本书。你什么都没有，只凭着内心的力量，玩味着眼前的宇句，慢慢地提升自己，<strong>从只有模糊的概念到更清楚地理解为止</strong>。这样的一种提升，是在阅读时的一种脑力活动，也是更高的阅读技巧。<strong>这种阅读就是让一本书向你既有的理解力做挑战</strong>。</li>
<li>MC：真正有所获的阅读，往往读的过程并不是舒畅，一气呵成，因为要对你的理解力量做挑战，需要偶尔倒带，停下来思考。难，不代表没有收获；易，不代表收获满满。</li>
</ul></li>
<li>讨论两种阅读的目的？
<ul>
<li>为获得资讯而读？
<ul>
<li>第一种意义是我们自己在阅读报纸、杂志，或其他的东西时，凭我们的阅读技巧与聪明才智，一下子便能融会费通了。这样的读物能增加我们的资讯，却不能增进我们的理解力，因为在开始阅读之前，我们的理解力就已经与他们完全相当了。否则，我们一路读下来早就应该被因住或吓住了 — 这是说如果我们够诚实、够敏感的话。</li>
<li>吸收咨询，如果你运用的只是你的记忆力，其实你除了那些咨询之外一无所获。你并没有被启发。</li>
</ul></li>
<li>为增进理解而读？
<ul>
<li>第二种意义是 <strong>— 个人试着读某样他一开始并不怎么了解的东西</strong>。这个东西的水平就是比阅读的人高上一截。这个作者想要表达的东西，能增进阅读者的理解力。这种双方水准不齐之下的沟通，肯定是会发生的。否则，无论是透过演讲或书本，谁都永远不可能从别人身上学习到东西了。</li>
<li>这里的 “学习” 指的是<strong>理解更多的事情，而不是记住更多的资讯 —</strong> 和你已经知道的资讯在同一水平的资讯。</li>
</ul></li>
</ul></li>
<li>本文主要关心的对象是为增进理解而读的那批人，具体在什么情况下会为增进理解而读呢？
<ul>
<li>在什么样的状况下，我们会为了增进理解而阅读？有两种状况：
<ul>
<li>第一是一开始时不相等的理解程度。在对一本书的理解力上，作者一定要比读者来得 “高杆”，写书时一定要用可读的形式来传达<strong>他有而读者所无的洞见</strong>。</li>
<li>其次，<strong>阅读的人一定要把不相等的理解力克服到一定程度之内</strong>，虽然不能说全盘了解，但总是要达到与作者相当的程度。一旦达到相同的理解程度，就完成了清楚的沟通。</li>
</ul></li>
</ul></li>
<li>阅读的艺术包括了所有<strong>非辅助型自我发现学习</strong>的技巧：敏锐的观察、灵敏可靠的记忆、想像的空间，再者当然就是训练有素的分析、省思能力。</li>
</ul>
<h2 id="阅读的层次">阅读的层次</h2>
<ul>
<li>阅读的层次是渐进的。我们称之为层次，而不称为种类的原因是，严格来说，种类是样样都不相同的，而层次却是再高的层次也包含了较低层次的特性。</li>
<li>第一层次 基础阅读 (elementary
reading)：一个人只要熟练这个层次的阅读，就摆脱了文盲的状态，至少已经开始识字了。这个层次的学习通常是在小学时完成的。</li>
<li>第二层次 检视阅读 (inspectional
reading)：特点在强调时间，在一定的时间之内，抓出一本书的重点。你的目标是从表面去观察这本书，学习到光是书的表象所教给你的一切。
<ul>
<li>我们想要强调的是，<strong>大多数人，即使是许生优秀的阅读者，都忽略了检视阅读的价值</strong>。他们打开一本书，从第一页开始读起，孜孜不倦，甚至连目录都不看一眼。因此，他们在只需要粗浅翻阅一本书的时候，却拿出了仔细阅读、理解一本书的时间。这就加重了阅读的困难。</li>
<li>MC: 这是我经常犯错的地方，对书不加筛选就开始细读。</li>
</ul></li>
<li>第三层次 分析阅读 (analytical
reading)：要更复杂，更系统化，读者在使用这种闭读法的时候，多少会相当吃力。分析阅读就是全盘的阅读、完整的阅读，或是说优质的阅读 — 你能做到的最好的阅读方式。<strong>分析阅读就是在无限的时间里，最好也最完整的阅读</strong>。分析阅读永远是一种专注的活动。</li>
<li>第四层次 主题阅读 (syntopical reading):
最复杂也最系统化的阅读。在做主题阅读时，阅读者会读很当书，而不是一本书，并列举出这些书之间相关之处，<strong>提出一个所有的书都谈到的主题</strong>。借助他所阅读的书籍，主题阅读者要能够架构出一个可能在哪一本书里都没提过的主题分析。主题阅读是最主动、也最花力气的一种阅读。</li>
</ul>
<h2 id="阅读的第一个层次基础阅读">阅读的第一个层次：基础阅读</h2>
<p>MC:
讲述这个阶段细分的阅读阶段和层次，这个阶段的阅读能力主要在幼儿园、小学和初中阶段熟悉和掌握。我相信大多数读到这篇文章的人已经完全达到这个层次，作者也在此处简单提及，没有深刻讨论。</p>
<h2 id="阅读的第二个层次检视阅读">阅读的第二个层次：检视阅读</h2>
<h3 id="检视阅读一有系统的略读或粗读">检视阅读一：有系统的略读或粗读</h3>
<ul>
<li>目标是发现这本书值不值得多花时间仔细阅读。</li>
<li>略读的习惯应该用不着花太多时间，下面是如何去做的一些建议：
<ul>
<li>先看书名页，然后如果有序就先看序。</li>
<li>研究目录页。</li>
<li>如果书中有索引，也要检索一下。</li>
<li>如果那是本包着书衣的新书，不妨读一下出版者的介绍。</li>
<li>从你对一本书的目录很概略，甚至有点模糊的印象当中，开始挑几个看来跟主题息息相关的篇章来看。如果这些篇章在开头或结尾有摘要说明 (很多会有)，就要仔细地阅读这些说明。</li>
<li>最后一步，把书打开来，东翻翻西翻翻，念个一两段，有时候连续读几页，但不要太多。最重要的是，<strong>不要忽略最后的两三页</strong>。就算最后有后记，一本书最后结尾的两三页也还是不可忽视的。很少有作者能拒绝这样的诱愁，而不在结尾几页将自己认为既新又重要的观点重新整理一遍的。</li>
</ul></li>
</ul>
<h3 id="检视阅读二粗读的阅读">检视阅读二：粗读的阅读</h3>
<ul>
<li>“粗浅” 这两个字通常有负面的联想。但我们可是很认真在用这两个字。这个规则很简单：头一次面对一本难读的书的时候。从头到尾先读完一遍，碰到不懂的地方不要停下来查询或思索。只注意你能理解的部分
，不要为一些没法立即了解的东西而停顿。
<ul>
<li>MC:
在接触一个新概念的时候，如果计划阅读两次，第一轮不求甚解也是可以接受的做法。自己往往只阅读一轮，每一个问题都要当下理解会，反而造成读书慢。</li>
</ul></li>
</ul>
<h2 id="如何做一个自我要求的读者">如何做一个自我要求的读者</h2>
<h3 id="主动的阅读基础一个阅读者要提出的四个基本问题">主动的阅读基础：一个阅读者要提出的四个基本问题</h3>
<ul>
<li>主动阅读的核心就是：你在阅读时要提问题来 — 在阅读的过程中，你自己必须尝试去回答的问题。
<ul>
<li>整体来说，这本书到底在谈些什么？</li>
<li>作者细部说了什么，怎么说的？</li>
<li>这本书说得有道理吗？是全部有道理，还是部分有道理？</li>
<li>这本书跟你有什么关系？</li>
</ul></li>
</ul>
<h3 id="如何让一本书真正属于你自己">如何让一本书真正属于你自己</h3>
<ul>
<li>要真正完全拥有一本书，必须把这本书变成你自己的一部分才行，而要让你成为书的一部分最好的方法 — 书成为你的一部分和你成为书的一部分是同一件事 — 就是要去写下来 (在书上做笔记)。
<ul>
<li>在书上做笔记，其实就是在表达你跟作者之间相异或相同的观点。这是你对作者所能付出的最高的敬意。</li>
<li>几个做笔记可以采用的方法
<ul>
<li>在空白处做星号或其他符号 — 要慎用，只用来强调书中十来个最重要的声明或段落即可。你可能想要將做过这样记号的地方每页折一个角，或是夹一张书签。这样你随时从书架上拿起这本书，打开你做记号的地方，就能唤醒你的记忆。
<ul>
<li>MC:
电子书如何实现这一点呢？打开一本读过的电子书，直接告诉你哪几页非常重要呢？</li>
</ul></li>
<li>在空白处记下其他的页码 — 强调作者在书中其他部分也有过同样的论点，或相关的要点，或是与此处观点不同的地方。许多读者会用
Cf 这样的记号，表示比较或参照的意思。
<ul>
<li>MC: MarginNote 的链接功能可以实现。</li>
</ul></li>
<li>在书页的空白处做笔记。书中最后一页可以用来作为个人的索引页，将作者的主要观点依序记下来。书本前面的空白页，可以试着将全书的整体架构写出来，列出基本的大纲与前后篇章秩序。</li>
</ul></li>
</ul></li>
</ul>
<h1 id="第二篇-阅读的第三个层次分析阅读">第二篇
阅读的第三个层次：分析阅读</h1>
<h2 id="一本书的分类">一本书的分类</h2>
<ul>
<li>实用性 vs 理论性作品
<ul>
<li>有些书或有些老师，只对他们要传达的知识本身感兴趣。这并不是说他们否定知识的实用性，或是他们坚持只该为知识而知识。他们只是将自己限制在某一种沟通或教学方式中，而让其他人去用别的方式。其他这些人的兴趣则在追求知识本身以外的事上，他们关切的是哪些知识能帮忙解决的人生问题。他们也传递知识，但永远带着一种强调知识的实际应用的观点。理论性的作品是在教你这是什么，实用性的作品在教你如何去做你想要做的事，或你认为应该做的事。
<ul>
<li>MC:
我阅读的大部分专业书籍，都属于实用性书籍，强调知识的实际应用。</li>
</ul></li>
<li>理论性作品一般分为历史、科学和哲学三类。
<ul>
<li>如果一本理论的书所强调的内容，超乎你日常、例行、正常生活的经验，那就是科学的书，否则就是一本哲学的书。</li>
<li>哲学家所提出来的事实或观察，不会超越一般人的生活经验。一个哲学家对读者所提及的事，都是自己正常及普通的经验，以证明或支持他所说的话。</li>
<li>科学家会从他特殊经验的结果做举证，哲学家却会以人类的共通性做例证。</li>
</ul></li>
</ul></li>
<li>书籍分类的必要性
<ul>
<li>就像不同的学科有不同的教法一样，不同的课程也有不同的学习方法。因此，既然书本所要传达给我们的知识不同，对我们的指导方式也会不同。如果我们要跟随这些书本的指导，那就应该学习以适当的态度来阅读不同的书。</li>
<li>MC:
作者在后面第三篇，会对不同的书籍类型提供不同的阅读建议，这部分建议自己阅读相关类型书时再阅读。</li>
</ul></li>
</ul>
<h2 id="透视一本书">透视一本书</h2>
<ul>
<li>你用不着跟着书上所出现的章节来归纳一本书的架构。作者拟定了纲要，以写出一本好书。而你则要拟定你的纲要，才能读得明白。</li>
</ul>
<h2 id="与作者找出共通的词义">与作者找出共通的词义</h2>
<ul>
<li>当知识沟通的过程中产生模糊地带时，双方惟一共有的是那些在讲在写、在听、在读的单字。双方找出共通的词义时，沟通就完成了。</li>
<li>词义可以定义为没有模糊地带的字 — 当一个单字使用得没有模糊意义的时候，就是一个词义了。</li>
<li>事实上，一本书之所以能给你带来新的洞察力或启发，就是因为其中有一些你不能一读就懂的字句。如果你不能自己自已努力去了解这些字，那就不可能学会我们所谈的这种阅读方法。你也不可能做到自己阅读一本书的时候，从不太了解进展到逐渐了解的境界。
<ul>
<li>MC:
看似和前文提到的粗读有冲突，但是这里是指初读后的第二次阅读，就应该攻克阅读难点。</li>
</ul></li>
<li>同义字。除非是数学的作品，否则一个同样的字使用了一遍又一遍，看起来很别扭又无趣。因此许多好作者会在书中使用一些意义相同或是非常相似的不同的字，来代替行文中那些重要的字眼。这个情况跟一个字能代表多重意义的状况刚好相反，在这里，同一个词义，是由两个以上的同义字所代表的。</li>
<li>只要你肯花一点糟神，<strong>在读一本书的时候，找出重要的关键字，确认每个字不同意义的转换</strong>，并与作者找出共通的词义，你对一本书的理解力就会大大增加了。</li>
</ul>
<h2 id="判断作者的主旨">判断作者的主旨</h2>
<ul>
<li>书里的提案，是一种知识的声明，那是作者在表达他对某件事的判断，而不是意图的声明。</li>
<li>作者的个人主旨，如果没有理论的支持，就只是在抒发个人想法罢了。</li>
<li>一个论述总是一套或一连串的叙述，提供某个结论的根据或理由。因此，在说明论点时，必须要用到一段文字，或至少一些相关的句子来闸述。</li>
<li>我们从共识谈到主旨，再谈到论点，表达的方法是从字 (与词) 到一个句子，再到一连串的句子 (或段落) 来作说明。我们从最简单的组合谈到复杂的组合。</li>
<li><strong>句子与段落是文法的单位、语言的单位。主旨与论述是逻辑的单位，也就是思想与知识的单位。</strong></li>
<li>许多人认为他们知道如何阅读，因为他们能用不同的速度来的读。但是他们经常在错误的地方暂停，慢慢阅读。<strong>他们会为了一个自己感兴趣的句子而暂停，却不会为了感到困扰的句子而暂停。</strong></li>
<li>一本古代的作品包含的内容有时很令人感到新奇，因为它们与我们熟知的生活不同。但是当你想要在阅读中获得理解时，你要追寻的就不是那种新奇的感觉了。所以，<strong>我们所讨论的规则是要帮助你理解一本书，而不是满足你的好奇心。</strong></li>
</ul>
<h2 id="公正地评断一本书">公正地评断一本书</h2>
<ul>
<li><strong>主动的阅读不会为了已经了解一本书在说些什么而停顿下来，必须能评论，提出批评，才算真正完成了这件事</strong>。</li>
<li>大多数人会以赢得辩论为目标，却没想到要学习的是真理。把谈话当作是战争的人，要赢得战争就得为反对而反对，不论自己对错，都要反对成功。如果他知道所谓的赢只在于增进知识，而不是将对方打败，他就会明白争强好辩是毫无益处的。</li>
<li>人类必须用来沟通的语言是不完类的媒介，被情绪遮盖者，被个人的喜好渲染者，被不恰当的思想穿梭者。</li>
<li>一个人在与别人对话时，就算有不同的意见，最后还是有希望达成共识。<strong>他应该准备好改变自己的想法，才能改变别人的想法。他永远要先想到自己可能误解了，或是在某一个问题上有盲点。</strong>在争论之中，一个人绝不能忘了这是教导别人，也是自己受教的一个机会。</li>
</ul>
<h2 id="赞同或反对作者">赞同或反对作者</h2>
<ul>
<li>诠释一本书的过程是透过言语的媒介，达到心灵上的沟通。读懂一本书可以解释为作者与读者之间的一种认同。他们同意用这样的说法来说明一种想法。因为这样的认同．读者便能透过作者所用的语言，看出他想要表达的想法。</li>
<li>通常，在科学与历史中，前人缺乏的知识都是由后来的人发掘出来的，科技的进步与时间的延长，使得大部分的研究调查都能做到这一点。但在哲学领域中，状况却可能相反。似乎时间超么远，知识只有衰退，而毫无增进。
<ul>
<li>MC: 疑问，哲学领域真的只有后退吗？</li>
</ul></li>
</ul>
<h2 id="辅助阅读">辅助阅读</h2>
<ul>
<li>总体而言，在你找寻外力帮助之前，最好能自己一个人阅读。
<ul>
<li>MC: 做事情，先自己思考，尝试自己解读，再求助外界。</li>
</ul></li>
<li>外在的辅助来源可以分成四个部分。第一，相关经验。第二，其他的书。第三，导论与摘要。第四，工具书。</li>
<li>许多伟大的作品不只是互相有关联，而且在写作时还有特定的先后顺序，这都是不该忽略的事。</li>
<li>外在的阅读规则是除非你看完了一本书，否则不要看某个人的导读。要正确地运用这些导读，必须先尽力读完一本书，然后还有些问题在干扰着你时，你才运用这些导读来解答问题。如果你先读了这些导读，可能会让你对这本书产生曲解。
<ul>
<li>MC:
类比于看电影解说，你先看解说，就看不下去电影，会变得浮躁，不敢做感情投入；如果看完电影再看电影解说，会发现里面省略太多内容，简短视频扭曲了电影的表达。</li>
</ul></li>
<li>文字是约定俗成的。从文字的字根、字首、字尾，到词句的来源，我们可以看出文字的历史。</li>
<li>知识的顺序是随着时代而变迁的。在过去，所有相关的知识是以七种教育艺术来排列的 — 文法、修辞、逻辑三学科，与算术、几何、天文、音乐四学科组合而成。</li>
</ul>
<h1 id="第三篇-阅读不同读物的方法">第三篇 阅读不同读物的方法</h1>
<h2 id="如何阅读实用型的书">如何阅读实用型的书</h2>
<ul>
<li>在阅读一本以规则为主的书时，要找寻的主旨当然是那些规则。阐述这些规则通常是用命令句，而不是叙述句。</li>
</ul>
<h2 id="如何阅读科学与数学">如何阅读科学与数学</h2>
<ul>
<li>直到大约 19
世纪末，主要的科学著作都是给门外汉写的。当代的科学著作，并没有明显表示出要忽视一般读者或门外汉。不过大多数现代科学著作并不关心门外汉读者的想法，甚至也不想尝试让这样的读者理解。今天，科学论文已经变成专家写给专家看的东西了。就某个严肃的科学主题的沟通中，读者也要有相对的专业知识才行，通常不是这个领域中的读者根本无法阅读这类文章。
<ul>
<li>MC:
一个新奇的观察，自己写的论文也不是给门外汉写的；其他领域的论文，自己也是读不懂。</li>
</ul></li>
<li>今天，哲学家也不再为专业的哲学家以外的读者写作，经济学家只写给经济学家看，甚至连历史学家都开始写专业的论著。在这样的情况下，一般的读者该怎么办呢？他不可能在任何一个领域中都成为专家。他必须退一步，也就是<strong>阅读流行的科普书</strong>。</li>
<li>你是门外汉，你阅读科学经典著作并不是为了要成为现代专业领城的专家。相反地，你阅读这些书只是为了了解科学的历史与哲学。事实上，这也是一个门外汉对科学应有的责任。要跟上科学发展的脚步，找出事实、假定、原理与证据之间的相互关联，就是参与了人类理性的活动，而那可能是人类最成功的领域。
<ul>
<li>只要你记住，你的责任不是成为这个主题的专家，而是要去了解相关的问题，在阅读时就会轻松许多。</li>
</ul></li>
<li>拉瓦锡：我们不可能只改进科学的语言或术语，却不改进科学的本身。他借着改进化学的语言以推展化学，就像牛顿在一个世纪以前将物理的语言系统化、条理化，以促进物理的进步。</li>
<li>数学其实是一种语言，我们可以像学习自己的语言一样学习它。
<ul>
<li>数学只需要学一次，因为它完全是书写的语言。</li>
<li>MC: 不太同意，考虑到作者是人文作家，可能对数学了解比较片面。</li>
</ul></li>
</ul>
<h1 id="第四篇-阅读的最终目标">第四篇 阅读的最终目标</h1>
<h2 id="阅读的第四个层次主题阅读">阅读的第四个层次：主题阅读</h2>
<ul>
<li>MC：类似于读论文、写综述的经历，对某一个问题阅读大量资料，最后做自己观点的梳理，形成自己的看法。</li>
<li>检视阅读与分析阅读也可以当作是进入主题阅读的前置作业或准备动作。事实上，在这个阶段。检视阅读已经是读者在阅读时主要的工具或手段了。</li>
<li><strong>在主题阅读中，你及你关心的主题才是基本的重点，而不是你阅读的书</strong>。你不该忘了，你的阅读是别有用心的 — 也就是说，<strong>你是为了要解决自己的问题才阅读 — 而不是为了这本书本身的目的而阅读</strong>。</li>
<li>主题阅读的目的，并不是给阅读过程中发展出来的问题提供最终答案，也不是给这个计划开始时候的问题提供最终解答。主题阅读就是要能面面俱到，而自己并不预设立场。</li>
</ul>
<h2 id="阅读与心智的成长">阅读与心智的成长</h2>
<ul>
<li><strong>如果你的阅读目的是想变成一个更好的阅读者，你就不能摸到任何书或文章都读</strong>。如果你所谈的书都在你的能力范團之内，你就没法提升自己的阅读能力。你必须能操纵超越你能力的书，或像我们所说的，阅读超越你头脑的书。只有那样的书能帮助你的思想增长。除非你能增长心智，否则你学不到东西。</li>
<li><strong>一本消遣或娱乐性的书可能会给你带来一时的欢偷，但是除了享乐之外，你也不可能再期待其他的收获了。为了讯息而阅读，就跟为了娱乐阅读一样，没法帮助你心智的成长。也许看起来你会以为是有所成长，但那只是因为你脑袋里多了一些你没读这本书之前所没有的讯息而已</strong>。然而，你的心智基本上跟过去没什么两样，只是阅读数量改变了，技巧却毫无进步。</li>
<li>我们的身体是有限制的，心智却没有限制。其中一个迹象是，在力量与技巧上，身体不能无限制地成长。人们到了
30
岁左右，身体状况就达到了巅峰，随着时间的空化，身体的状况只有越来越恶化，而我们的头脑却能无限地成长与发展下去。我们的心智不会因为到了某个年纪就停止成长，只有当大脑失去活力，僵化了，才会失去了增加技巧与理解力的力最。</li>
<li>好的阅读，也就是主动的阅读，不只是对阅读本身有用，也不只是对我们的工作或事业有帮助，更能帮助我们的心智保持活力与成长。</li>
</ul>
<h1 id="语录">语录</h1>
<ul>
<li>阅读不同书籍的时候，运用适当的不同速度。
<ul>
<li>MC:
自己阅读图书，一般遇到不理解的地方，速度能够慢下来，但是却无法提速，哪怕在阅读小说类的信息。</li>
</ul></li>
<li>阅读越主动，效果越好；<strong>读者对他自己，以及自己面前的书籍，要求的越多，获得的就越多</strong>。</li>
<li>无限制的受教育机会是一个社会能提供给人民最有价值的服务。</li>
<li>一个人如果说他知道他在想些什么，却说不出来，通常是他其实并不知道自己在想些什么。</li>
<li>一位作者，特别是好的作者，会经常想要帮助你整理出他书中的重点。</li>
<li>纵使主旨不清楚，读者也可以借着一般的常识来补充不足之处。但有时候这样的忽略却会产生误导，甚至是故意的误导。一些演说家或宣传家最常做的诡计就是留下一些末说的话，这些话与他们的论述极为有关，但如果说得一清二楚，可能就会受到挑战。</li>
<li>最能学习的读者，也就是最能批评的读者。</li>
<li>我们希望你不要弄错了，以为所谓评论就是要不同意对方的说法。<strong>毫无理解便同意只是愚蠢，还不清楚便不同意也是无礼。</strong></li>
<li>演讲的人，都会碰上一些批评者。其实，根本不了解他在说的是什么，就提出尖镜问题的经验。你惟一能做的是有礼貌地请他们重述你的论点，再说明他们对你的非难之处。如果他们做不到，或是不能用他们自己的话重述你的观点，你就知道他们其实并不了解你在说什么。</li>
<li>一个读的很广泛，却读不精的人，与其值得赞美，不如值得同情。</li>
<li>如果任何人想要<strong>认真地研拟一份值得一生阅读的好书书单，以增进阅读能力的话</strong>，其间的差别应该不会太大才对。当然，最后你还是要自己拟出一份书单，然后全力以赴。无论如何，<strong>在你列出自己的书单之前，先看一份被一致公认为好书的书单，是很聪明的做法</strong>。</li>
<li>读诗，我们认为从一本好的合选集开始阅读，会比从某一位作者的个人选集开始要好得多。</li>
<li>许多人尽管可以区分出阅读的获益与取乐之不同 — 其中一方是理解力的增进，另一方则是媒乐或只是满足一点点的好奇心 — 最后仍然无法完成他们的阅读目标。</li>
</ul>
]]></content>
      <categories>
        <category>Reading</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo 博客个性化设置汇总</title>
    <url>/website/hexoxo-config-list/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="next-主题">Next 主题</h1>
<ul>
<li><a href="https://www.jianshu.com/p/ae3a0666e998">添加文章更新时间</a></li>
</ul>
<h1 id="留言系统">留言系统</h1>
<ul>
<li><a href="https://www.zhyong.cn/posts/95cb/">Hexo 博客添加 Valine
评论系统</a></li>
</ul>
<p><a href="https://hexo-next.readthedocs.io/zh_CN/latest/">Hexo-NexT</a> <a href="https://theme-next.js.org/">NexT 官网</a></p>
]]></content>
      <categories>
        <category>website</category>
      </categories>
      <tags>
        <tag>website</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>如何高效使用 Mendeley 文献管理神器</title>
    <url>/Weekly-Blogs/how-to-use-Mendeley/</url>
    <content><![CDATA[<p>[toc]</p>
<p>目前，在学术圈里主流的文献管理软件有 Mendely, Endnote, Refworks 和
Zotero。在笔者看来，每一款软件，都有自己的亮点，没有绝对的优劣之分，根据个性化差异选择适合自己的工具，提高自己的文献整理和阅读效率才是最重要的。适合自己的，才是最好的。</p>
<p>关于文献工具的功能差异，可以查看 <a href="https://www.softhead-citavi.com/blog/2314#">常用的几款文献管理软件
Citavi 、Mendely、Endnote、Refworks、Zotero、Papers
功能大比拼</a>，其中比较了的多款文献管理软件的功能差异。</p>
<p>因为笔者日常是阅读文献为主，所以关注文献的跨平台和同步功能，对文献引用功能不是很看重，所以最后选择了
Mendeley。Mendeley 是 ELSEVIER
旗下的产品。笔者在日常学习和工作中，逐步形成了以 Mendeley
为主建立电子文献索引，并以云端同步 PDF 文献为主要储存手段，通过
Everything，Google Scholar 和 Onenote
笔记等多种搜索手段，快速找到自己所要的信息。</p>
<p>首先，建议大家注册一个账号，那么你可以在多个设备 (包括但不限于
Windows, Mac, Linux, IOS 和 Android )
随意标记和整理，软件能够及时在多个设备间同步，这也是我目前见到的最好用的跨平台
PDF 标注工具。</p>
<p>在大多数情况下，我们需要的其实是<strong>大批量多轮次</strong>地阅读文献，因为在一个项目的不同阶段，哪怕是同一篇文献，所关注的点也是不一样的。</p>
<h1 id="轻整理">轻整理</h1>
<ol type="1">
<li><p>文件检索：在一个项目刚开始的时候，文件夹中没有文献，就需要先建立一份本地的文献原始积累，我习惯在
Web of Science 和 Google Scholar 上根据关键词去找所需要的文献。 &gt; Web
of Science
是全球最大、覆盖学科最多的综合性学术信息资源，收录了自然科学、工程技术、生物医学等各个研究领域最具影响力的超过 8700 多种核心学术期刊。利用
Web of Science
丰富而强大的检索功能 -- 普通检索、被引文献检索、化学结构检索，您可以方便快速地找到有价值的科研信息，既可以越查越旧，也可以越查越新，全面了解有关某一学科、某一课题的研究信息。</p></li>
<li><p>文件整理：Mendeley
会自动提取文献信息，按照文献的发表年份，期刊，和文章题目将文献重命名，并将该文献自动整理到指定文件夹中，完成文献的原始积累。
&gt; 我设置 Mendeley
自动根据文献的三个强信息：发表年，发表期刊，和文章题目自动重命名，并结合
everything，在本地实现文献的第一重搜索。</p></li>
<li><p>同步：Mendeley 自带同步改能，如果文献量不是很大，那么可以使用
Mendeley
自带的云空间来同步自己的文献。这样做的好处就是，<strong>把所有的文献和笔记信息全部集中化了，不会造成信息碎片</strong>。
&gt; 如果同步空间不够，那么可以在 Mendeley 上保留自己的批注，利用 dropbox
等云盘同步 Mendeley
的文件夹中所有文献；之后看文献时，只需要从这个文件夹中打开文献即可。</p></li>
<li><p>信息处理：做笔记也可以只在 PDF
上做，这样就不用另外开一个软件写笔记，并可以对自己感兴趣的信息直接标注，<strong>实现信息最大程度集中化</strong>。</p></li>
</ol>
<h1 id="重搜索">重搜索</h1>
<h1 id="如何指定文档不被mendeley数据库收录">如何指定文档不被 Mendeley 数据库收录</h1>
<p>当你的文档加入你的 Mendeley 库后，文档的细节也同时被聚合到了 Mendeley
数据库，那么你就可以方便地在多平台间同步你的文档库。</p>
<p>如何你不愿意你的文档被登记造册 (catalog)，比如你的未完成的草稿；或者你认为文档对其他人没有什么帮助，比如你的课堂笔记，那么你可以在【文档详情】框中勾选
“Unpublished work”，那么你的文档详情 (Document Details) 就不会被 Mendeley
数据库收录，同时你仍然可以在你的多个设备间同步。</p>
<blockquote>
<p>We have a checkbox in the Document Details panel that allows you to
keep that entry from being aggregated. It will still be synchronized
across your multiple devices, but it will not have the Document Details
aggregated to our research catalog.</p>
</blockquote>
<blockquote>
<p>In summary, if you’re adding a document and you don’t want the
document details to be anonymously aggregated and made available for
search in our research catalog, then go ahead and click on the
“Unpublished work” checkbox in the Document Details panel on the
right.</p>
</blockquote>
<ul>
<li><a href="https://blog.mendeley.com/2012/04/16/how-to-series-how-to-keep-references-and-documents-unpublished-out-of-catalog-part-7-of-12/">How
to keep references and documents unpublished (out of catalog)</a></li>
</ul>
<h1 id="reference">Reference</h1>
<ul>
<li><a href="https://mp.weixin.qq.com/s/iCKjido9jtEVZS-JwhvTIA">轻整理，重搜索</a></li>
<li><a href="https://www.softhead-citavi.com/blog/2314#">常用的几款文献管理软件功能大比拼</a></li>
</ul>
]]></content>
      <categories>
        <category>Weekly Blogs</category>
      </categories>
      <tags>
        <tag>Paper</tag>
      </tags>
  </entry>
  <entry>
    <title>如何在文字上方添加拼音或英文标注</title>
    <url>/html/html5-ruby/</url>
    <content><![CDATA[<p>[toc]</p>
<p>在公众号 <a href="https://linux.cn/article-6838-1.html">Linux 中国</a>
的文章中，自己看到文章中一般会在中文技术名词的上方标注对应的英文，用户体验非常好，如下所示。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/ruby_demo_in_linux_cn.jpg"></p>
<p>自己私下询问后得知，可以使用 HTML5 的 RUBY
标签实现，那么再也不用采用下面的方式来给技术名词加专业英文解释。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">强化学习(reinforcement learning)</span><br></pre></td></tr></tbody></table></figure>
<h1 id="背景知识">背景知识</h1>
<h2 id="什么是-html">什么是 HTML？</h2>
<p>HTML 是用来描述网页的一种语言。 - HTML 指的是超文本标记语言 (Hyper
Text Markup Language) - HTML 不是一种编程语言，而是一种标记语言 (markup
language) - 标记语言是一套标记标签 (markup tag) - HTML
使用标记标签来描述网页</p>
<h2 id="html-标签">HTML 标签</h2>
<p>HTML 标记标签通常被称为 HTML 标签 (HTML tag)。 - HTML
标签是由尖括号包围的关键词，比如 &lt;html&gt; - HTML
标签通常是成对出现的，比如 &lt;b&gt; 和 &lt;/b&gt; -
标签对中的第一个标签是开始标签，第二个标签是结束标签 -
开始和结束标签也被称为开放标签和闭合标签</p>
<h2 id="html-文档-网页">HTML 文档 = 网页</h2>
<ul>
<li>HTML 文档描述网页</li>
<li> HTML 文档包含 HTML 标签和纯文本</li>
<li> HTML 文档也被称为网页</li>
</ul>
<p>Web 浏览器的作用是读取 HTML
文档，并以网页的形式显示出它们。浏览器不会显示 HTML
标签，而是使用标签来解释页面的内容。</p>
<h2 id="什么是-html5">什么是 HTML5？</h2>
<ul>
<li>HTML5 是最新的 HTML 标准。</li>
<li>HTML5 是专门为承载丰富的 web 内容而设计的，并且无需额外插件。</li>
<li>HTML5 拥有新的语义、图形以及多媒体元素。</li>
<li>HTML5 提供的新元素和新的 API 简化了 web 应用程序的搭建。</li>
<li>HTML5
是跨平台的，被设计为在不同类型的硬件（PC、平板、手机、电视机等等）之上运行。</li>
</ul>
<h1 id="ruby">Ruby</h1>
<blockquote>
<p>Ruby
是一种排版注释系统，是位于横排基础文本上方的简短文字，主要针对东亚语言作出简单的读音注释。</p>
</blockquote>
<p>ruby 涉及的元素包括 ruby、rt 以及 rp。首先使用 ruby 指定一个具体的表达式，然后使用 rt 提供说明。rt 部分将显示在表达式上方。</p>
<h2 id="例子">例子</h2>
<ul>
<li>Example 1</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;ruby&gt;</span><br><span class="line">强化学习&lt;rt&gt;reinforcement learning&lt;/rt&gt;</span><br><span class="line">&lt;/ruby&gt;</span><br><span class="line">有近几十年的研究历史，是 &lt;ruby&gt;</span><br><span class="line">人工智能&lt;rt&gt;artificial intelligence&lt;/rt&gt;</span><br><span class="line">&lt;/ruby&gt;</span><br><span class="line">的一个研究方向。</span><br></pre></td></tr></tbody></table></figure>
<p><ruby> 强化学习<rt> reinforcement learning</rt> </ruby>
有近几十年的研究历史，是 <ruby> 人工智能<rt> artificial intelligence</rt>
</ruby> 的一个研究方向。</p>
<ul>
<li>Example 2</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;ruby&gt;汉&lt;rt&gt;Hàn&lt;/rt&gt;&lt;/ruby&gt;</span><br><span class="line">&lt;ruby&gt;字&lt;rt&gt;zì&lt;/rt&gt;&lt;/ruby&gt;</span><br><span class="line">&lt;ruby&gt;拼&lt;rt&gt; pīn&lt;/rt&gt;&lt;/ruby&gt;</span><br><span class="line">&lt;ruby&gt;音&lt;rt&gt;yīn&lt;/rt&gt;&lt;/ruby&gt;</span><br></pre></td></tr></tbody></table></figure>
<p><ruby>汉<rt> Hàn</rt></ruby> <ruby> 字<rt> zì</rt></ruby>
<ruby> 拼<rt> pīn</rt></ruby> <ruby> 音<rt> yīn</rt></ruby></p>
<h1 id="references">References</h1>
<ul>
<li><a href="http://wenxi.fun/study/html5/html5_pinyin.html">HTML5
汉字上方添加拼音标注</a></li>
<li><a href="https://www.w3school.com.cn/html5/html5_ruby.asp">w3school
HTML 5 <ruby> 标签</ruby></a></li>
</ul>
]]></content>
      <categories>
        <category>html</category>
      </categories>
      <tags>
        <tag>website</tag>
        <tag>html</tag>
      </tags>
  </entry>
  <entry>
    <title>黄山一日游</title>
    <url>/Trip/huangshan-one-day/</url>
    <content><![CDATA[<p>[toc]</p>
<p>这个国庆假期，我和父母从安徽淮北出发，到合肥转车，抵达安徽黄山，开启黄山两日游。</p>

<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=457399779&amp;bvid=BV1o5411j7R4&amp;cid=245445619&amp;page=1" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>

<!--
10 月 8 日，乘坐高铁，中午抵达黄山北站，陪父母黄山两日游。
-->
<h1 id="宏村半日游">宏村半日游</h1>
<p>10 月 8 日，乘坐高铁，中午抵达黄山北站，直奔宏村景区。</p>
<h2 id="宏村-vs-西递">宏村 vs 西递</h2>
<p>西递和宏村都属于徽派建筑的传统古村落。</p>
<p>西递面积比较小，宏村面积是西递面积的两倍。</p>
<p>宏村，家家门前有流水，号称古徽州 “牛” 形村落。商业化氛围浓重，道路两边都是商家。</p>
<p>西递，宗祠较多，建筑相对宏村更密集，享 “桃花源里人家” 之美誉。</p>
<p>对我而言，因为之前去过西递景区，所以这一次选择去宏村景区。</p>
<h2 id="交通">交通</h2>
<p>在黄山北站出门右转，附近有黄山旅游客运枢纽站，可以直接买到宏村景区的大巴车票￥30
/ 人，大概一个半小时到达宏村景区（一路盘山路），途径西递。</p>
<p>宏村并不大，景区内游览 2 小时。</p>
<p>从宏村出来后，因为错过了最后一班大巴车，拼车到黄山脚下汤口镇夜宿，￥25
/ 人。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/1008_timetable.jpg" width="400" height="200" title="发车时刻表"></p>
<h2 id="宏村特色">宏村特色</h2>
<p>宏村，因为李安导演的奥斯卡获奖电影《卧虎藏龙》而闻名中外，特色景点有南湖、月沼、南湖书院和汪氏宗祠。</p>
<ul>
<li>南湖：穿湖而过的画桥就是电影《卧虎藏龙》里李慕白牵马走过的地方，附近有很多美院的学生在写生。</li>
<li>月沼：开凿于明永乐年间的月沼是宏村中心位置的精华景点，周围的徽派建筑倒映其中，是最佳拍照点。</li>
<li>承志堂：宏村最豪华的建筑，清未大盐商汪定贵的住宅。</li>
</ul>
<p>因为宏村更多的是古建筑等人文景观，所以有必要请一个导游 (付费)，才能更好地了解宏村的建筑和背后的故事。如果只是自己随便在里面走一走，可能会觉得很无聊，一路看下来也没有什么收获。当然，你也可以蹭旅游团导游的讲解。</p>
<p>来宏村游览，一是看水景，南湖、月沼是精华所在；</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/1008_nanhu.jpg" width="400" height="300" title="南湖"></p>
<p>二是看建筑上的徽派三雕：砖雕、石雕、木雕，像剪纸一样精细。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/1008_woodcarving.jpg" width="400" height="200" title="木雕"></p>
<h1 id="黄山一日游">黄山一日游</h1>
<h2 id="路线总览">路线总览</h2>
<p>分享一张不错的旅游地图，地图上的预估徒步时间是比较客观和准备的，能作为自己行程安排的参考。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/1009_huangshan_map.jpg" width="400" height="300" title="黄山旅游景点路线图"></p>
<p>因为和父母同行，所以安排了一个比较轻松的徒步的徒步，基本路过了精华景点，下面是我们的路程安排。</p>
<p>早晨 7 点开始登山，后山云谷寺上，前山慈光阁下，此登山路线行走时间约为
9 个多小时，乘坐两次缆车。</p>
<p>寨西换乘中心 - 乘景区交通车至云谷寺 (￥19 /
人，在云谷寺买门票后，乘索道)— 白鹅新站 - 石笋缸 - 始信峰 - 黑虎松 -
北海宾馆 - 团结松 - 西海 - 丹霞峰 - 排云亭 - 回音壁 - 飞来石 - 群峰顶 -
光明顶 - 鳌鱼峰 - 鳌鱼洞 - 百步云梯 - 迎客松 - 玉屏站 (乘索道) - 慈光阁
- 景区交通车返回寨西。</p>
<p><a href="http://6.lvye.cn/mobile/trip/3854337/">我的黄山徒步路线</a></p>
<h2 id="旅游建议">旅游建议</h2>
<ul>
<li>时间有限的话，建议乘坐缆车，节省不必要的徒步时间，精华游。
<ul>
<li>本来打算和父母一起徒步从云谷寺登黄山，但是被一旁的工作人员劝阻，说父母体力很难撑下来；我将信将疑，最后还是选择了缆车上山。这一趟旅行下来，发现父母果然累得不轻，一天都在徒步，才基本游览完精华路线。特别感谢那位工作人员的好言相劝。</li>
</ul></li>
<li>疫情期间，黄山旅行需要提前一天预约 (微信小程序 -
黄山旅游官方平台)，可以节省游览当天的排队时间。</li>
<li>爬山体力消耗大，建议登山时携带水和自热米饭，可以中午休息时补充，山上价格很贵。</li>
</ul>
<p>黄山的体力消耗有多大呢？下图是我们的路线一部分，红色路线是从鳌鱼峰下来，路过鳌鱼洞，前往百步云梯的路线，基本
z 字型路线，翻山越岭，才经过了一两个景点。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/1009_demo_map.jpg" width="300" height="400" title="一张图看懂黄山有多难爬"></p>
<h2 id="奇遇">奇遇</h2>
<p>黄山虽然难爬，但是自然景色非常优美，让父母称赞不绝。</p>
<p>黄山代表景观有 “五绝三瀑”，五绝：奇松、怪石、云海、温泉、冬雪；三瀑：人字瀑、百丈泉、九龙瀑。</p>
<p>因为爬山前几天下雨，登山时天气放晴，我们见到了奇松、怪石、云海。</p>
<h3 id="怪石">怪石</h3>
<p><img data-src="http://www.waylon.one/downloads/images/travel/1009_miaobishenghua.jpg" width="300" height="300" title="妙笔生花"></p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/1009_feilaishi.jpg" width="300" height="300" title="飞来石"></p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/1009_houziguanhai.jpg" width="300" height="300" title="猴子观海"></p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/1009_xitianqujing.jpg" width="300" height="300" title="西天取经"></p>
<!--
披袈裟的和尚
-->
<h3 id="奇松">奇松</h3>
<p><img data-src="http://www.waylon.one/downloads/images/travel/1009_liamli_song.jpg" width="300" height="300" title="连理松 同根生"></p>
<!--
![安南伞]()
-->
<h3 id="云海">云海</h3>
<p><img data-src="http://www.waylon.one/downloads/images/travel/1009_sea_of_clouds .jpg" width="400" height="300" title="云海"></p>
<h3 id="动物们">动物们</h3>

<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=244957984&amp;bvid=BV1tv411k7e2&amp;cid=245445797&amp;page=1" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>

<h1 id="建议">建议</h1>
<ul>
<li>宏村和黄山景区有 65 岁以上老年人免票的政策，对老年人是比较友好的。
<ul>
<li>因为父母年龄超过了 65 岁，所以享受了两次免票。</li>
</ul></li>
<li>导游的必要性。宏村的人文景观，黄山的奇石，都需要导游指出后，自己才能发现新的点，否则，一路走下来，会缺少很多乐趣和发现。</li>
<li>现在购票、预约可以手机操作，乘车可以刷身份证进站；这些确实便捷了年轻人，提高了社会的效率，但是那些老年人怎么办呢？这次带着父母出来，发现他们有点适应不了这个变化的世界，如果不是我陪同，出行会很不方便。希望社会在快速奔跑时，不要忘记那些被抛弃的人，多一些人文关怀，对老年人友好一点，毕竟每个人都会老，都会逐渐被社会抛弃。</li>
</ul>
<!--

# 消费

这一次和父母，从安徽淮北出发，到合肥转车，然后抵达安徽。开始为期两天的安徽旅行；旅行结束当天乘车抵达杭州；翌日从杭州乘坐飞机抵达郑州，从郑州返回安阳，然后转车回到林州。

- 黄山一日游
上山大巴 19 * 3 + 上去缆车 80 * 3 + 单人门票 190 + 下山缆车 90 * 3 + 下山大巴  23 * 3 = 826
- 宏村旅游
门票 90 + 抵达车票 30 * 3 + 离开车票 25 * 3 = 255  
- 住宿
汤口镇 165 + 杭州 194 = 359
- 路线费用 2364 + 82.76 = 2446.76 + 21 
  * 淮北到合肥 164*3 = 492
  * 合肥南到黄山北 140.5 * 3 = 421.5
  * 黄山北到杭州 115 * 3 = 345
  * 杭州花小猪 62.76 + 20 = 82.76
  * 杭州到郑州 （227+50） * 3 = 816
  * 新郑机场到郑州火车站 21
  * 郑州到安阳 82.5 * 3 = 247.5
  * 安阳到林州 14 * 3 = 42
- 饮食 320.5
  * 肥东老母鸡 124 + 84 = 208
  * 合肥南饮料 6 * 2 + 7 = 19
  * 杭州机场蒸功夫 46
  * 杭州酒店外面 47.5
- 其他
  * 旅游保险 84 

-->
]]></content>
      <categories>
        <category>Trip</category>
      </categories>
      <tags>
        <tag>Journey</tag>
      </tags>
  </entry>
  <entry>
    <title>How to install rtags for vim in Ubuntu 18.04</title>
    <url>/Ubuntu/install-rtags-vim-ubuntu-18/</url>
    <content><![CDATA[<h1 id="how-to-install-rtags-for-vim-in-ubuntu-18.04-如何在ubuntu-18.04-vim上安装rtags插件">How
to install rtags for vim in Ubuntu 18.04 / 如何在 Ubuntu 18.04
vim 上安装 rtags 插件</h1>
<p>This blog introduces how to install the best cross-reference tool, <a href="https://github.com/Andersbakken/rtags">rtags</a>, that I have ever
used in vim, step by step. I hope it helps.</p>
<h1 id="whats-rtags">What's rtags</h1>
<p><a href="https://github.com/Andersbakken/rtags">Rtags</a> is a
client/server application that indexes C/C++ code and keeps a persistent
file-based database of references, declarations, definitions,
symbolnames etc. It allows you to find symbols by name (including nested
class and namespace scope). Most importantly, it gives you proper
follow-symbol and find-references support.</p>
<p>Rtags comes with emacs support but there are projects supporting
other IDEs: <a href="https://github.com/lyuts/vim-rtags">vim-rtags</a>
and <a href="https://github.com/rampage644/sublime-rtags">sublime-rtags</a>.</p>
<p>In this blog, We would install vim-rtags later.</p>
<h1 id="how-to-install-rtags">How to install rtags</h1>
<p><strong>First</strong>, you need clang, which is a compiler front end
for the C, C++, Objective-C and so on. It uses the LLVM compiler
infrastructure as its back end and has been part of the LLVM release
cycle since LLVM 2.6. </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">// Commands in Ubuntu terminal</span><br><span class="line">// sudo apt install clang-5.0 lld-5.0  </span><br><span class="line">// sudo apt install libclang-5.0-dev  </span><br><span class="line">sudo apt install llvm-7-dev libclang-7-dev</span><br></pre></td></tr></tbody></table></figure><p></p>
<!--And then add the bin binary to your path.-->
<p><strong>Secondly</strong>, make and install <a href="https://github.com/Andersbakken/rtags">rtags</a> as follows.
</p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">// Commands in Ubuntu terminal</span><br><span class="line">git clone --recursive https://github.com/Andersbakken/rtags.git</span><br><span class="line">cd rtags &lt;-- in rtags directory</span><br><span class="line">cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=1 .</span><br><span class="line">make</span><br><span class="line">sudo make install </span><br></pre></td></tr></tbody></table></figure><p></p>
<p><strong>Thirdly</strong>, you should install vim-rtags in <a href="https://github.com/VundleVim/Vundle.vim">Vundle.vim</a>. I think
it's the easiest way to install rtags plugin in vim. You need to add the
following line to .vimrc if you have installed Vundle, and then run
:PluginInstall in vim. </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">Plugin 'lyuts/vim-rtags' &lt;-- install in vim</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><strong>Finally</strong>, the last but essential step is that forcing
cmake to output compile_commands.json (like <a href="https://cmake.org/cmake/help/v3.5/variable/CMAKE_EXPORT_COMPILE_COMMANDS.html">DCMAKE_EXPORT_COMPILE_COMMANDS</a>)
and link it with rtags according to your project. </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=1 [***] your_src_path</span><br><span class="line">rc -J your_build_folder_path  &lt;-- use compile_commands.json in your build folder</span><br><span class="line">rdm &amp; &lt;-- launch the rtags server</span><br></pre></td></tr></tbody></table></figure><p></p>
]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Programming</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 iptables 阻止特定地区和国家的 IP 访问</title>
    <url>/Linux/iptables/</url>
    <content><![CDATA[<p>[toc]</p>
<!--
网站屏蔽和阻止特定地区和国家的IP访问
-->
<h1 id="前言">前言</h1>
<p>无论是出于什么原因，屏蔽和阻止特定地区和国家的 IP 访问都是我们日常建站中经常要用到的。</p>
<!--因为自己之前在网站的about页面展露太多消息，被美研同事发现我的踪迹，网站经常被访问，所以决定封掉某IP段，避免被访问-->
<p>如果网站是 Nginx，则可以直接使用 Nginx-ngx_http_geoip_module
模块，该模块可以精确到国家、省、市等一级的 IP，并且全部由 Nginx
执行识别和阻止访问，所以相对于 PHP 来说比较省资源，但是 Nginx
编译起来比较费事。</p>
<p>如果网站是搭建在 VPS 或者独立服务器上，那么可以直接使用 Linux
防火墙，利用 iptables 规则来阻止特定国家和省份的 IP 访问。</p>
<h1 id="iptables-规则来阻止特定-ip-访问">iptables 规则来阻止特定 IP
访问</h1>
<ol type="1">
<li>安装 iptables 防火墙 </li>
</ol>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"># CentOS</span><br><span class="line">yum install iptables</span><br></pre></td></tr></tbody></table></figure>
<ol start="2" type="1">
<li><p>清除已有 iptables 规则 </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">iptables -F</span><br><span class="line">iptables -X</span><br><span class="line">iptables -Z</span><br></pre></td></tr></tbody></table></figure><p></p></li>
<li><p>屏蔽指定 IP </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">#屏蔽单个IP的命令是</span><br><span class="line">iptables -I INPUT -s 123.45.6.7 -j DROP</span><br><span class="line">#封IP段即从123.45.6.1到123.45.6.254的命令是</span><br><span class="line">iptables -I INPUT -s 123.45.6.0/24 -j DROP</span><br></pre></td></tr></tbody></table></figure> <!--66.249.90.xx-->
<!--66.249.90.184--><p></p></li>
<li><p>查看已添加的 iptables 规则 </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">iptables -L -n</span><br><span class="line">v：显示详细信息，包括每条规则的匹配包数量和匹配字节数</span><br><span class="line">x：在 v 的基础上，禁止自动单位换算（K、M）</span><br><span class="line">n：只显示IP地址和端口号，不将ip解析为域名</span><br></pre></td></tr></tbody></table></figure><p></p></li>
<li><p>iptables 的开机启动及规则保存 </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">chkconfig –level 345 iptables on</span><br><span class="line">systemctl enable iptables.service</span><br><span class="line"># 如果配置文件里面设置了开机启动，systemctl enable命令相当于激活开机启动。</span><br><span class="line"># CentOS</span><br><span class="line">service iptables save &lt;--保存规则</span><br></pre></td></tr></tbody></table></figure><p></p></li>
<li><p>重启后生效 </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">开启：chkconfig iptables on</span><br><span class="line">关闭：chkconfig iptables off</span><br></pre></td></tr></tbody></table></figure><p></p></li>
<li><p>即时生效，重启后失效 </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">开启：service iptables start</span><br><span class="line">关闭：service iptables stop</span><br></pre></td></tr></tbody></table></figure><p></p></li>
</ol>
<!--
# References
- [网站屏蔽和阻止特定地区和国家的IP访问设置方法-PHP代码/Nginx/WordPress设置](https://wzfou.com/zuzhi-ip/)
- [centos服务器 屏蔽ip](https://blog.csdn.net/u013939884/article/details/55803118)
-->
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Website</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>记一次光大永明人寿保险的坑</title>
    <url>/Insurrance/insurrance-issue/</url>
    <content><![CDATA[<p>[toc]</p>
<p>声明：以下内容仅代表我的个人认知、个人经历和个人观点，虽然绝大部分的事情能保证真实性，但不能确保信息完全准确，请读者自己辨识。如果有任何错误，请不要将它们归咎于任何其他个人或组织。</p>
<p>本文讲述自己投保光大永明的一次纠纷，保险公司店大欺客，自己较真维权的经历，同时对投保的一些反思。</p>
<p>本人刚参加工作不久，虽然对保险的了解不够深入，但是也不是完全的小白，自己零散地对保险有一定的学习。因为朋友家庭的变故，让自己认识到投保来分散风险的重要性，自己也积极拿着刚到手的收入，进行了自己的第一次投保，却被号称高性价比的某款产品坑了，多次维权结果仍然不是很满意。</p>
<p>在此分享自己的经历，希望让大家认识到投保不是一件简单的事情，更不要轻易相信公众号的推销，有些无良的公众号为了保险提成非常不负责任。总结一句，在互联网上投保很简单，但是理赔维权并不简单，并不像有些公众号上说的线上投保和线下投保是一样的。</p>
<h1 id="事情经过">事情经过</h1>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Insurrance_gantt.jpg"></p>
<p>2019
年，自己经过多方的比价，在互联网上看中了一款性价比高的人寿保险产品 --
光大永明人寿保险有限公司的一款重大疾病保险产品。在投保后的犹豫期内，我记起来投保前有去医院复查过 XX。为了避免后续的可能纠纷，我主动联系保险公司做了补充告知，向保险公司报备，保险公司于是索要我的体检报告，我也及时提供了当年的体检报告和补充告知材料。几日后，我邮件收到核保通知单，告知解除我的人寿保险合同，理由是 “XX 指标异常，影响原保单承保决定”。</p>
<p>我无法认同这个结论和拒保理由，主要有三点理由：</p>
<ol type="1">
<li>我投保时认真阅读了健康告知，该产品的健康告知并没有针对 XX 指标的相关规定。保险公司用这个理由拒保，明显对我采用了比其他投保人更严格的核保规定。</li>
<li>针对 XX 指标问题，体检报告中的异常，我有去三甲医院复查和出具的诊断报告 (没有异常)。保险公司以更早的体检报告为由，而不是近期专业的医院诊断报告为由，显然站不住脚；</li>
<li>我投保时完全符合健康告知，并且后期由于对保险知识的不了解，以为是需要所有的身体情况都要告诉保险公司，主动补充告知，并且提供了体检报告，怎么会是 “未履行如实告知义务” 呢？</li>
</ol>
<p>因为拒保后影响后续其他保险的投保，我是断然无法接受这个结果的。</p>
<p>我先和保险公司的客服联系，沟通过程中，我认识到在我投保后，该款产品因为性价比高，公司修改了后续投保时的健康告知条款，变得更加严格。他们对我的拒保理由是基于我投保后的健康告知 (更加严格)，而不是我投保时的健康告知，更是直接无视保险合同上的健康告知条款。几次沟通后，客服也逐渐承认不应作出拒保结论，最后以公司系统原因，无法做出状态修改为由，坚持给我拒保的结论，完全不顾拒保结论对我后期投保的影响。另外，在我提出 “拒保” 结论对我后期投保有不好的影响时，希望他们顾及我的情况，客服居然很不负责任地说，我不用向其他保险公司如实告知，说拒保的结论只有他们公司可以看到，别的公司看不到。</p>
<p>此处，我可以明确地告诉各位，你的每个保险、健康告知，以及拒保结论等，每一家保险公司都是可以看到的，而这一般都是在涉及具体理赔的时候，保险公司才会去核对，所以不要轻信客服这种不负责任的欺骗。</p>
<p>在这一系列的沟通中，我认为光大永明人寿保险公司存在多项问题：</p>
<ol type="1">
<li>无视保险合同的条款，对进行补充告知的人采用更严格的健康告知规则，我认为这一行为会导致越来越多的消费者不敢如实告知，或者更倾向于隐瞒自己的健康情况。</li>
<li>该公司在给出核保结论时，十分不严谨，随随便便给出 “拒保” 结论，而这一核保结论对于我们消费者很重要，明明是保险公司的失误，最终的结果却需要由消费者承担。</li>
<li>该公司克服赤裸裸地欺骗消费者，并且诱导消费者向其他保险公司不如实告知，我认为他们这样的行为如果放任不管，会逐渐降低消费者对保险公司的信任和购买保险的热情，并且他们诱导消费者欺骗其他保险公司会扰乱保险市场。</li>
</ol>
<p>因为光大永明人寿保险公司坚决不做出更正，自己和客服人员沟通无果，无奈自己只能向上级监管部门 -- <a href="https://www.cbirc.gov.cn/cn/view/pages/index/index.html">中国银行保险监督管理委员会</a>投诉，要求公司撤回原有拒保的决定。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">投诉理由及诉求：</span><br><span class="line"></span><br><span class="line">作为一个普通的消费者，积极履行如实告知义务，而光大永明人寿保险有限公司以不合理的理由恶意拒保，导致我个人权益受到侵害，并欺骗我“拒保”结论不会被知道且引诱我欺骗其他保险公司。</span><br><span class="line">光大永明人寿保险有限公司在承认自己做出错误决定的情况下，依然以各种理由，多次沟通后，仍然不修改错误的记录，知错而不改，导致我无法继续投保其他公司的多款产品，同时改变了我对保险公司和保险行业的认识，降低了我对保险公司的信任。</span><br><span class="line"></span><br><span class="line">诉求：1. 重新审核核保通知单的不合理性，撤回原有的“拒保”决定，承认原保险合同的有效性；2. 追究光大永明人寿保险有限公司对消费者的欺骗和欺诈行为，以及知错不改、店大欺客的恶劣行为。</span><br></pre></td></tr></tbody></table></figure>
<p>第一次投诉后，光大永明人寿保险的客服再次了解情况，主要安抚我的情绪，事情依然没有进展，口头说向上汇报，隔段时间再联系，最后还是没有等来客服的电话。</p>
<p>于是自己进行第二次投诉，光大永明人寿保险的客服不再以系统为由，同意出具延期的书面证明，修改原来的拒保结论。很快，自己收到了书面证明材料，客服甚至联系我取消投诉。</p>
<p>现在，自己依然不满意光大永明人寿保险的结论，但是和大公司实在耗不下去，较真的力气快没有了，但我还会继续争取自己的合法权益。</p>
<h1 id="投诉渠道">投诉渠道</h1>
<ul>
<li><a href="https://www.cbirc.gov.cn/cn/view/pages/index/index.html">中国银行保险监督管理委员会</a>
<ul>
<li>消费者投诉维权 热线电话: 12378 (工作日 9:00-17:00)</li>
<li> 我理解热线电话的客服属于第三方的外包，只负责记录事情和诉求，然后向银保监会转达，所以服务态度还是很好的。</li>
<li>无论银保监会是否受理，都会向你的地址邮寄一封挂号信，同时把投诉转发给保险公司。</li>
</ul></li>
</ul>
<h1 id="投保反思">投保反思</h1>
<ul>
<li>在投保选择产品时，不要只是看重性价比，贪图便宜，还是应该看一下保险公司在理赔、咨询、维权等方面的表现。
<ul>
<li>以中国银保信官方机构出具的 <a href="https://mp.weixin.qq.com/s/pTm_5au5s271_0OnJLZfiQ">保险公司服务评价结果</a>，光大永明人寿保险有限公司属于 B 级，水平如何大家自行判断。</li>
</ul></li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Insurrance_Companies_ranks.png"></p>
<ul>
<li>理论上线上和线下投保是一样的，但是我在和客服沟通中，我认识到他们把线上投保的所有责任都归给投保人，可以找各种理由搪塞你，我认为这可能在后期维权非常不利于投保人；而线下因为有对方的保险销售人员，情况可能会好点。以上这条，仅是我的个人认知。</li>
<li>现在互联网保险盛行，各种公众号都开始卖保险赚推销费，后面的理赔维权却靠不住；所以，希望各位有意投保的人思考一下，不要被忽悠。同时，我预言一下，我认为后期互联网保险如果监管不严格，可能保险的拒赔会越来越多。</li>
<li>投保只是分散个人的风险，保证稳定性。现在大数据基本把每个人的投保和医疗信息记录起来，个人不要抱着骗保的心思去投保。</li>
<li>不要迷信公众号、大 V，有些公众号，自媒体是不负任何责任的胡说八道，赤裸裸诱导你不合规操作，请谨慎对待自己的每一份血汗钱和每一次选择。</li>
<li>虽然投诉不一定有效果，但是你在银保监会的投诉都会影响保险公司的评比得分
<a href="https://mp.weixin.qq.com/s/pTm_5au5s271_0OnJLZfiQ">保险公司服务评价结果</a>，避免劣币驱逐良币。</li>
</ul>
<!--
- 虽然较真、投诉不一定能够得到满意的结果，但是至少不能让劣币驱逐良币。
-->
<p>以上内容仅代表我的个人认知、个人经历和个人观点。虽然绝大部分的事情能保证真实性，但不能确保信息完全准确，请读者自己辨识。如果有任何错误，请不要将它们归咎于任何其他个人或组织。</p>
]]></content>
      <categories>
        <category>Insurrance</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
      </tags>
  </entry>
  <entry>
    <title>How to install Sogou Pinyin in non-Chinese versions of Ubuntu 18.04 / 如何在非中文版的 Ubuntu 18.04 安搜狗拼音输入法</title>
    <url>/Ubuntu/install-sogou-ubuntu-18/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="background">Background</h1>
<p>Recently, I updated my Ubuntu version from 16.04 to 18.04, and I'd
like to share my experience on how to build a work or study environment
for yourself.</p>
<p>This blog mainly introduces how to install Sogou pinyin in
non-Chinese versions of Ubuntu.</p>
<p><img data-src="/downloads/images/Chinese_characters.png"></p>
<h1 id="how-to-install-sogou-pinyin">How to install Sogou pinyin</h1>
<p><strong>Firstly</strong>, you should install fcitx, a lightweight
input method framework aimed at providing environment independent
language support for Linux. </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt install fcitx-bin</span><br><span class="line">sudo apt install fcitx-table</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>You can also uninstall ibus, an input-method framework for Unix-like
computer operating-systems. </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt purge ibus</span><br><span class="line">sudo apt autoremove</span><br></pre></td></tr></tbody></table></figure> <!--
[Another method to install pinyin](https://www.pinyinjoe.com/linux/ubuntu-18-gnome-chinese-setup.htm)
--><p></p>
<p>BTW, you can read <a href="https://unix.stackexchange.com/questions/260601/understanding-setting-up-different-input-methods">Understanding
&amp; setting up different input methods</a> if you are interested in
the difference between fcitx and ibus.</p>
<p>Recall that: &gt; remove - remove is identical to install except that
packages are removed instead of installed. Note that removing a package
leaves its configuration files on the system. If a plus sign is appended
to the package name (with no intervening space), the identified package
will be installed instead of removed.</p>
<blockquote>
<p>purge - purge is identical to remove except that packages are removed
and purged (any configuration files are deleted too). This of course,
does not apply to packages that hold configuration files inside the
user's home folder.</p>
</blockquote>
<blockquote>
<p>what sudo apt autoremove actually does? Whenever you install an
application (using apt-get), the system will also install the software
that this application depends on. It is common in Ubuntu/Linux that
applications share the same libraries. When you remove the appplication
the dependency will stay on your system. So apt-get autoremove will
remove those dependencies that were installed with applications and that
are no longer used by anything else on the system.</p>
</blockquote>
<p>You can subsequently open <strong>Language Suppor</strong> to
double-check that <strong>Key board input method system</strong> has
change from ibus to fcitx, and you can change it manuallyif not. You can
ignore it and click the "Remind Me later" button if you are reminded
that "The language support is not installed completely".</p>
<p><img data-src="/downloads/images/language_support_linux.png"></p>
<p>Importantly, you must <font color="red">
<strong>reboot</strong></font> your system after that.</p>
<p>After that, you can download the deb package from the official
website, <a href="https://pinyin.sogou.com/linux/?r=pinyin">搜狗输入法
for Linux</a>, or here (also official links) directly.</p>
<ul>
<li><a href="http://cdn2.ime.sogou.com/dl/index/1524572032/sogoupinyin_2.2.0.0108_i386.deb?st=g_AXK19LEkZ7zsl2oOV3hQ&amp;e=1582358642&amp;fn=sogoupinyin_2.2.0.0108_i386.deb">32bit
- sogoupinyin_2.2.0.0108_i386.deb</a></li>
<li><a href="http://cdn2.ime.sogou.com/dl/index/1571302197/sogoupinyin_2.3.1.0112_amd64.deb?st=EIacqcesOuHgsaQY0n9bjQ&amp;e=1582358642&amp;fn=sogoupinyin_2.3.1.0112_amd64.deb">64bit
- sogoupinyin_2.3.1.0112_amd64.deb</a></li>
</ul>
<p>You can install it in <strong>Ubuntu Software</strong> by
double-clicking, shown as below.</p>
<p><img data-src="/downloads/images/sogou_deb_installed.png"></p>
<p>Importantly, you must <font color="red">
<strong>reboot</strong></font> your system again.</p>
<p>You can open fcitx config tool after rebooting, as you can see below.
You should also see Sogou Pinyin in the lists. Unfortunately, if not,
you can add it by clicking the + mark, choose Sogou Pinyin and reboot
the system again.</p>
<p><img data-src="/downloads/images/fcitx_config.png"></p>
<p>Now, you should input Chinese characters at the same time. In other
words, you can use it as convenient in Windows system, like the
Shuangpin input method. Yeah, you can learn more detail about Shuangpin
in <a href="https://www.yanlongwang.net/monthly-skills/monthlyskills-shuangpin/">双拼学习</a>.</p>
<p>Just enjoy Ubuntu 18.04.</p>
<h1 id="references">References</h1>
<p><a href="https://www.pinyinjoe.com/linux/ubuntu-18-gnome-chinese-setup.htm">Ubuntu
Chinese Setup</a><br>
<a href="https://xunyunliu.github.io/post/install_sogou/">How to install
Sogou input on Ubuntu 16.04</a></p>
<!--
[Reference link](https://blog.csdn.net/f_c_g_/article/details/81265589)
-->
]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
      </tags>
  </entry>
  <entry>
    <title>广西北海五日游</title>
    <url>/Trip/guangxi-trip-2021/</url>
    <content><![CDATA[<p>[前方多图预警]</p>
<!--和鼓浪屿的比较-->
<!--我们出发去北海市，因为南京市，扬州市和北京市疫情的反复，车厢有点空荡荡的。-->
<h1 id="第一天-红树林赶海">第一天 红树林赶海</h1>
<p>7
月末的早晨，从桂林市到北海市乘坐动车，希望以这种走马观花的方式，更近距离地了解广西省</p>
<p>动车先是飞快地穿行在喀斯特地貌中，村落零散分布在山脉之间，炊烟袅袅。快抵达北海时，景色已经转变为大片的水塘和水田，好似江南水乡风光。</p>
<span id="more"></span>
<figure>
<img data-src="/downloads/images/16296261197389.png" alt="16296261197389">
<figcaption aria-hidden="true">16296261197389</figcaption>
</figure>
<p>我是北方人，对广西的了解不太多，看到满含生活气息的景色不断穿入眼帘，新奇，激动，开心。</p>
<p>我们到达北海后，第一站就是红树林。</p>
<blockquote>
<p>红树林是什么？红树林不是想象中的高大树木，是生长在热带、亚热带海岸潮间带，受周期性潮水浸淹，由红树植物为主体的常绿乔木或灌木组成的湿地木本植物群落，在净化海水、防风消浪、固碳储碳、维护生物多样性等方面发挥着重要作用，也是珍稀濒危水禽重要栖息地，鱼、虾、蟹、贝类生长繁殖场所。</p>
</blockquote>
<p>红树林靠近海岸，离市区比较远，我们把民宿选在了红树林景区附近 --
中信国安
北海第一城。这里比较偏僻，入住率很低，附近饭馆很少，外卖也需要一个多小时才到，不建议后面旅行时住到这个地方。如果想体验赶海，可以起个大早，没必要晚上提早住在这个地方。</p>
<p>7 月份是北海最热的一段时间。下午 5
点半，阳光比较温和，沿着滨海公路徒步，先经过红树林景区 (收门票)，继续向前徒步一刻钟，看到路边的一个缺口，进去就是红树林。</p>
<blockquote>
<p>红树林，不单指红树林景区。红树林景区收门票，在景区附近沿海的地方也有成片的红树林，在路边偶尔可以看到一个豁口，走进去两边就是红树林；如果你不租用工具，是不收费的。</p>
</blockquote>
<p>红树林，果然是动物的宝库，肉眼可见红树林中有大大小小的螃蟹，栖息的海鸟，以及叫不上名字的海洋小动物。</p>
<figure>
<img data-src="/downloads/images/Mangrove.JPG" alt="并不高大的红树林">
<figcaption aria-hidden="true">并不高大的红树林</figcaption>
</figure>
<blockquote>
<p>相比于北戴河和青岛的开放海滩，红树林很有特色。红树林更像滩涂，没有明显的落差，整体比较平滑，可以趁着落潮，步行进入大海深处。</p>
</blockquote>
<figure>
<img data-src="/downloads/images/forest_beach.JPG" alt="forest_beach">
<figcaption aria-hidden="true">forest_beach</figcaption>
</figure>
<p>通常意义的赶海，是指在潮汐作用下，当海水退潮后，在海岸的滩涂上采集海产品。我们傍晚出去时，正好赶上了海水涨潮，没有遇到大规模的赶海队伍，而是只有零散的游客在红树林中游玩。涨潮对我这个北方人来说也是新鲜的体验。</p>
<p>在中国海事网查询北海地区的 <a href="https://www.cnss.com.cn/tide/">潮汐表</a>，根据潮汐时间合理安排游玩时间。这个潮汐表类似于天气预报，每天都会动态变化，需要结合游玩时间去查询。</p>
<figure>
<img data-src="/downloads/images/tide.png" alt="潮汐表">
<figcaption aria-hidden="true">潮汐表</figcaption>
</figure>
<blockquote>
<p>注意安全，潮水涨起来还是很快的，不要逗留，不要远离海滩。</p>
</blockquote>
<p>我们先是穿过红树林，光脚踏着湿漉漉的海滩，徒步走了一段距离，才走到海水边。下午
6
点半的时候，海水开始上涨，海洋小动物们乘着第一波浪冲上来，可能是想抢吃的。</p>
<p>踏着涨潮的第一波海浪，你可以感受到小鱼在脚趾尖游动，我甚至都徒手抓到一只小鱼呢！</p>


<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=331064241&amp;bvid=BV1gh411p7fZ&amp;cid=280402897&amp;page=1" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>

<!--简单在楼下找一家餐馆，简单吃一顿饭。-->
<h3 id="拳头大的蜗牛">拳头大的蜗牛</h3>
<p>北海的天气黑起来很快，我们回去住处的路上，天已经比较暗了。路上偶遇拳头大小的蜗牛，周边的树丛里并不少见。北方人第一次见到这么大的蜗牛，
🤔吃惊到都不敢怀疑 “南方人骑着蟑螂上班” 的传言。</p>
<p>这种大蜗牛，网络上说是<strong>非洲大蜗牛</strong>，属于入侵物种，昼伏夜出，野外个体携带致病菌，极易传播结核病和嗜酸性脑膜炎，<strong>不要触碰</strong>。</p>
<p><img data-src="/downloads/images/African_snail.jpg" alt="African_snail"><img data-src=""></p>
<p>吐槽一下，当天入住的北海第一城，入住率特别低，诺大的高楼，只有简单的几盏灯亮着，周边设施很不完善。开滴滴的师傅说，因为近期打击传 * 销，现在北海的常驻人口减少不少。</p>
<p>我们住在高处，面朝大海，算是海景房，但是晚上的大海非常黑暗，什么都看不到，只能听到远处的海浪声，周围的楼房也都是黑咕隆咚的，略微有点恐怖，不建议入住。</p>
<blockquote>
<p>如果第一次赶海，可以在某团上预约赶海，38 元 / 人。赶海当天会有当地人带着，教授赶海技巧，提供赶海的工具 (拖鞋，耙子，铁锹，小桶，斗笠和半瓶子食盐)。强烈安利游客购买，赶海体验特别棒！</p>
</blockquote>
<h1 id="第二天-红树林赶海">第二天 红树林赶海</h1>
<p>早上起来后，从阳台望过去，白云看起来很重，压着大海向远处走去。</p>
<p><img data-src="/downloads/images/beihang_in_morning.JPG" alt="beihang_in_morning"><img data-src=""></p>
<p>我们团购了赶海服务，大概 7
点一刻，几十个人的赶海队伍跟随着当地向导，穿过红树林，向大海深处走去。</p>
<p>我们在赶海过程中，遇到了海虫，贝壳，竹蛏 (cheng)，沙蟹，海虫等各种各样之前从没见过的海洋生物。</p>
<blockquote>
<p>竹蛏，贝壳长，质薄脆，两片合抱成竹筒状。栖息浅海泥沙中，穿穴而居，若置少许食盐于穴中，每自穴中跃出。</p>
</blockquote>
<p>分享当地人教授的捉竹蛏的技巧。在海滩上经常可以看到虫洞，但是大部分是海虫洞。竹蛏洞一般。找竹蛏洞时，需要脚用力踩地面，观察周围的小洞穴，是否有近似阿拉伯数字
8
字形，偏长，那很可能是竹蛏的洞穴；发现可疑竹蛏洞后，稍微加点食盐，竹蛏就会从洞中出来，如果等待一会没有出来，那很可能就是海虫洞，加再多盐也没用。</p>
<p><img data-src="/downloads/images/zhucheng.JPG" alt="zhucheng"><img data-src=""></p>
<p>海洋真是一个宝库，自己遇到很多神奇的事情，比如海虫捕食贝壳，快速奔跑的陀螺和寄居在贝壳里的贝壳孩子们，也许这在当地人眼中是见多不怪了。</p>


<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=331064241&amp;bvid=bv1Ub4y1y75K&amp;cid=280402897&amp;page=1" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>


<p>旅游老规矩，凡所到处必下雨。早晨的天气看起来还不错，没想到赶海过程中突然就会飘过来一阵雨，打你个措手不及，原本浩浩荡荡的赶海队伍也七零八散，一脸懵逼啊。</p>
<p><img data-src="/downloads/images/thundershower_0731.JPG" alt="thundershower_0731"><img data-src=""></p>
<p>周边没有任何遮挡的地方，我们也没有拿雨伞，所以只能被雨淋着；这雨来得快，走得快，天空很快就恢复了晴朗。北海的云特别低，压得我有点不习惯。</p>
<p><img data-src="/downloads/images/low_clouds.JPG" alt="low_clouds"><img data-src=""></p>
<p>我们这次赶海到中午时间半才结束，因为我们比较懒，所以贝壳没有刨多少，但是竹蛏倒是抓到一些，算下来应该可以抵得上两个人的跟团费。</p>
<p>我们在就近的一家饭店里把赶海得到的贝壳和竹蛏爆炒加工，加工费是 20 / 斤。那个贝壳吃起来很软很嫩，比其他地方的贝壳好吃多了；相反，竹蛏吃起来感觉一般般，没有想象的那么味美。</p>
<!--店家人特别好，帮我们用盐水泡了很久，等吐完沙子才开始做。虽然费些功夫和时间，但是味道很好。-->
<h2 id="奔赴涠洲岛">奔赴涠洲岛</h2>
<p>从北海市区到涠洲岛需要乘船，船票需要提前预约买票，尤其是旅游高峰期。</p>
<blockquote>
<p>涠洲岛，国家 5A 级旅游景区，位于<a href="https://baike.baidu.com/item/广西壮族自治区/163178">广西壮族自治区</a>北海市<a href="https://baike.baidu.com/item/北部湾">北部湾</a>海域中部，北临广西<a href="https://baike.baidu.com/item/北海市">北海市</a>，东望<a href="https://baike.baidu.com/item/雷州半岛/432557">雷州半岛</a>，东南与<a href="https://baike.baidu.com/item/斜阳岛/8779707">斜阳岛</a>毗邻，南与<a href="https://baike.baidu.com/item/海南岛/179653">海南岛</a>隔海相望，西面面向<a href="https://baike.baidu.com/item/越南/155278">越南</a>。</p>
<p>涠洲岛是火山喷发堆凝而成的岛屿，有海蚀、海积及溶岩等景观，岛的最高海拔 79 米。岛内景区包括鳄鱼山景区、滴水丹屏景区、石螺口景区、天主教堂景区和五彩滩景区等。</p>
</blockquote>
<p>我们是从 北海国际客运站
乘船，票价是单程 150 元 / 人。也是当地人通勤的工具，往返。</p>
<!--北游26-->
<p>我们的游船是 2
点半出发，提前半小时检票，准时开船，从北海市到涠洲岛需要一个多小时的时间。</p>
<p>乘坐的邮轮非常拥挤，座位很密集，声音也特别嘈杂，导致船上空气很闷；再加上一个小时的颠簸，有不少游客晕船。这次乘船的体验很差，请提前备好晕车药。</p>
<p>涠洲岛属于一个旅游景点（涠洲岛火山国家地质公园），所以登岛就需要购买景点票，98 元 / 人。这个门票基本覆盖涠洲岛所有景点，如果逗留时间比较长，还是划算的。</p>
<figure>
<img data-src="/downloads/images/weizhou_island_map.jpg" alt="weizhou_island_map">
<figcaption aria-hidden="true">weizhou_island_map</figcaption>
</figure>
<p>我们在涠洲岛选的民宿，在涠洲岛的天主教堂景区附近，处于涠洲岛中部，距离各个景点都不远。安顿后已经是傍晚。我们徒步到教堂，然后去贝壳海滩。</p>
<blockquote>
<p>涠洲岛现在仍然处于开发阶段，景区开发比较完善，非景区地点还保持着乡村的气息。你可能刚沉浸在乡村气息中，然后拐个街道就是现代化的街道和设施。如果喜欢这种感觉，就要抓紧了。</p>
</blockquote>
<!--漫步在涠洲岛上，可以听到鸡打鸣，路上能看到憨憨的老牛。-->
<h3 id="天主教堂">天主教堂</h3>
<p>说起来很不巧，我们到这里的时候，教堂已经关门了，里面进不去，只能看一下教堂近景。</p>
<p>教堂多次修缮，虽然颜色看起来有点旧，但是平常还是正常开放的。</p>
<p><img data-src="/downloads/images/beihai_church.jpg" alt="beihai_church"><img data-src=""></p>
<h3 id="贝壳海滩">贝壳海滩</h3>
<p>贝壳海滩的沙子，细腻，柔软，我感觉是涠洲岛最舒服的一个海滩。傍晚，迎着海风坐在沙滩上，听着海浪无休止的声音，惬意的很。</p>
<p><img data-src="/downloads/images/seashell_beach-2558455.jpg" alt="seashell_beach"><img data-src=""></p>
<blockquote>
<p>在海滩休息时，总是有人会招揽你玩海上摩托艇。民宿老板说，这边的摩托艇大部分是无证经营，尽量要到正规经营的地方玩，提高安全意识。</p>
</blockquote>
<p>天色暗下来的时候，我们从贝壳海滩起身去找吃的。涠洲岛一半是景点，一半是乡村，吃饭的地方也都聚集在热闹的景点附近，我们去热闹街道的路上，有一段乡村道路上灯很昏暗，女生独自游玩还是不要晚上出来。</p>
<!--你不要以为涠洲岛到处是优美的环境，比较有乡间的感觉。有鸡叫声-->
<p>讲一个小米蕉和青皮蕉的故事。涠洲岛特有的是小米蕉，体积小，果肉芳香，蕉皮是鹅黄色的，剥掉蕉皮，肉质呈鹅黄色，酸甜可口，芬芳扑鼻。因为小米蕉受不了长途运输，所以往往只能在北海附近才能买到，价格很便宜，5～10 块钱就可以买到一把香蕉。青皮蕉和小米蕉体积差不多，蕉皮是青色的，不是没有熟透的小米蕉，青皮蕉一般用来喂养动物的。</p>
<h1 id="第三天-涠洲岛">第三天 涠洲岛</h1>
<p>涠洲岛 8 月份非常热，一般是早晨和傍晚出去玩，中午回来休息。</p>
<!--8月1日-->
<p>我们住处是非常的乡村气息，早晨是被隔壁鸡叫声吵醒的。因为鸡叫声很强烈，早晨
7 点，我们租好电瓶车，60 元 / 天。</p>
<p>因为天气有点灰蒙蒙的，云压的有点低，早起去五彩滩肯定看不到日出，所以我们先去贝壳沙滩，打算绕岛一周。</p>
<h2 id="贝壳海滩-1">贝壳海滩</h2>
<p>我们到贝壳海滩后，海滩人很少，没有昨天傍晚的喧嚣，可能大家都去五彩滩看日出啦。</p>
<p>在贝壳海滩上吹一会海风，我们骑着电瓶车，打算环岛一圈，边走边玩。</p>
<p>早晨 8
点多，我们骑着租来的电瓶车，哼着歌出发去五彩滩。走到半路上，天空突然乌云密布，大雨也很快就到了。我们骑在路上无处藏身，只能在大雨中停在大树下（顾不上闪电）。我们不得不在中途折返回酒店，更换干净衣服，等雨停了再出发。</p>
<h2 id="五彩滩">五彩滩</h2>
<p>南方的雨来得快，走的也很快，大概一个多小时雨就停了。上午十点多，我们从住处再次出门，第一站就是五彩滩。</p>
<blockquote>
<p>五彩滩，沙滩上有许多像芝麻一样的黑色的小石粒而出名。退潮后，大片大片的火山熔岩裸露出来，巨大的火山岩石一层一层的。虽然海水退了，但还是留下了大片大片的一洼一洼的水，和裸露的岩石一起形成多彩的海滩，很是迷人。站在五彩滩远眺，斜阳岛就在眼前。</p>
</blockquote>
<p>五彩滩，是看日出的好地方，特点是五颜六色的石头和岩石里的水洼。石头就像按层堆砌的，上面有植物在艰难地求生。</p>
<p><img data-src="/downloads/images/coloful_beach.JPG" alt="coloful_beach"><img data-src=""></p>
<p><img data-src="/downloads/images/coloful_rocks.JPG" alt="coloful_rocks"><img data-src=""></p>
<p>在岩石的上头，是密密麻麻的仙人掌植物，为什么会这样呢？难道条件太艰苦，其他植物无法生存下来？</p>
<p><img data-src="/downloads/images/coloful_rocks1.JPG" alt="coloful_rocks1"><img data-src=""></p>
<p>站在五彩滩上，你可以远眺到远处的斜阳岛。斜阳岛是原生态的海岛，现在游客不可以登岛。</p>
<p><img data-src="/downloads/images/Xieyang_island.JPG" alt="Xieyang_island"><img data-src=""></p>
<p>总体而言，五彩滩适合看日出，海浪比较大，沙子比较大，有点硌脚，并不适合玩水。</p>
<h2 id="滴水丹屏">滴水丹屏</h2>
<p>从五彩滩出来后，我们在一家网红老店 (食庐)
吃午饭，然后去滴水丹屏景点。</p>
<p>滴水丹屏停一辆电瓶车居然收费 5 元，赤裸裸的收割游客啊。</p>
<!--食庐这家店在网上的评价不错，但是我感觉一般般，果腹而已。-->
<blockquote>
<p>滴水丹屏，壁上层间裂隙常有水溢出，一点点往下滴，如朱帘垂挂。</p>
</blockquote>
<p>滴水丹屏，特点是离海底珊瑚区很近，所以沙滩中混着珊瑚礁，不过绝大多数是半截的。</p>
<!--另外，这里有潜水观光的服务，我们没有体验。-->
<p>滴水丹屏靠近海的地方是火山岩流动的痕迹，石头比较零碎，也非常陡峭，上面的珊瑚礁特别多。</p>
<p><img data-src="/downloads/images/Beihang_drop_of_water_2.JPG" alt="Beihang_drop_of_water_2"><img data-src=""></p>
<p>滴水丹屏的海滩，靠近水边的沙子虽然细腻，但是中间铺满了碎珊瑚，还是有点硌脚。</p>
<p><img data-src="/downloads/images/Beihang_drop_of_water_1.JPG" alt="Beihang_drop_of_water_1"><img data-src=""></p>
<p>没错，我特意拍下来就是想告诉你，这边的沙子混着珊瑚礁，所以不适合光脚在上面徒步。</p>
<h2 id="鳄鱼山">鳄鱼山</h2>
<p>鳄鱼山和滴水丹屏距离并不远，所以我们从滴水丹屏出来后，直奔鳄鱼山。</p>
<p>注意，鳄鱼山需要乘坐摆渡车，或者。。。我们原本是骑行过去的，但是被当地人用铁栅栏拦路，骑行过不去，只能交停车费停车，然后徒步在乡村道路上半个多小时才能到景点门口。</p>
<blockquote>
<p>鳄鱼山景区，位于涠洲岛的西南端，是地质公园的核心景区。景区之内多有奇石怪岩，惊涛拍岸，不得不令人拍案叫绝，感叹大自然的鬼斧神刻，叹为观止。</p>
</blockquote>
<!--鳄鱼山，据说是涠洲岛最美的景点，位于岛的西南端，这是我到过的最南的一个地方啦。-->
<p>鳄鱼岛旅游线路是单方向的环形，绕一圈再从出口出来，所有景点会依次经过。</p>
<p><img data-src="/downloads/images/Crocodile_mountain_tour_map.jpg" alt="Crocodile_mountain_tour_map"><img data-src=""></p>
<p>鳄鱼山是火山岩地质，可以看到很多不常见的景观，比如海蚀，火山弹等。</p>
<figure>
<img data-src="/downloads/images/unique_rocks.jpg" alt="unique_rocks">
<figcaption aria-hidden="true">unique_rocks</figcaption>
</figure>
<blockquote>
<p>一般的海蚀通常伴随着潮汐，周期性的潮汐引起海水向陆地的水平流动，进而对陆地边缘产生侵蚀作用，而其中又以波浪的侵蚀力最大，前冲的波浪进入陆地，而后退的波浪挟带砂砾磨蚀海岸，海岸的岩壁受到海水作用，外侧的岩体被海浪切断，进而剥落而形成。</p>
</blockquote>
<blockquote>
<p>火山弹是火山喷发时，熔岩被抛到空中，在空中急速飞行，受到阻力、张力作用，发生旋转，于冷却或半冷却状态下落地而成的弹状体。</p>
</blockquote>
<blockquote>
<p>生长在岩石裂隙中的植物，随着根系不断地长大，对裂隙壁产生挤压，使岩石裂隙扩大，从而引起岩石破坏，这种作用称根劈作用
。</p>
</blockquote>
<!--这里居然也玩我画你猜，比如百兽闹海。-->
<p>站在鳄鱼山上，可以远眺远处的猪仔岭。</p>
<p>除了奇石怪岩，我还发现很多南方特有的植物。植物这么奇怪，北方人是怎么认出来的呢？微信小程序，<strong>肥小美</strong>，可以拍照识别植物，教你认识那些陌生的植物。</p>
<p><img data-src="/downloads/images/unique_botany.jpg" alt="unique_botany"><img data-src=""></p>
<p>在鳄鱼岛溜达完，已经下午 5
点多，我们本来想绕岛一周的，但是天黑起来非常快，我们只能半路折返，回去休息啦。</p>
<h1 id="第四天-北海市">第四天 北海市</h1>
<p>和昨天一模一样的剧本，我们大清早出门，本来想去官方推荐的<strong>石螺口海滩</strong>尝试游泳，但是天空还是不作美，我们大概是
8
点到达石螺口海滩，海滩上游人很少，天空又突然开始下雨，我们冒着雨再一次折返回住处。</p>
<p>因为今天是在涠洲岛呆着的最后一天，我也许一辈子再也不会过来了，所以带着留恋的心情绕着涠洲岛骑行。涠洲岛并不大，骑着电瓶车一个小时就可以绕<strong>环岛风情路</strong>一圈。</p>
<p><img data-src="/downloads/images/Huandao_Road.jpg" alt="Huandao_Road"><img data-src=""></p>
<p><a href="http://6.lvye.cn/mobile/trip/4579162/">六只脚涠洲岛环岛路
循迹</a></p>
<p>我们是下午的船，所以剩余的时间就在涠洲岛闲逛。民宿老板非常热心地送我们到码头乘船。</p>
<!--中午在路边吃一碗面，非常简单。两家面店紧挨着，一家非常拥挤，另一家非常冷落，看来大家吃面都是图一个人多，但是味道和服务一般般。-->
<p>总体而言，涠洲岛还处于开发状态，好多商家是本地的农民，服务态度还不到位，外面的商家逐渐入住，服务质量会不断提升，旅游体验会逐渐好起来；因为正处于开发状态，所以很有一些原汁原味的乡村感觉，比如鸡叫声。虽然岛内不能开车，但是游客驾驶的电动车，以及景区内的通勤车，还是溜溜地从你身边飞快擦过去，走路反而更不安全。</p>
<p>回程的船比较慢，居然需要两个小时。自己用了晕车贴，感觉还是不舒服，但是没有第一次那么痛苦。傍晚时分，我们回到了北海市码头，我们到达北海市区后就是倾盆大雨，然后持续一个晚上的时间。</p>
<p>晚上的时间，我们在北海闲逛。在北海市区的超市里，遇到了一排排的水果，原来芒果和梨可以有这么多选项，实名羡慕。</p>
<p><img data-src="/downloads/images/rich_options_fruits.JPG" alt="rich_options_fruits"><img data-src=""></p>
<!--我们冒着雨，去“侨港风情小吃街”。这边的食物偏越南口味，口感上还是有特点的。我们在爆火的“越乡小厨”吃饭，整体感觉口感一般。-->
<h1 id="第五天-离开北海市">第五天 离开北海市</h1>
<p>因为疫情的原因，返京开始有所限制，我们担心被拦在外地隔离，原本打算在北海玩六天，我们决定早一天返回北京，其他市区内景点顾不上了。</p>
<!--因为疫情的原因，我们原来预定的机票可以免费退票。-->
<h2 id="北海银滩">北海银滩</h2>
<p>傍晚的机票，所以我们抽出半天时间去酒店旁边的银滩游泳。</p>
<p>北海银滩的水质和涠洲岛海滩比较起来差太多，水都是浑浊的，非常后悔没有在涠洲岛好好玩水。</p>
<p>北海银滩服务还是很全的，比如租赁游泳圈，存包（30
元 / 位），洗澡（收费）等。提供一个不错的思路，如果同行的人比较多，可以去找一个旁边的钟点房酒店换洗衣服，体验比这里好多了。我们两个人预定的是丽柏酒店
97 元 / 3 小时 的钟点房，如果两个人在海滩边洗澡，估计也是这个价格。</p>
<p>之前在北戴河和青岛玩，我不怎么注意防晒，一般一两天就会恢复正常。在北海旅行，尤其是游泳，一定要注意防晒，这边的阳光要更加毒辣。我们在海水里游玩半天，皮肤就被晒黑，然后皮肤开始发热，疼痛，最后开始大片的蜕皮，非常恐怖。</p>
<hr>
<p>北海对北方人来说，是一个非常有特色的城市，在这里我见到了奇石怪岩，稀奇植物，体验了赶海乐趣，品味了越南口味，值得回味的一段旅行。</p>
]]></content>
      <categories>
        <category>Trip</category>
      </categories>
      <tags>
        <tag>Journey</tag>
      </tags>
  </entry>
  <entry>
    <title>剑桥领思介绍</title>
    <url>/English/linguaskill-introduction/</url>
    <content><![CDATA[<p>[toc]</p>
<p>免责声明：以下内容仅代表我的个人认知、个人经历和个人观点，不能确保信息完全准确，请读者自己辨识。如果有任何错误，请不要将它们归咎于任何其他个人或组织。</p>
<!--
请移步 [个人网站](http://www.waylon.one/English/linguaskill-introduction/)，阅读最新内容。
-->
<!--
虽然面试候选人是我的工作职责之一，但这篇文章仅代表我的个人观察、个人经历和个人观点。如果有任何错误，请不要将它们归咎于谷歌、Alphabet、Reddit 或任何其他个人或组织。
- 内容多从互联网获
- 是我个人对剑桥领思的认知，内容多从互联网获取，不应作为推荐选择考试的理由
-->
<h1 id="剑桥领思linguaskill">剑桥领思 (Linguaskill)</h1>
<h2 id="什么是-剑桥领思">什么是 <a href="http://www.cambridgeenglish.cn/exams-and-tests/linguaskill/">剑桥领思</a></h2>
<p>由剑桥大学英语考评部研发的剑桥领思（Linguaskill）是一项快速便捷的在线测试产品，可帮助组织机构测试应试者的英语听、说、读、写水平，该产品以人工智能技术为支撑，集便于组织、快速出成绩、准确可靠、成绩报告详尽等优点于一身。</p>
<h2 id="报考-通用版-or-职场版">报考 通用版 or 职场版？</h2>
<p>剑桥领思（Linguaskill）适用于 16 岁及以上的测评对象，<strong>根据不同的目标和计划测评的英语种类，分为剑桥领思通用版和剑桥领思职场版</strong>。剑桥领思通用版和职场版的考试形式与题型相同，均由 “阅读和听力”、“写作” 以及 “口语” 三部分组成。</p>
<p>剑桥领思通用版适用于日常英语测评，其应用场景包括<strong>学校招生</strong>、阶段性测试和毕业测评等，以及企业机构的日常岗位招聘等。</p>
<p>剑桥领思职场版则偏重商务和企业英语应用语境，适用于要求应聘者熟悉专业商务用语，以及涉及国际业务的组织机构。</p>
<h2 id="考试形式">考试形式</h2>
<p><strong>在考试组织上，剑桥领思考试不限时间、场地，只需一台电脑、一个网络、一个麦克风和一套耳机设备，即可进行考试</strong>。</p>
<ul>
<li>剑桥领思阅读和听力成绩即时生成，完整评估在 48
小时内完成。<strong>在当前远程监考的环境下</strong>，成绩报告会在完成监考复核后发布，即考生会在考试完成后
72 小时内获得成绩报告。</li>
<li>剑桥领思以人工智能为支撑，采用最先进的自适应性理论，<strong>试题的难易程度会依据应试者的前一个回答情况而调整</strong>。</li>
<li>评估结果以清晰的个人或小组报告呈现，全面反映被测试者在欧洲语言通用参考框架
CEFR 以及在剑桥英语量表中的相应级别。</li>
</ul>
<h2 id="考试内容">考试内容</h2>
<p>剑桥领思考试模块分为三个模块：阅读和听力、写作及口语，应试者可根据需求进行模块分别或统一进行测试。</p>
<h3 id="阅读和听力">阅读和听力</h3>
<p>考试时长：约 60 - 85 分钟</p>
<p>阅读和听力模块具有自适应性，能根据应试者情况自动调整，因此<strong>题目数量不是固定的</strong>。应试者每回答一个问题，电脑就能更加了解其英语水平。待已答题目达到一定数量，电脑能准确判断出应试者英语水平后，测试结束。</p>
<p>当前，阅读和听力题目是分开的，做题没有明确的时间限制。</p>
<h4 id="考试题型----阅读">考试题型 -- 阅读</h4>
<ul>
<li>阅读并选择：应试者阅读包含简短文字的通知、示意图、标识、备忘录或者信件，然后从三个选项中选择最符合短文意思的句子或短语。</li>
<li>填空：应试者从四个选项中选择正确的单词给句子填空。</li>
<li>完形填空：应试者从四个选项中选择正确的单词或短语给短文中的句子填空。</li>
<li>开放式完形填空：应试者将单词填写在短文中空缺的地方。
<ul>
<li>这是我认为阅读中比较困难的一类，需要自己想出来一个单词填空。</li>
</ul></li>
</ul>
<!--  
* Type only one word in each gap.

![360截图1787042189104110](0E7EE06C09BA4A179F050C0D98AEE79D) 

![Hard](02E692227B0044568A175B533F13899A)
-->
<ul>
<li>拓展阅读：应试者读一篇较长的文本，并回答一系列选择题。<strong>题目顺序与文中信息顺序一致</strong>。
<ul>
<li>基本一个段落对应一道题目，所以可以缩小阅读范围。</li>
</ul></li>
</ul>
<h4 id="考试题型----听力">考试题型 -- 听力</h4>
<ul>
<li>听并选择：应试者听一段短音频，然后从三个选项中选出正确答案。
<ul>
<li>不限定阅读题目的时间，所以有足够的时间去理解题目和选项。</li>
<li>一段对话可以听两遍，中间的间隔时间由考生决定。</li>
<li><strong>备选项基本都会听到</strong>，所以不能根据听到的信息来蒙题，需要在完全理解对话的基础上，根据逻辑推理才能做出正确的选择。</li>
</ul></li>
</ul>
<!-- 在C1级别，阅读题目有时间限制，需要抓紧时间去阅读题目，时间一般不够认真阅读完整个题目。-->
<ul>
<li>拓展听力：应试者听一段较长音频，然后回答一系列相关选择题。<strong>题目顺序和音频中信息顺序一致</strong>。
<ul>
<li>长音频，问题由多个组成，同样地，一段对话可以听两遍。</li>
</ul></li>
</ul>
<h3 id="写作">写作</h3>
<p>考试时长：45 分钟（两部分）</p>
<p>写作测试采用<strong>电脑阅卷</strong>。应试者用键盘输入答案。</p>
<h4 id="考试题型">考试题型：</h4>
<p>测试分为两个部分。 1.
应试者阅读一篇短消息，通常为<strong>邮件</strong>。然后根据消息中的信息和给出的三个要点写一篇不少于 50 个单词的邮件。答题时长约为 15 分钟。
2.
应试者阅读一篇概述某情景的短文，然后根据情景中的信息和给出的三个要点写出不少于 180 个单词的信或者报告。答题时长约为 30 分钟。
*
类似于雅思的大小作文，两篇作文的计时是一起的，所以需要合理分配写作的时间。
*
考官范文中的字数远远超过题目要求，所以我猜测每篇文章可以尽量多写一点，可以加分。</p>
<h3 id="口语">口语</h3>
<p>考试时长： 15 分钟（五个部分）</p>
<p>口语模块需要准备电脑、麦克风和头戴式耳机。试题会出现在屏幕上和耳机里，应试者的回答会被录下来，供考官打分。</p>
<h4 id="考试题型-1">考试题型</h4>
<p>口语涵盖面试、大声朗读、陈述 1、陈述 2 和交流活动五大题型，<strong>每个题型均占总分的 20%</strong>。</p>
<ol type="1">
<li>面试：应试者回答关于自己的八个问题（<strong>前两个问题不计分</strong>）。</li>
</ol>
<ul>
<li>需要集中精力，根据播放的录音来回到对应的问题。</li>
<li>前两个问题是你的名字和家庭名字拼读。</li>
</ul>
<!--
  - Your name
  - Family name WANG
  - where are you from
  - job or work
  - doing what on weekend 
  - opportunity to speak english
  - best thing last week 过去式 
  - live in the future
-->
<ol start="2" type="1">
<li>大声朗读：应试者大声朗读八个句子。</li>
</ol>
<ul>
<li>句子中有类似于 AM, Mrs 的缩写词。</li>
<li>阅读句子时最好先分析句子结构，按语义群开始朗读，而不是一个个单词向外输出。</li>
<li>阅读的句子会越来越长，最后两个句子一般是 20+ 个单词。</li>
</ul>
<!--
 - mrs
 - club‘s
 - how easy 语气
 - 阅读的句子会越来越长，紧张的感觉让自己没有形成语义群，而是一个个单词向外输出。
-->
<ol start="3" type="1">
<li>陈述 1: 应试者就给定的某话题进行一分钟的陈述。准备时间为 40 秒。</li>
</ol>
<ul>
<li>目前，考试要求不能携带纸和笔，所以不能在纸上写思路和关键词。</li>
</ul>
<ol start="4" type="1">
<li>陈述 2:
应试者就给定的一个或多个图形（例如图表、示意图或信息表单）进行一分钟的陈述。准备时间为一分钟。</li>
</ol>
<ul>
<li>一般是两个物品的对比，比如两件衣服的材料、价格和功能比较，两件房子大小、租金和内部设计的比较等等。</li>
</ul>
<ol start="5" type="1">
<li>交流活动：应试者简短地就某话题的<strong>五个问题</strong>发表自己的观点。准备时间为一分钟。</li>
</ol>
<ul>
<li>五个题目的关键词可以提前看到，所以可以提早准备。</li>
</ul>
<h2 id="报名费用">报名费用</h2>
<h3 id="全项报名">全项报名</h3>
<p>698 元人民币。 ### 单项报考 - 阅读和听力：398.00 元人民币 -
写作：398.00 元人民币 - 口语：398.00 元人民币</p>
<h3 id="报名须知">报名须知</h3>
<ul>
<li>领思考试需要提早一周时间，请合理安排考试时间。比如周一报名，只能选择下周一及后面的考试场次。</li>
</ul>
<h2 id="认可度">认可度</h2>
<p><a href="http://cambridgeenglish.cn/why-cambridge-english/global-recognition/">Global
Recognition</a></p>
<!--
[全球这些机构，都认可它](https://mp.weixin.qq.com/s/eQm26UJ4mNk31icE72ji3w)
-->
<h3 id="认可院校">认可院校</h3>
<h4 id="莫纳什大学">莫纳什大学</h4>
<p><a href="https://www.monash.edu/graduate-research/faqs-and-resources/content/chapter-two/2-2">Monash
English language proficiency</a></p>
<p>莫纳什大学在其他语言测试中心关闭的情况下，认可剑桥领思通用考试（Cambridge
Linguaskill General）成绩。</p>
<p>针对雅思要求 6.5 (单项不低于 6) 的专业，剑桥领思成绩要求为 176
(听力、写作、口语、阅读均不低于 169)，对应 <a href="http://www.cambridgeenglish.cn/exams-and-tests/cefr/">CEFR</a> 的
B2 水平。</p>
<!-- 176 + no skill below 169
-->
<h1 id="报名">报名</h1>
<h2 id="剑桥领思考试----全科">剑桥领思考试 -- 全科</h2>
<p><strong>该报名平台仅支持微信支付接受微信支付</strong></p>
<ul>
<li>考试日期选择的范围是：成功支付报名费后的第 7 日及随后的 30
个自然日。</li>
</ul>
<p>根据官网提供的信息 <a href="http://www.cambridgeenglish.cn/find-a-centre/find-a-linguaskill-centre/">报考剑桥领思</a>，通过二维码完成考生用户个人信息填写及考试科目的选择，完成考试缴费后您将收到考试报名完成的通知邮件，按照邮件内容指引进行考试即可。考试形式为线上考试，同时采用专业的远程在线监考平台提供考试全程的远程在线监考。</p>
<p>我是在上午 9 点报名的，当天下午 5
点收到报名考试成功的通知，如下图所示。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/linguaskill_confirmation.jpg"></p>
<h1 id="欧洲语言共同参考框架">欧洲语言共同参考框架</h1>
<p>欧洲语言共同参考框架（即 Common European Framework of Reference for
Languages，简称 CEFR）是描述学习者语言能力的国际标准。这一标准全球通用。</p>
<p><a href="http://www.cambridgeenglish.cn/Images/126130-cefr-diagram.pdf">CEFR 图表</a></p>
<!--
# 备考

## [在线练习](http://www.cambridgeenglish.cn/exams-and-tests/linguaskill/information-about-the-test/practice-materials/)

### 提分要点
- 参考 B2 和 C1 的示例答案，文章字数可以远远超过题目要求，这样子可能是提分的一个要点。

### Writing

- [Write & Improve](https://writeandimprove.com/workbooks#/wi-workbooks)
-->
<!--
# 考试

![考试规则](http://www.waylon.one/downloads/images/blog/Linguaskill_rules.jpg)
-->
<h1 id="references">References</h1>
<ul>
<li><a href="http://www.cambridgeenglish.cn/exams-and-tests/linguaskill/">剑桥领思官网</a></li>
<li><a href="https://exam.piloteducation.cn/">在中国报考剑桥领思</a></li>
<li><a href="https://mp.weixin.qq.com/s/68cXqhZRYAq3r81uIKyl3Q">考试题型官方超强详解来啦</a></li>
</ul>
]]></content>
      <categories>
        <category>English</category>
      </categories>
      <tags>
        <tag>English</tag>
      </tags>
  </entry>
  <entry>
    <title>生活问答</title>
    <url>/life/life-experience/</url>
    <content><![CDATA[<p>[toc]</p>
<ul>
<li>Q：如何快速注销京东白条</li>
<li> A：因为京东白条可能纳入征信记录，并且白条也没有多大的优惠，所以打算注销掉京东白条。</li>
</ul>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">注销白条入口：在京东金融APP上，进入信用 -&gt; 白条可用额度 -&gt; 设置 -&gt; 账户安全 -&gt; 注销白条。</span><br></pre></td></tr></tbody></table></figure>
<!--
[京东白条怎么快速注销](https://www.jianshu.com/p/66889df8f4f9)
-->
<hr>
<ul>
<li>Q: Beats studio3 wireless 降噪功能怎么用</li>
<li> A: beats studio3
支持主动降噪功能，耳机在开机的同时启动主动降噪功能，可以根据需要手动关闭和打开。</li>
</ul>
<blockquote>
<p>被动隔绝噪音：具有隔绝噪音功能的入耳式耳机和头戴式耳机采用物理方式阻隔环境声音。入耳式耳机上的可调式贴合耳塞和头戴式耳机上加装的耳罩垫，可以最大限度地减轻扰人的外部噪音。这些屏蔽物还有助于避免您周围的人听到您耳机中的音乐。</p>
</blockquote>
<blockquote>
<p>Beats 的主动降噪功能也称为完全自适应降噪 (Beats Pure
ANC)，采用数字方式降低环境声音。头戴式耳机中的内置和外置麦克风会测量扰人的环境噪音，然后内部电路会产生一定频率的声音来抵消这些噪音。<strong>具有主动降噪功能的头戴式耳机会在开机时默认启用这一功能</strong>。</p>
</blockquote>
<blockquote>
<p>Beats Pure ANC
采用高级算法来监测您周围的声音，以根据您所处的环境微调降噪的频率和水平。Beats
Pure ANC
还会评估佩戴贴合度，并调整降噪强度来抵消穿过被动隔噪的密封耳罩传入的噪音。这种漏音可能是头发、眼镜、耳朵形状、头部移动和诸多其他物理因素导致的。最后，<strong>Beats
Pure ANC
会将原始音频文件与增加了降噪效果的音频进行比较，然后移除所有明显的失真或差异</strong>。</p>
</blockquote>
<ul>
<li>耳机启动时自动打开降噪开关，双击电源按钮可以手动关闭和打开主动降噪功能。</li>
</ul>
<figure>
<img data-src="/downloads/images/blog/beats_studio3_wireless_noise_reduction.jpg" alt="noise reduction">
<figcaption aria-hidden="true">noise reduction</figcaption>
</figure>
<!--
[beats studio3 wireless降噪功能怎么用](https://www.znj.com/news/15588.html)
[了解 Beats 的降噪与隔绝噪音功能](https://www.beatsbydre.com.cn/support/info/noise-canceling-isolating)
-->
<hr>
<ul>
<li>Q: Beats studio3 wireless 蓝牙配对连接怎么办？蓝牙搜索不到 beats
studio3 wireless 怎么办？</li>
<li>A:
打开耳机开关键，<strong>长按开关键</strong>，直到<strong>指示灯交替闪烁 (暗与亮交替)</strong>，进入配对状态；然后，开启手机蓝牙功能，将手机蓝牙设置为 “所有人可见”，搜索蓝牙设备；查找到之后选中进行配对连接，适用于苹果全家桶设备。</li>
</ul>
<!--
在手机输入配对密码：0000或1234，连接成功则完成配对;

(有的配对密码是：1234)
-->
<!--
[蓝牙搜索不到beats studio3怎么办](https://www.znj.com/news/2060.html)
-->
<hr>
<ul>
<li>Q：极米 Z6X 音响模式如何进入及退出？</li>
<li>A：在设备待机或开机状态下，通过长按投影仪上的 "||&lt;"
3 秒进入音响模式；或者通过遥控器 "电源" 键呼出关机选单，并选择音响模式进入。
当处于音响模式时，只需按下遥控器的开关机键（其他按键无效），画面将重新投射出来（将显示主界面）。</li>
</ul>
<!--
[极米投影仪Z6音响模式使用教程](https://www.touying.com/t-36837-1.html)
[极米z6x怎么退出音响模式](https://www.touying.com/t-39065-1.html)
-->
<hr>
<ul>
<li>Q：惠普激光打印机出现竖直条纹，字体不清晰，怎么办？</li>
<li>A：检查感光鼓是否有明显划痕。如果是，需要更换感光鼓。
<ul>
<li>最后，自己定位到的问题是碳粉盒有磨损，更换后，条纹问题解决。</li>
</ul></li>
</ul>
<figure>
<img data-src="/downloads/images/blog/printer_issue.jpg" alt="打印条纹">
<figcaption aria-hidden="true">打印条纹</figcaption>
</figure>
<!--
我的打印机型号是 132a
-->
<hr>
<ul>
<li> Q: windows 10 的 iTunes 不能播放和下载 music，提示 “发生未知错误
-45061”。
<ul>
<li>已订阅 apple music，iphone 可以正常播放 apple music，但是 win10
电脑上在 iTunes 上不能播放。</li>
</ul></li>
<li>A: <a href="https://discussions.apple.com/thread/251248415">iTunes
for Windows</a>
上一个回复，分享了一个好的方法，我尝试后解决了问题，希望对你有帮助。
<ul>
<li>Stop iTunes
<ul>
<li>关闭 iTunes。</li>
</ul></li>
<li>Make all files visible.
<ul>
<li>设置所有的文件可见，包括隐藏的文件。</li>
</ul></li>
<li>Go to C:\ProgramData\Apple Computer\iTunes. There are two
directories: "adi" and "SC Info".
<ul>
<li>进入 C:\ProgramData\Apple Computer\iTunes
文件夹，你应该可以看到两个隐藏文件夹 "adi" 和 "SC Info"。</li>
</ul></li>
<li>Delete or rename these directories. You need the administrator
passwort or administrator privilegues.
<ul>
<li>以管理员权限重命名或者删除文件夹。</li>
</ul></li>
<li>Restart iTunes.
<ul>
<li>重启 iTunes。</li>
</ul></li>
</ul></li>
</ul>
<hr>
<ul>
<li>Q: Apple Music 歌曲无法通过 iTunes 同步到 iPod shuffle 中。
<ul>
<li>现在是 2020 年，偶然翻到 2014 年购买的 iPod shuffle,
发现还是可以听音乐的，音质震撼到我了！</li>
</ul></li>
<li>A: 苹果规定，不能连接 wifi 的 iPod 设备统统不能支持同步从 Apple
music 上下载歌曲。</li>
</ul>
<hr>
<ul>
<li>Q:
北医三院在微信预约时因为不支持在线绑定社保，预约时选择自费，就诊的后续费用可以走社保吗？</li>
<li>A：就诊当天，先在自助操作机上绑定社保，关联到自己，然后到人工服务处将这次就诊转成社保 (携带身份证和社保卡)：挂号费是自费，后续费用可以用社保。</li>
</ul>
<hr>
<ul>
<li>Q: 极米 Z6X/Play/h2 投影仪如何连接天猫精灵教程？</li>
<li>A: 根据 <a href="https://www.touying.com/t-36343-1.html">教程</a>，可以通过语音控制天猫精灵，完成极米投影仪的音量控制、播放 / 暂停和关机等功能。
<ul>
<li>极米投影仪在关机后是不会保持网络连接的，直接休眠了，所以无法通过网络控制远程开机。同样地，可以使用智能开关，刷机实现来电自动开机功能，来间接实现远程开机。</li>
</ul></li>
</ul>
<hr>
<ul>
<li>Q: 火车没赶上，可以改签吗？</li>
<li>A:
一般情况下，火车发车后就不能退票了，但是可以在两小时内改签，并且没有额外手续费。
<ul>
<li><strong>开车后两小时内</strong>，是可以改签的，但是只能改签当日
24：00
之前的其他列车，而且只能在票面发站办理。一张车票只能免费改签一次，发车后改签的车票，就不能退票了。</li>
</ul></li>
</ul>
<hr>
<ul>
<li>Q: 苹果钱包 Apple pay 的 PIN 密码是什么？</li>
<li>A: 如果你是通过借记卡申请开通 Apple Pay
服务，系统会为你配备一个设备卡号。当你使用设备卡付款交易时，要求输入 PIN
密码，这与实体卡密码一致，即银行 ATM
机取款密码。最后，请妥善保管您的密码和个人信息。</li>
</ul>
<table style="width:10%;">
<colgroup>
<col style="width: 9%">
</colgroup>
<tbody>
<tr class="odd">
<td>- Q: 如何清空 / 初始化 Windows
的显示配置？连接上外接屏幕设备后，Windows
会默认根据上次的设置更改显示设置，如何清空这样的设置呢？ - A：如果
windows 键 +P (多按几次)
切换投影模式已经不能解决你的困扰，那么可以尝试清除屏幕缓存设置。</td>
</tr>
<tr class="even">
<td>windows 键 +R 键打开运行窗口，输入 regedit
打开注册表，找到以下目录：HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\GraphicsDrivers，右键删除该目录下的
Configuration、Connectivity、ScaleFactors
文件夹，然后重启电脑。重启电脑之后，将重新生成这三个文件夹，然后再连接外接屏幕，重新设置显示配置。</td>
</tr>
<tr class="odd">
<td><img data-src="/downloads/images/blog/clear_screen_config.png" alt="打印条纹"></td>
</tr>
<tr class="even">
<td>对于要初始化屏幕设置的需求，都可以通过上述修改注册表的方法来解决。</td>
</tr>
<tr class="odd">
<td><!--
[仅第二个屏幕](https://blog.csdn.net/KIIOU/article/details/106000145)
* 部分设备可能会出现类似PC无画面但闲置设备有画面的情况，这是因为Windows 10连接拓展显示器时默认打开仅第二屏幕模式。如出现此情况，我们需要断开设备与PC的连接，按下Win+P快捷键，在右侧窗口中选择拓展模式，然后再重新连接设备与PC。
https://www.bilibili.com/read/cv3914843/
--></td>
</tr>
</tbody>
</table>
<ul>
<li><p>Q: 2021 版的 证券业从业人员一般从业资格考试
官方教材电子版 pdf 怎么找？</p></li>
<li><p>A: 我是一个上班族，并不打算从事于证券行业，但是希望
通过合理理财为财富保值，增加睡后收入。自己最近一两年从公众号上学习理财知识，但是往往浅尝辄止，只了解一些皮毛。</p>
<p>我打算备考<strong>证券业从业人员一般从业资格考试</strong>来督促自己学习相关金融知识。虽然考试非常容易，可以通过刷题过，但是自己还是以学习为主，考试为辅，希望花时间研读教材。自己平时上下班拿一本厚厚的纸质书很不方便，希望找到电子版，可以在电脑或者
ipad 上精读。</p>
<p>我花费 2 个小时，在网络上用 google，baidu
还是找不到最新版的教材，只找到非最新版的教材扫描件，还不是非常清晰 <a href="http://www.gucuan.com/lbyrm/8705.html">链接</a>。最后，自己去闲鱼上故意找买
低价卖考试教材的商家，有的商家会售卖
最新版的官方教材高清扫描版，价格自议。如果有需要的，可以下面留言 @我。</p></li>
</ul>
]]></content>
      <categories>
        <category>life</category>
      </categories>
      <tags>
        <tag>life experience</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux 终端</title>
    <url>/Linux/linux-interminal-shortcut-cmd/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="shell-和-终端-的概念区别"><a href="https://blog.csdn.net/weixin_38214171/article/details/90050340">shell
和 终端 的概念区别</a></h1>
<ul>
<li><ruby>终端<rt> termimal</rt></ruby>，作用是<strong>提供一个命令的输入输出环境</strong>，在
linux 下使用组合键 ctrl+alt+T 打开的就是终端。</li>
<li>shell 是一个<strong>命令行解释器</strong>，是 linux
内核的一个外壳，负责外界与 linux 内核的交互。shell
接收用户或者其他应用程序的命令，然后将这些命令转化成内核能理解的语言并传给内核，内核执行命令完成后将结果返回给用户或者应用程序。</li>
</ul>
<p>也就是说，当你打开一个 terminal 时，操作系统会将 terminal 和 shell
关联起来。terminal 从用户这里接收输入（键盘、鼠标等输入设备），扔给
shell，然后把 shell 返回的结果展示给用户（比如通过显示器）；shell 从
terminal
拿到用户输入的命令，解析后交给操作系统内核去执行，并把执行结果返回给
terminal。</p>
<p><img data-src="../downloads/images/shell_terminal.webp"></p>
<h1 id="终端命令行快捷键">终端命令行快捷键</h1>
<ul>
<li><strong>ctrl + a</strong> 回到命令行的行首</li>
<li><strong> ctrl + e</strong> 回到命令行的行尾</li>
<li><strong> ctrl + c</strong> 取消当前行输入的命令，并重新到下一行</li>
<li><strong> ctrl + r</strong>
出现命令历史记录搜索提示，输入字符后会自动匹配命令</li>
<li><strong> ctrl + b</strong>
向后退一个字符，相当于向<strong>左方向键</strong></li>
<li><strong> ctrl + f</strong>
向前进一个字符，相当于向<strong>右方向键</strong></li>
<li><strong> ctrl + p</strong>
向上翻以前的输入命令，相当于向<strong>上方向键</strong></li>
<li><strong> ctrl + n</strong>
向下翻以前的输入命令，相当于向<strong>下方向键</strong></li>
<li><strong> alt + b</strong> 向后跳一个字</li>
<li><strong> alt + f</strong> 向前进一个字</li>
<li><strong> ctrl + w</strong> 从光标位置向后删除一个字</li>
<li><strong> ctrl + y</strong> 粘贴最后一个删除的字</li>
<li><strong> ctrl + d</strong> 删除当前光标位置的一个字符</li>
<li><strong> ctrl + u</strong> 从光标当前位置删除所有字符至行首</li>
<li><strong> ctrl + k</strong>
从光标当前位置删除所有字符至行尾，相当于长按 ctrl + d</li>
</ul>
<h2 id="history----历史命令">history -- 历史命令</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 在历史中搜索 start的命令</span><br><span class="line">history |grep start</span><br></pre></td></tr></tbody></table></figure>
<h2 id="mv-移动文件">mv 移动文件</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># The `mv` command doesn't have an `-R` flag, it moves folders recursively</span><br><span class="line">sudo mv fromPath/ toPath/</span><br></pre></td></tr></tbody></table></figure>
<h3 id="参考资料">参考资料</h3>
<ul>
<li><strong><a href="https://askubuntu.com/questions/210168/moving-folder-and-subfolder-to-another-path">Moving
folder and subfolder to another path</a></strong></li>
</ul>
<h2 id="tar-文件解压缩">tar 文件解压缩</h2>
<ul>
<li>The <code>tar</code> command allows you to create and extract tar
archives. The tar command auto-detects compression type and extracts the
archive.</li>
<li>Bzip2 is one of the most popular algorithms for compressing tar
files. By convention, the name of a tar archive compressed with
<strong>bzip2</strong> ends with either <strong>.tar.bz2</strong> or
<strong>.tbz2</strong>.</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">tar -xf archive.tar.bz2</span><br></pre></td></tr></tbody></table></figure>
<h3 id="参考资料-1">参考资料</h3>
<ul>
<li>https://linuxize.com/post/how-to-extract-unzip-tar-bz2-file/</li>
</ul>
<h1 id="reference">Reference</h1>
<ul>
<li><a href="https://www.cnblogs.com/lvchaoshun/p/9251834.html">linux
终端命令行的快捷键列表</a></li>
<li><a href="https://segmentfault.com/a/1190000016129862">命令行界面
(CLI)、终端 (Terminal)、Shell、TTY，傻傻分不清楚？</a></li>
</ul>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux 18.04 挂载硬盘</title>
    <url>/Linux/linux-mount-disk/</url>
    <content><![CDATA[<!--linux_mount_disk-->
<p>[toc]</p>
<h1 id="挂载点与设备的关系">挂载点与设备的关系</h1>
<p>linux 下面所有的文件、目录、设备都有一个路径，这个路径永远以 /
开头，用 / 分隔。</p>
<p>通过 mount，可以设置当前的路径与设备的对应关系。每个设备会设置一个挂载点，挂载点是一个空目录。一般来说必须有一个设备挂载在
/ 这个根路径下面，叫做 rootfs。其他挂载点可以是 /tmp，/boot，/dev
等等，通过在 rootfs 上面创建一个空目录，然后用 mount
命令就可以将设备挂载到这个目录上。挂载之后，这个目录下的子路径，就会映射到被挂载的设备里面。同一个设备可以有多个挂载点，同一个挂载点同时只能加载一个设备。</p>
<p>文件系统挂载时有覆盖（/ 遮盖）关系，如果你所要挂载的挂载点（/ 目录）下面有文件或已挂载的文件系统，那么新挂载的文件系统会遮盖其下面的内容。这也就是挂载点为什么必须是空目录的原因了。</p>
<h1 id="设备挂载">设备挂载</h1>
<figure class="highlight jsx"><table><tbody><tr><td class="code"><pre><span class="line"># 查询磁盘信息</span><br><span class="line"># <span class="attr">fdisk</span>: <span class="title class_">Display</span> or manipulate a disk partition table</span><br><span class="line">sudo fdisk -l</span><br><span class="line"># 创建挂载点</span><br><span class="line">cd /home/用户名</span><br><span class="line">mkdir 文件夹名称</span><br><span class="line"># 查询挂载硬盘(以 /dev/sda 为例，后面的 /dev/sda 均指想挂载的硬盘)的 <span class="variable constant_">UUID</span>、type 等信息</span><br><span class="line">sudo blkid /dev/sda</span><br><span class="line">  # 通常返回如下格式</span><br><span class="line">    /dev/<span class="attr">sda</span>: <span class="variable constant_">UUID</span>=<span class="string">"8e33e89c-xxx-7a3f08ed0db6"</span> <span class="variable constant_">TYPE</span>=<span class="string">"ext4"</span></span><br><span class="line">  # 如果在使用 blkid 没有返回结果，或者未显示 <span class="variable constant_">TYPE</span>=<span class="string">"ext4"</span>，表示这个硬盘还没有分区或者没有格式化</span><br><span class="line"># 如果未格式化需要先格式化分区（使用ext4文件系统，mkfs.<span class="property">exe4</span> 的命令对分区进行格式化）</span><br><span class="line">sudo mkfs.<span class="property">ext4</span> /dev/sda</span><br><span class="line"># 修改开机挂载硬盘文件</span><br><span class="line">sudo vi /etc/fstab</span><br><span class="line"># 在 /etc/fstab 文件最后新增：</span><br><span class="line"># 第一列为 <span class="variable constant_">UUID</span>, 第二列为挂载目录（该目录必须为一个空白目录），第三列为文件系统类型，第四列为参数，第五列<span class="number">0</span>表示不备份，最后一列必须为２或<span class="number">0</span>(除非引导分区为<span class="number">1</span>)</span><br><span class="line"><span class="variable constant_">UUID</span>=<span class="string">"f652d9d2e-02"</span>（上面查询的<span class="variable constant_">UUID</span>） /home/用户名/文件夹名称(上面创建的挂载点) ext4 defaults <span class="number">0</span> <span class="number">2</span></span><br><span class="line"># 执行命令进行挂载</span><br><span class="line">sudo mount -a</span><br><span class="line"># 查看硬盘是否正常挂载。</span><br><span class="line">df -h</span><br></pre></td></tr></tbody></table></figure>
<h1 id="异常情况">异常情况</h1>
<p>如果挂载硬盘后，重启系统后异常，比如在登录界面循环登录，无法进入可视化界面；这可能是
/etc/fstab 文件配置错误，删除刚才添加的内容可以恢复正常。</p>
<ul>
<li>shift+alt+F2 可以进入 tty2 命令行界面，通过命令行方式操作。</li>
</ul>
<!--shift 或 ESC 进入 reconery mode-->
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>海滨风情 -- 大连三日游</title>
    <url>/Trip/2023-dalian/</url>
    <content><![CDATA[<p>周五晚上从北京乘火车出发，第二天早晨到达大连火车站；在大连游玩三天，第三天晚上乘高铁返回北京，游览了大连知名的星海广场、海之韵公园，棒棰岛等景点，品尝了炒闷子等美食，还能在市区近距离喂野生鹿，非常开心的旅行。</p>
<span id="more"></span>
<h1 id="第一天">第一天</h1>
<p>早晨，大概 7 点 45
分到达大连火车站。刚出大连火车站，受到热情的招呼，拉客比较严重，我有点社恐，赶紧逃离了。</p>
<p>火车站对面的路上，我们乘坐上 201 老电车，开启我们为期 3
天的大连旅行。</p>
]]></content>
      <categories>
        <category>Trip</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Journey</tag>
      </tags>
  </entry>
  <entry>
    <title>双拼学习</title>
    <url>/monthly-skills/monthlyskills-shuangpin/</url>
    <content><![CDATA[<p>流水不逝，维护不易，最新文章更新于<a href="http://www.waylon.one/monthly-skills/monthlyskills-shuangpin/">个人网站</a>，欢迎访问！</p>
<blockquote>
<p>You cannot teach an old dog new tricks.</p>
</blockquote>
<p>在新的一年，保持学习的状态，每个月学习一项新技能，持续输入。</p>
<p><strong>2019 年 2 月，新的技能选择学习小众的「双拼」输入法</strong>。</p>
<h1 id="什么是双拼">什么是双拼</h1>
<blockquote>
<p>双拼是一种建立在拼音输入法基础上的输入方法，是汉语拼音输入法的一种编码方案，可视为全拼的一种改进。它通过将汉语拼音中每个含多个字母的声母或韵母各自映射到某个按键上，使得每个音都可以用两个按键打出，一个代表声母的字母，一个代表韵母的字母，极大地提高了拼音输入法的输入速度。</p>
</blockquote>
<p>目前<font color="green"> Windows、Android、macOS、iOS 平台
</font>上都有输入法支持双拼，包括 <strong>iOS 系统自带输入法</strong>、
QQ 输入法、百度输入法、搜狗输入法、谷歌输入法和微软必应输入法等。</p>
<figure>
<img data-src="/downloads/images/blog/xnheulpb.png" alt="小鹤双拼">
<figcaption aria-hidden="true">小鹤双拼</figcaption>
</figure>
<h1 id="放弃全拼学习双拼的理由">放弃全拼，学习双拼的理由</h1>
<p>目前，市面上最为主流的拼音输入法方案是「全拼」，它确实有着简单、易上手化、兼容性高的优势。事实上，「全拼」有着一个非常明显的缺点：多击键次数，即在键盘打字，大部分文字需要点击多个按键。也许你会反驳称「全拼」有智能联想、模糊音等快捷输入，但是「双拼」也有着类似的快捷输入。
对比「全拼」，「双拼」主要有以下优势：</p>
<h2 id="双拼按键效率高">「双拼」按键效率高</h2>
<p>汉语拼音多由「声母」+「韵母」组成，除了「啊 - a」「哦 - o」「额 -
e」这类极少的单韵母，每个拼音的全拼输入至少需要两次，而对于所有拼音，双拼输入只需要两次。这样看来，双拼的按键效率远远高于全拼。</p>
<figure>
<img data-src="/downloads/images/blog/ugmuyymu.png" alt="声母和韵母">
<figcaption aria-hidden="true">声母和韵母</figcaption>
</figure>
<p>以 “双拼” 为例，全拼方案需要输入「shuangpin」；若用小鹤双拼方案 (上图)，只需要输入「ulpb」：
- 点击按键「u」「l」, 就能输入 sh、uang. -
点击按键「p」「b」, 就能输入 p、in.</p>
<p>你可以发现，即使是 2 个字，双拼比全拼减少了 5 次按键。这对文字工作者而言，长篇的文章写下来，可节省了许多功夫啊。</p>
<h2 id="双拼符合人的拼音思维">「双拼」符合人的拼音思维</h2>
<p>虽然目前没有研究数据支持，但是可以肯定「双拼」其实很符合人的拼音思维。
还是以 “双拼” 为例，你第一时间想到的一定是「sh、uang、p、in」这样的声母和韵母搭配，而不是散落、毫无逻辑的「s、h、u、a、n、g、p、i」。</p>
<h2 id="酷酷的感觉">酷酷的感觉</h2>
<p>双拼的优势除了
“击键次数少、更符合拼音思维、文字输入效率高” 外，「双拼」方案对拼音的打乱，会给外行人神秘的感觉，甚至可以用于简单加密。</p>
<!--试想，许多年以后，来到一个陌生的电脑前，看见他们激烈地在键盘前忙碌地来回敲打，不时还对你冲莞尔：「我打字快不？」，这时你只需报之神秘的一笑，让笑意消散在风中。-->
<p>总而言之，作为更出色的拼音输入方案，刚接触「双拼」时，我们难免需要花费一定的时间去学习、去了解，但绝对不能站在接触「全拼」多年的角度去全盘否定它。</p>
<h1 id="如何学习双拼">如何学习双拼</h1>
<p>目前，「双拼」输入法有着多种方案，比如常见的<strong>小鹤双拼、搜狗双拼、微软拼音 2003、智能 ABC</strong> 等等，甚至还允许用户自定义方案。</p>
<h2 id="哪个双拼方案更好用">哪个双拼方案更好用</h2>
<p>现在的双拼方案层出不穷，常见的双拼方案有自然码方案以及相近的微软和搜狗，以及自然码方案基础上改动键位的小鹤。其中，微软双拼的方案非常普及，小鹤双拼则主打畅快高效，强调节奏感，尤其是加了鹤形之后，基本可以消除重码，实现「非智能输入」。各方案之间并无明显的优劣之分，需要根据不同人的需求，根据自己的喜好自由选择。</p>
<p>我个人<font color="red">
<strong>推荐「小鹤双拼」</strong></font>，相比其他方案，小鹤的键位布置比较合理，左右手能够比较均衡的负担输入任务，边角位置的减少使用也能让小拇指轻松一点。而关键是，小鹤双拼中鹤形的加入能极大地消除重码，轻松实现候选字直接上屏，大大的加快输入。当然，如果懒得记鹤形，仅用双拼也已经比全拼方便很多了，毕竟现在都是词组整句的智能输入了。</p>
<p>目前，<font color="red"><strong>各个主流输入法均支持「小鹤双拼」方案</strong></font>，甚至 ios 自带输入法也提供支持。所以，「小鹤双拼」方案可以满足跨平台、跨输入法的需求。</p>
<h2 id="小鹤双拼学习">小鹤双拼学习</h2>
<p>目前<font color="green"> Windows、Android、macOS、iOS 平台
</font>上都有输入法支持双拼，建议学习双拼时采用 “赶鸭子上架” 式学习法： 1.
读规则，仔细读两遍； - 附上小鹤双拼官网学习教程：<a href="https://www.flypy.com/pin.html">让您的输入更舒适</a> 。 2.
按照规则试着打几句话几个字； 3. 背诵口诀；<br>
<img data-src="/downloads/images/blog/kzjt.png" alt="小鹤双拼口诀"> 4.
把需要记忆和背诵的键位打印出来，放显示器旁边，然后关掉输入法的双拼同时使用全拼，开心去聊吧；
-
生命短暂，时间宝贵，强烈建议直接上手，不要把时间浪费在「双拼」练字上。</p>
<p>为了快速学习和方便记忆，附上小鹤双拼键盘映射和口诀表，可以直接打印。</p>
<h2 id="小鹤双拼键盘映射和口诀图片可下载打印">小鹤双拼键盘映射和口诀（图片可下载打印）</h2>
<figure>
<img data-src="/downloads/images/blog/xnheulpbkzjt.jpg" alt="小鹤双拼键盘映射和口诀">
<figcaption aria-hidden="true">小鹤双拼键盘映射和口诀</figcaption>
</figure>
<h2 id="友情链接">友情链接</h2>
<p><a href="https://www.zybuluo.com/jianshu/note/370049">作业部落 - 双拼输入法学习经验</a></p>
<!--
- &emsp;Qiu Wei Ruan T_ue_ve Yun U_shu I_chi &emsp;Song _iong Dai Fen Geng Hang J_an  
&emsp;秋&emsp;闱&emsp;&emsp;软&emsp;&emsp;月&emsp;&emsp;云&emsp;&emsp;梳&emsp;&emsp;翅&emsp;&emsp;松&emsp;&emsp;拥&emsp;&emsp;黛&emsp;粉&emsp;更&emsp;&emsp;航&emsp;安  
 &emsp;uai _ing Liang _uang Zou Xia _ua  &emsp;Pie Cao V_zhui _v Bin Niao Mian  
 &emsp;快&emsp;莺&emsp;&emsp;两&emsp;&emsp;望&emsp;奏&emsp;夏&emsp;蛙&emsp;&emsp;撇&emsp;草&emsp;&emsp;追&emsp;鱼&emsp;滨&emsp;鸟&emsp;眠)
-->
<hr>
<ul>
<li> 2019 年 02 月 19 日创建，陆续增添补充链接；</li>
<li>2019 年 02 月 24 日文章基本成型，陆续发表到各平台；</li>
</ul>
]]></content>
      <categories>
        <category>monthly skills</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
      </tags>
  </entry>
  <entry>
    <title>俗世奇人 读后感</title>
    <url>/Reading/mundane-world-phenom/</url>
    <content><![CDATA[<p>[toc]</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/sushiqiren.jpg" alt="俗世奇人">
<figcaption aria-hidden="true">俗世奇人</figcaption>
</figure>
<h1 id="冯骥才">冯骥才</h1>
<p>冯骥才，1942 年 2 月 9 日出生于天津市，中国当代作家、社会活动家。1981
年，发表散文《挑山工》，2000 年出版小说集《俗世奇人》。2016
年出版小说集《俗世奇人》（足本）。</p>
<h1 id="读后感">读后感</h1>
<p>俗世奇人，作者以天津本地人的视角，用一个个独立的小故事，给我们讲述了清末民国时期内，发生在天津地区有趣的人和故事，奇人异事。</p>
<p>这些奇人奇事中，不仅有家喻户晓的燕子李三和狗不理包子的典故，也有鲜为人知的龙袍郑和一阵风等有趣的民间轶事；这些人物虽然都是俗世俗人，却个个身怀高招，有独门绝活儿，个个在码头上都享有盛名，堪称 "俗世奇人".</p>
<!--
生活可以平凡，但不可以平淡。
-->
<p>故事里的 "活神仙" --
刷子李，一阵风，靠自己的不断摸索，勤奋刻苦和持之以恒，练就了精湛的技艺，把人生过得一点儿也不平淡；他们不仅让自己的人生精彩纷呈，生活有滋有味，也获得了他人的敬佩，惊起生活一片涟漪。</p>
<p><strong>物竞天择</strong>，强者生存，弱者淘汰，这是大自然的永恒定律。在现代社会，竞争意识比冯骥才先生描写的社会更强烈，遍地人才，如果稍稍地不努力，不比别人强，你就会被淘汰。像刷子李一样，干一行爱一行，你选择一种职业，就是要有必须把这份工作干好干精的决心，拖拖拉拉，混混日子的人终将无事所成。任何妄想着抄近道不劳而获的人，最终只会沦为<strong>俗世俗人</strong>被历史淘汰。</p>
<p>冯骥才的文笔充满了地地道道的天津味，浓浓的市井气息，对小人物的刻画偏僻入力，活灵活现；你完全可以一边读，一边在脑海中想象，再和书中的插画一比较，你会发现自己想象的更丰富，更有血有肉，这难道不是作者语言的功力吗？</p>
<p>冯骥才的笔下，没有阳春白雪的无病呻吟，也没有华丽词藻的无聊堆砌，有的是幽默的表达，天马行空的想象，还有那认真观察得来的细节，读起来妙趣横生，有趣有料！</p>
<p>俗世奇人被一个个小故事拆分开，每一个小故事并不长，在睡前和旅途中，捧起来读一读，和那个时代的芸芸众生，市井俗人，来一次有趣的围观和对话，岂不很妙。</p>
<p>下面以故事为索引，分享一些有意思的句子。</p>
<h1 id="精彩摘录">精彩摘录</h1>
<h2 id="苏七块">苏七块</h2>
<h2 id="刷子李">刷子李</h2>
<h2 id="酒婆">酒婆</h2>
<ul>
<li>好酒应是温厚绵长，绝不上头。但穷汉子们挣一天命，筋酸骨乏，心里憋闷，不就为了花钱不多，马上来劲，晕头涨脑地洒脱洒脱放纵放纵吗？</li>
</ul>
<!--
  * 穷人的三个特点
-->
<h2 id="死鸟">死鸟</h2>
<p><ruby>戗<rt> qiāng</rt></ruby> 毛：长得不顺的兽毛，耷拉翅膀</p>
<h2 id="张大力">张大力</h2>
<h2 id="冯五爷">冯五爷</h2>
<ul>
<li>中国人想赚钱，第一个念头便是开饭馆。民以食为天，民为食花钱；一天三顿饭，不吃腿就软，钱都给了饭馆老板。</li>
<li>燃鞭放炮</li>
<li>买卖赛人，靠一股气儿活着，气泄了，谁也没辙。愈少客人，客人愈少；油水没油，伙计散伙。</li>
<li><ruby>趿<rt> tā</rt></ruby>拉一双破鞋。</li>
</ul>
<h2 id="蓝眼">蓝眼</h2>
<ul>
<li><p>古玩行中有对天敌，就是造假画的和看假画的。造假画的，费尽心机，用尽绝招，为的是骗过看假画的那双又尖又刁的眼；看假画的，却凭这双眼识破天机，看破诡计，捏着这造假的家伙没藏好的尾巴尖儿，打一堆画里把它抻出来，晾在光天化日底下。</p></li>
<li><p>人家在暗处闹，自己在明处赢。</p></li>
</ul>
<h2 id="好嘴杨巴">好嘴杨巴</h2>
<h2 id="蔡二少爷">蔡二少爷</h2>
<h2 id="背头杨">背头杨</h2>
<ul>
<li><p>女扮男装 ## 认牙 ## 青云楼主</p></li>
<li><p>他于书画这行，是又在行里，又在行外。文人落到这地步，那股子 “怀才不遇” 的滋味，是苦是酸，还是又苦又酸，只有他自己知道了。</p>
<ul>
<li>半斤八两的尴尬</li>
</ul></li>
<li><p>乾旋地转，运气有变。</p></li>
<li><p><ruby>抻<rt> chēn</rt></ruby> 出一封信</p></li>
</ul>
<h2 id="小杨月楼义结李金鳌">小杨月楼义结李金鳌</h2>
<ul>
<li>民国二十八年，龙王爷闯进天津卫，大小楼房全赛站在水里。</li>
<li>桌上的茶壶，破嘴缺把，磕底裂肚，盖上没疙瘩。</li>
<li>锅伙们把钱截着柜台扔进去就走。</li>
<li>转年冬天，上海奇冷，黄浦江冰冻三尺，大河盖上盖儿。</li>
<li>小杨月楼说：“二哥真行，您叫我帮忙，又不叫我费劲。这点事还不好办吗？
<ul>
<li>MC: 托人办事的最佳方法。</li>
</ul></li>
<li>杨老板，我这人，向例只交朋友，不交钱。想想看，您和我这段交情，有来有往，打谁手里过过钱？谁又看见过钱？折腾来折腾去，不都是那些情义吗？钱再多也经不住花，可咱们的交情使不完！</li>
</ul>
<h2 id="泥人张">泥人张</h2>
<ul>
<li>谁有钱谁横，官儿也怵三分。</li>
</ul>
<h2 id="绝盗">绝盗</h2>
<h2 id="小达子">小达子</h2>
<h2 id="大回">大回</h2>
<!--
钓鱼能手，鱼绝后；后来被一车鱼压死了
-->
<ul>
<li>能人全都死在能耐上。</li>
</ul>
<h2 id="刘道元活出殡">刘道元活出殡</h2>
<!--
状师
-->
<!--
断臂开瓢。
银幡雪柳
-->
<ul>
<li><p>文混混儿却只凭手中一支笔，专替吃官司的买卖家代理讼事。别看笔毛是软的，可文混混儿的毛笔里藏着一把尖刀；白纸黑字，照样要人命。这文混混儿之中，拔尖的要数刘道元。</p></li>
<li><p>那些武混混儿们来要钱，都是用爬头钉打嘴里把自己的嘴巴子钉在门框上，不给钱不算完。</p></li>
<li><p>谁料这汉子劲儿奇大，一拳一个，把金三马四打得各一个元宝大翻身。</p></li>
</ul>
<h2 id="黑头">黑头</h2>
<!--
野狗被收留，被收留后特别听话；因为做错事，一头撞死在家里
-->
<ul>
<li>海虾河蟹湖鱼江鳖。</li>
</ul>
<h2 id="神医王十二">神医王十二</h2>
<!--
磁铁吸铁锈，鞭打救人
-->
<h2 id="皮大嘴">皮大嘴</h2>
<!--
金店如何通过广告来招揽顾客，皮大嘴说相声卖东西， 比如造梗，“往洋乐队洋号里尿尿”。
-->
<ul>
<li>北门里的义涌金店先出高招，迎大厅摆一个菜篮子大的鎏金元宝，上边刻六个隶书大字 “摸元宝，运气好”，引得人们不买金子也要进门去摸一下，沾沾财气运气。做买卖要的就是人气儿，人多火爆，义涌出了名。</li>
<li>叫伙计们用上十天工夫打租界一直贴到北大关，跟着城里城外河东水西宫南宫北，墙头门柱灯杆树干车皮轿厢，就像光绪二十六年义和拳的揭帖，贴满天津城，在哪儿都能瞧见。</li>
<li>圆圆小脑袋像杆子上挂的小灯笼。 鎏金。</li>
</ul>
<h2 id="黄金指">黄金指</h2>
<!--
用指头作画，小肚鸡肠，容不得别人画画比他强。舌头作画，一丈作画。
-->
<ul>
<li><p>那年头，人要有钱有势，就一准有人捧。你唱几嗓子戏，他们说你是余叔岩；你写几笔烂字儿，他们称你是华世奎，甚至说华世奎未必如你。</p></li>
<li><p>码头上耳朵连着嘴，嘴连着耳朵，三天内这话传遍津门画坛。</p></li>
<li><p>正道干不成，只有想邪道。</p></li>
</ul>
<h2 id="四十八样">四十八样</h2>
<!--
卖药糖的学绝技；不断创新不断被人偷学，最后念打油诗没人学。
-->
<ul>
<li><p>买卖二字，一因一果，有人吃就有人做，有人买就有人卖。</p></li>
<li><p>北京是官场，人们心里边全是大大小小的官儿，喜欢官场的是是非非；天津是市井，百姓心里边就是生活 —— 吃喝玩乐，好吃好喝好玩和有乐子的事都喜欢，还爱看绝活，这卖药糖的本事就五花八门了。</p></li>
<li><p>人家有的，你未必再有，学人家就不是绝活了。你不是本地人不知道，天津人认绝活，服绝活。</p></li>
<li><p>绝活一是琢磨出来的，二是练出来的。</p></li>
<li><p><ruby>捯<rt> dáo</rt></ruby>
<ruby> 饬<rt> chi</rt></ruby>：北方方言，指修饰；打扮。</p></li>
<li><p>你不学人，可挡不住别人学你，你得叫人想学学不去，那才叫绝活。</p></li>
<li><p>俞家能耐不传女，谁我儿子谁学艺。</p>
<ul>
<li>天津人说话的妙处 --
既厉害又幽默，既幽默又厉害。单厉害不受听，单幽默不给劲。</li>
</ul></li>
</ul>
<h2 id="马二">马二</h2>
<!--
以假乱真，管四爷。当着人放屁，被大家嫌弃。
-->
<ul>
<li><p>省钱就是赚钱。</p></li>
<li><p>桌上的鸡腿鱼肚虾腰肉块叫他摘着拣着撂在嘴里，吞在肚里。</p></li>
</ul>
<h2 id="冷脸">冷脸</h2>
<!--
怎么都不笑的铁匠，还专门爱听相声。毛猴组合也没有让他笑一笑
-->
<ul>
<li>人有点倔，性子闷，不好结交，没人知道他的事。</li>
<li>一<ruby>尥<rt> liào</rt> 蹶子。</ruby></li>
<li>说相声就怕人不乐，你不乐等于人家的包袱不<ruby>哏<rt> gén</rt>
(滑稽有趣)，活儿使得不绝，栽人家面子。</ruby></li>
<li>一逗哏一捧哏的两位：
<ul>
<li>逗哏的又高又瘦，像个瘦猴，人偏姓侯；</li>
<li>捧哏的又矮又肥，像个胖猫，人偏姓毛。</li>
</ul></li>
<li>满屋子七八十张热烘烘的笑脸里，有张脸赛铁板，又黑又硬又阴冷。</li>
<li>毛猴一使包袱，全场爆笑，笑声要掀去屋顶。</li>
</ul>
<h2 id="一阵风">一阵风</h2>
<!--
能人比武，天外有天，人外有人。最后，一个船夫取胜
-->
<ul>
<li><p>码头上的东西，一半是本地的特产，一半是南来北往的船儿捎来的新鲜货；外来的玩意儿招引当地人，本地的土产招引外来客。</p></li>
<li><p>个子大赛面墙，肩厚似牛臀，臂粗如大腿，光头圆脸冒红光；浑身的肌肉一使劲，好比上上下下到处肉球，再动两下，肉球满身乱滚。</p></li>
</ul>
<h2 id="张果老">张果老</h2>
<!--
一套完整的八仙过海，被人故意拆开来卖，反而能卖好价钱；一个人中套，为了凑足，不惜花高价钱买最后一个。
-->
<ul>
<li><p>好好一套的老东西失去一件，不成套了，这不成套的东西叫作失群。失群原本是令人惋惜又没辙的事，失群东西的价钱本应大打折扣，到了天津卫的古玩行反倒能拿它赚钱。</p></li>
<li><p>那股子富丽劲儿，沉静劲儿，滋润劲儿，讲究劲儿，就甭提了，大开门的嘉庆官窑！</p></li>
<li><p>做买卖的比当大夫的还会察言观色。</p></li>
<li><p>祖上有钱，本人无能，吃喝之外，雅好古玩，天天在城中转悠。</p></li>
</ul>
<h2 id="狗不理">狗不理</h2>
<ul>
<li><p>天津人讲吃讲玩不讲穿，把讲穿的事儿留给上海人。</p>
<ul>
<li>上海人重外表，天津人重实惠；人活世上，吃饱第一。</li>
<li>天津人说，衣服穿给人看，肉吃在自己肚里；上海人说，穿绫罗绸缎是自己美，吃山珍海味一样是向人显摆。</li>
<li>天津人反问：那么狗不理包子呢？吃给谁看？谁吃谁美。</li>
</ul></li>
<li><p>天津人吃的三大样 --
十八街麻花，耳朵眼炸糕，狗不理包子；玩的三大样 --
泥人张，风筝魏，杨柳青。</p>
<ul>
<li>这儿讲究的不是材料，是手艺。</li>
</ul></li>
<li><p>那时候穷人家的孩子不好活，都得起个贱名，狗子、狗剩、梆子、二傻、疙瘩等等，为了叫阎王爷听见不当个东西，看不上，想不到，领不走。</p></li>
<li><p>狗子人<ruby>蔫<rt> niān</rt> 不说话，可嘴上不说话的人，心里不见得没想法。</ruby></p></li>
<li><p>狗子有心眼，花钱买好衙门里的人，在袁大人 (袁世凯) 用餐时先送上狗不理。人吃东西时，第一口总是香。</p></li>
</ul>
<h2 id="钓鸡">钓鸡</h2>
<!--

活时迁，使用特别的技巧，偷鸡；
-->
<h2 id="龙袍郑">龙袍郑</h2>
<!--
乾隆赏赐的衣服，却不知道如何转化为利润。别人造谣，吓得自己逃跑了，
-->
<ul>
<li>人出了名就有人说好，有人说坏。一句好话后边总是跟着一堆坏话 --
恨人有笑人无嘛。</li>
</ul>
<h2 id="陈四送礼">陈四送礼</h2>
<ul>
<li>人世间最吃得开的有四大样：钱、权、爹、长相。
<ul>
<li>有钱通神，有权比神还顶用，有好爹就是有靠山，长相俊招得人见人爱。</li>
<li>可是单这些还不行。有钱有权还得会使，有爹有长相还得会用，这里边有一件要紧的东西不能缺
-- 好法儿。</li>
</ul></li>
<li>官场从来路不平，有礼如履平地，没礼寸步难行。</li>
</ul>
<h2 id="燕子李三">燕子李三</h2>
<!--官印人家不拿走，只是你稀罕罢-->
<ul>
<li>愈见不着愈瞎猜，愈猜愈玄愈神愈哏。</li>
<li>天津人就好过嘴瘾，往里是吃，往外是说；说美了和吃美了一样痛快。</li>
<li>气得荣禄一狠劲咬碎一颗后槽牙。</li>
</ul>
<h2 id="鼓一张杨柳青">鼓一张 (杨柳青)</h2>
<!--
杨柳青的典故
-->
<ul>
<li>天津卫的杨柳青有灵气，家家户户人人善画；老辈起稿，男人刻版，妇孺染脸，孩童填色，世代相传，高手如林。</li>
<li>年画一年鼓一张，不知落到哪一方。</li>
</ul>
<h2 id="洋相">洋相</h2>
<!--
一个中国人，假装自己是外国人；被他的父亲拆穿。
-->
<ul>
<li>有时玩不好，一个趔趄摔屁股蹲儿，或者四仰八叉趴在冰上，引来众人齐声大笑。</li>
</ul>
<h2 id="黄莲圣母">黄莲圣母</h2>
<ul>
<li><p>这便是红灯照出名的 “踩城”；踩城就是压邪气，震洋人。</p></li>
<li><p>这时候，关于黄莲圣母的说法又多又神，却一直也没人见到她的模样。想想看，一个女子，能带数千女兵，威镇津城，叫朝廷命官一品大臣也弯下腰来，还飞身杀入洋人刀枪中出生入死，能是凡人吗？若是凡人，不就更叫人佩服得五体投地了？</p></li>
</ul>
<h2 id="甄一口">甄一口</h2>
<!--
喝酒从脚底排出，但是一次穿皮鞋，再也没醒过来。
-->
<ul>
<li>身子里的酒必得排出去，俗话叫出酒。能喝酒的人必能出酒，出酒的地方各不相同。有的尿，从下边排出来；有的倒，从上边吐出来；有的冒汗，从浑身汗毛眼儿发出来。</li>
</ul>
<!--

- [俗世奇人读后感](http://www.ruiwen.com/duhougan/2152581.html)
-->
]]></content>
      <categories>
        <category>Reading</category>
      </categories>
      <tags>
        <tag>Reading</tag>
      </tags>
  </entry>
  <entry>
    <title>小人物的 2020 理财总结</title>
    <url>/Finance/nobody-s-2020-finance-summary/</url>
    <content><![CDATA[<p>[toc]</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/2020_2021.jpg" alt="辞鼠迎牛">
<figcaption aria-hidden="true">辞鼠迎牛</figcaption>
</figure>
<p>嘻嘻，终于有空在春节写点东西，总结和反思下自己在 2020
年的理财得失，以及自己在 2021 年的理财规划。</p>
<p>因为我不是专业的投资者，投资经验只有 5
年，观点可能经不起推敲，请大家谨慎阅读。</p>
<p>首先，先开诚布公地跟大家分享下自己的投资风格和投资目标。如果 我 和 你
的投资风格和目标相差甚多，那么你就可以不必浪费时间阅读下面的内容了，以免给你造成困扰。</p>
<p>首先，我是一个 995
的打工人，不是一个专业的投资者，也没有相关的金融背景。自己的理财经验和感悟，是最近几年在金融市场里摸爬滚打，用真金白银换来的，以及在阅读一些投资理财书籍中获得的。</p>
<!--
我自认为自己思考和归纳总结的能力还不错，所以在这篇文章中记录下来。
-->
<p>其次，我主要投资基金理财，不需要耗费大量时间看个股和盯盘，看好盈利趋势干就行了。自己是打工人，不可能长时间盯着屏幕炒股票，对市场消息有滞后性。同时，自己没有太多时间了解过多个股，不喜欢和散户凑热闹，炒热点，钟情于价值投资，希望陪伴
TA 慢慢成长。</p>
<!--
选来选取，还是基金适合自己，不需要耗费大量时间看个股和盯盘，看好盈利趋势干就行了。
-->
<p>最后，我的投资风格是偏理性的激进，不属于 “赢了会所嫩模，输了下地干活” 的激进风。目前，希望经过自己的精细打理，<strong>收益能够跑赢通货膨胀</strong>，让自己用时间换来的财富 (精神损失费) 不贬值。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/gamble.jpg" alt="赌博式投资">
<figcaption aria-hidden="true">赌博式投资</figcaption>
</figure>
<h1 id="基金">基金</h1>
<p>2020
年，自己的投资风格基本成型，“主题定投，波段赎回”；在市场大环境不错的情况下，收益可观。以支付宝为例，2020
年的盈利大概是
30%，超过了大多数股市投资者，但是自己盘子小，总体收益也只有一万多元。</p>
<p>基金定投就像整流器一样，可以抚平市场的短期波动，持有时间越长，基金均价越贴近于实际价值。理想情况下，基金投资者，只要选择好的方向和主题，开启长期的定投，最后在一个价位高时卖出基金即可盈利；那么，<strong>买什么和何时卖出，才是基金理财的关键</strong>，没有人能够简单告诉你答案，需要自己边实践，边感悟。</p>
<p>什么是 “主题定投，波段赎回” 策略呢？</p>
<p>基金类型和数量非常庞大，“主题定投” 的核心是
确定你长 / 短期看好的投资方向 (比如当前火热的消费，医药和科技)，然后选择该方向上表现好的基金开启定投。</p>
<!--
基金类型比较多，我定投宽基，是确保大盘子获得长期稳健增长；买了许多行业基金，争取一些行业增长的机会。现在我加大买入主动基金，是为了让那些牛人，替我做出更多更聪明的判断。
-->
<p>举个例子，2020
年中期，我认为银行股被严重低估，短期应该能看到银行股的上升潜力
(投资方向以及赢利点)。然后，我从众多银行类基金中选择好的基金 (考虑基金经理，基金类型，基金回撤，基金盈利等因素)，然后开启定投。现在看起来，我当时的分析和选择是正确的，短短半年就有了真金白银的回报。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/2020_bank_fund.JPEG" alt="某银行基金定投">
<figcaption aria-hidden="true">某银行基金定投</figcaption>
</figure>
<p>除了买什么，基金定投的另一点是 “什么时候卖出比较好”？“波段赎回”
策略就是等待多个高波段，逐步赎回，落袋为安。我通常的做法是，如果收益超过
15%~20%，自己会卖出去三分之一；如果收益超过
30%，自己会再卖出去三分之一。这样的操作，简单粗暴，优势是让自己的收益陆陆续续落袋为安，你不需要分析市场的走势，估计也很难预测准确；劣势是你前期的赎回，可能错过基金持续上涨带来的收益，把一只大基腿吃成了小鸡腿。</p>
<p>比如，下图的赎回操作，中间波段高点赎回去一部分，后面的基金上涨和我就无缘了。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/2020_medi_fund.JPEG" alt="某医药基金定投">
<figcaption aria-hidden="true">某医药基金定投</figcaption>
</figure>
<p>因为定投不择时，卖出不择时，今年自己在股市中做到了
“任尔东西南北风，咬定青山不放松”。在 2020 年疫情爆发，股市低点时 (A 股
2700+ 点) 依然坚持定投，在股市翻过 3000
点门槛时，也没有慌慌张张地清仓下车，而是卖出去一部分落袋为安，最后在年底
3600 点 的时候，依然持有和年初差不多的份额。</p>
<p>基金如果想赚钱，广撒网，大水漫灌是不太适合的。你只有有所侧重，才可以收获理想的收益，否则自己广撒网，很可能你只是自己一番骚操作，自己手动配置了一个
XX 指数，或者重仓了一个市场不看好的板块。</p>
<p><strong>基金类型比较多，我定投宽基，是确保大盘子获得长期稳健增长；买了许多行业基金，是为了争取一些行业增长的机会；我买入主动基金，是为了让那些牛人，替我做出更多更聪明的判断。</strong></p>
<p>2020 年前，自己喜欢在支 * 宝上，购买平台推荐的基金，往往是这只基金买 10
块，那只基金每周定投 10
块钱等等小额操作，基金投资特别零散。这些零散小额基金就像杂音一样，浪费了自己的精力，自己不清楚自己的投资分布是什么，布局重点是什么，赚钱收益怎么样。</p>
<p>自己在 2020
年花几天的时间，整理了自己的所有基金，按照基金优劣，清理掉部分小额基金和自己不看好的方向，最后剩下来一部分表现良好的基金，大约有
30 只左右，开启定投。经过上述清洗后，现在每月只需要花 3
个小时左右，回顾这些基金的涨势是否符合预期，是否需要做出调整，就可以清晰地理清楚自己的投资重点和收益情况。</p>
<!--
![我的基金投资表格]()
-->
<h1 id="比特币">比特币</h1>
<p>虽然前期有点像 48 年入国军，今年夏天在比特币涨起到 14k
美金后，自己小额买入了一部分比特币，自己的本意是收藏一些比特币。无论 BTC
涨势如何，已持有的 BTC
数量不会波动，自己打算购买并存入钱包，不参与市场交易。</p>
<p>我投资陌生的领域，喜欢<strong>小额买入，快步学习</strong>，花费一小部分的钱进场，然后用真金白银吸引自己去学习和了解这个领域。自己第一次花
100
元买入比特币，尝试了数字货币买入和卖出，转存和转出到钱包，这个流程下来因为手续费折掉了
40 多块钱，但是自己对数字货币的交易流程和特点基本摸清楚了，于是开始 k
级别的投资。</p>
<p>如果你想了解比特币是如何产生和运作的，可以参考我的 BTC 白皮书阅读笔记
-- <a href="http://waylon.one/BTC/A-Peer-to-Peer-Electronic-Cash-System/">解读
A Peer-to-Peer Electronic Cash System</a>；
关于新手购买比特币的教程，以及自己学习到的知识点总结，可以参见我的文章
<a href="http://waylon.one/monthly-skills/buy-one-bitcoin/">第一次购买比特币并转到钱包收藏</a>。</p>
<p>对于比特币，我虽然是抱着<strong>收藏</strong>的目的购买的，没有想到购买后没多长时间，BTC
就开始快速增长，从购买之处的 14k 美金，飙升到了 46k 美金，自己当时投资
1000 元人民币买入的 BTC，现在的价值也有 3000+
元，收藏的想法已经开始动摇了。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/2020_btc.PNG"></p>
<!--
“快速试错，小步快跑”
-->
<p>注意，我不是在鼓励大家购买数字货币，而是希望告诉大家，数字货币类似于黄金，也是分散理财风险的一种措施。最后，<strong>别碰杠杆，别碰期货</strong>。</p>
<p>现在，我每周拿出来 100 元人民币购买比特币，这 400
元 / 月对我生活影响不大。如果碰巧数字货币赚到了，我会非常开心并在适当时候卖出变现；如果数字货币暴跌，我会把购买的数字货币转到钱包里长期存储，我的生活基本可以不受影响地继续下去；即使交易平台倒闭，数字货币血本无归，我的生活也基本不受影响。</p>
<h1 id="保险">保险</h1>
<p>财产投资到不同平台和门类，一个目的是为了规避单一风险，那么保险也是一种以规避风险为主要目标的投资。消费型保险看起来，只有支出，没有盈利，但是这是生活的安全垫，缓冲了家庭变故带来的风险。</p>
<p>购买保险是一门大学问，没有网络或公众号上说的那么简单，有些人或者平台煽动你购买保险，很大目的是为了销售提成，你购买后便对你不理不睬，把所有的后续责任都推给你自己解决。你需要在购买前保持清醒的大脑和认识，不要购买时糊里糊涂一时爽，买后无人给你答疑，理赔时自己扛下一堆麻烦。<strong>普通人最好有专业的人员指导 (不是指保险销售人员)，或者充分了解后再购买，以免有不必要的麻烦。</strong></p>
<p>分享一篇自己的踩坑经历 <a href="http://waylon.one/Insurrance/insurrance-issue/">记一次光大永明人寿保险的坑</a>。</p>
<p>注意，尽管保险坑比较多，我还是鼓励大家根据自己的收入和年龄，购买一定的保险，早买早安心。</p>
<p>分享一篇 <a href="http://www.minxueyu.com/2019/06/12/%E5%AE%B6%E5%BA%AD%E9%85%8D%E7%BD%AE%E4%BF%9D%E9%99%A9%E7%AD%96%E7%95%A5/">家庭配置保险策略</a>，希望读者能够了解保险，不被忽悠，理性购买适合自己的保险。</p>
<h1 id="股票">股票</h1>
<p>我在 2020
年也同样购买了股票，但是和基金收益相比，两者收益完全是冰火两重天：基金是蒸蒸日上，股票是一泻千里。</p>
<p>和基金相比，股票投资的是个股，需要你不仅懂宏观，还要对个股深入了解；基金着重于看大局，大趋势，股票还要求你看微观 (单家公司)；微观操作中，自己理财知识和经验的复用度有限，你需要一家家公司了解，占用时间成本比较大，甚至会侵占你个人成长的时间，得不偿失。另外，我个人性格是<strong>比较喜欢看大局，看宏观，而不喜欢微观的操作</strong>。</p>
<p>正因为上述原因，我不打算把大量的时间和资金花费在股票投资上，我后期的投资会减少股票占比，加大基金的投资比重，选择长期表现好，回撤控制好，风格更均衡的基金长期定投。</p>
<p>可能是自己没有时间了解个股，或者前面一两年没有经验，根据自己的空头逻辑判断，自己购买了大量的垃圾股，多次高位接盘，比如因为中美贸易战，分析信息安全可能会火，接盘
“360”，一次次踏空。因为不清楚为什么涨，好多入手的股票，也是稍微涨一点就赶紧卖出，本来是一条大鱼，结果自己只啃到点肉末。</p>
<p>我现阶段不会完全放弃股票投资，打算选定几家好公司，开始投资。资本市场最不缺的就是机会，所以捂好自己的现金，选择好的公司再下手。</p>
<p>注意，以下不是投资推广，莫要模仿。</p>
<p>我打算在今年加大对以下股票的持仓。</p>
<h2 id="中国核能-601985">中国核能 (601985)</h2>
<p>为什么我打算今年重金买入呢？</p>
<p>在中国做投资，无论是买房也好，还是买股票、信托也好，或者是创业也好，在中国做任何事情的前提就是需要关注中国的政策方向和趋势。我们购买股票需要看国家风向以及预期，毕竟大家炒股炒的就是预期嘛！</p>
<!--
2015年，当时的“牛市”戛然而止，主要是流动性突然減少(俗称“水少了”)，市场没有钱，股市从5000多点一直跌到2000多。

时间到了2018年，中央出台资管新规，推行整个中国经济去杠杆，换句话来说，就是整体市场没有钱了，当年的股市也相当凄惨。

任何市场，充裕的资金是上涨的必要条件，如果没有这个前提，难以出现大型牛市。

我投资主要看两个方面：第个是现在市场里流动性是否充沛(即有没有钱)；第二个是国家监管机构的监管口径这件事情实际上决定了中国整个资本市场的走势，尤其事关股市到底是牛市还是熊市等问题。

从目前的资金面来看, 2020年，央行释放了大量流动性，甚至通胀压力已经凸显2021年央行适度回收货币，保证合理供应是主基调。

-->
<p>首先，在宏观上，中美贸易，国内主打内循环，这就意味着中国大宗商品，煤炭石油等进口受限；其次，中国在积极发展核电，核电是清洁能源，在未来碳排放交易规则下，核电的占比越高，碳规则下优势越大。最后，现在的高压传输技术组建成熟，可以实现西电东送，在西部地区建立核电站，缓解了核电危险。</p>
<p>目前，我没有对中国核电这家企业了解太多，但是我后期会认真分析这家公司。</p>
<p>在这里立一个 flag，在明年回顾时，看看自己的断言是否准确。</p>
<!--
# 黄金

自己对黄金的投资很少，现在是每天 10 元的定投，自己的目标是保值而不是盈利。
-->
<hr>
<p>上面内容和理财直接相关，下面分享下自己这一年的理财间接成长。</p>
<h1 id="好的习惯">好的习惯</h1>
<h3 id="每月整理自己的基金">每月整理自己的基金</h3>
<p>自己原来胡乱地买入基金，对手头持有的基金数量和收益情况不清楚。现在自己会每月定期比较和复盘持有基金，做到心中有数，优胜劣汰，逐步买入和卖出。</p>
<!--
- 每三个月一次的财务体检

每三个月，我会把自己的所有财富做一次整理，查漏补缺，做到心中有数。
-->
<h3 id="出售闲置下来的物品">出售闲置下来的物品</h3>
<p>因为自己经常会乱买东西，家中有很多不常用或者不好用的物品，今年开始在二手交易 (如闲 * 鱼) 平台上出售，大概折现了几百块钱。现在自己有点一发不可收拾，家中但凡有点闲置物品，就想卖出去换钱。</p>
<p>出售闲置物品是一个好习惯，一方面没有浪费资源，东西在别人那里活过来了；另一方面，赚回来一部分本金，节约了自己的时间。</p>
<p>分享我喜欢的二手交易平台：</p>
<ul>
<li><a href="https://www.zhihu.com/question/66798566">把二手书店搬到网上的多抓鱼</a>
<ul>
<li>当你想卖掉家里囤积的旧书，只需要打开「多抓鱼」，扫描 ISBN
码后，等待顺丰快递员上门收书即可，经过多抓鱼经过审核后，你就能得到卖书钱了。</li>
</ul></li>
</ul>
<hr>
<h3 id="租赁电子产品">租赁电子产品</h3>
<p>生活中，有些东西可能只是偶尔用一下，那么可以选择租赁而不是购买这些物品；一方面节约了维护成本，一方面剩下的钱可以用于投资。</p>
<p>试想一下，当你准备一场说走就走的旅行，原本需要在这个期间动辄上万去使用相机或者无人机记录精彩瞬间时，现在仅需动动手机花上几百块的租金就能用上好几天，这难道不就正是科技社会进步所带来的美好吗？</p>
<p>分享我体验过的租赁平台： * <a href="https://zhuanlan.zhihu.com/p/48288982">探物租赁</a></p>
<hr>
<h3 id="阅读财报">阅读财报</h3>
<p>目前，我定投的基金数目不多，我每月会强迫自己关心买入的基金具体情况。通过阅读基金报告，看看基金经理的看法，以及下一步的投资倾向，是否和自己匹配，做到知己知彼。</p>
<!--
- 读书

很遗憾，自己今年本来打算读完《穷查理宝典》，但是因为事情多，再加上这本书实操性差，自己只是读到了一般就束之高阁，希望今年继续读完。-->
]]></content>
      <categories>
        <category>Finance</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
      </tags>
  </entry>
  <entry>
    <title>Outlook 绑定 163 邮箱</title>
    <url>/life/outlook-link-163/</url>
    <content><![CDATA[<p>[toc]</p>
<p>在有多个 工作邮箱 和 个人邮箱的时候，通过 Outlook
办公软件，能将多个邮箱统一管理（发信和收信），可以减少多个邮箱客户端的操作，生活一下子简单许多。</p>
<h1 id="outlook">Outlook</h1>
<p>Microsoft Office Outlook 是微软办公软件套装的组件之一。</p>
<p>Outlook 的功能很多，可以用它来收发电子邮件、管理联系人信息、记日记、安排日程、分配任务。</p>
<p>在使用 OUTLOOK 之前请先到自己的网络邮箱中将相应的 POP3 或 IMAP 开启，才可以进行收信。</p>
<h2 id="什么是pop3smtp和imap">什么是 POP3、SMTP 和 IMAP?</h2>
<h3 id="pop3">POP3</h3>
<p>POP3 是 Post Office Protocol 3
的简称，即邮局协议的第 3 个版本，它规定怎样将个人计算机连接到 Internet 的邮件服务器和下载电子邮件的电子协议。它是因特网电子邮件的第一个离线协议标准，POP3 允许用户从服务器上把邮件存储到本地主机（即自己的计算机）上，同时删除保存在邮件服务器上的邮件，而 POP3 服务器则是遵循 POP3 协议的接收邮件服务器，用来接收电子邮件的。</p>
<h3 id="smtp">SMTP</h3>
<p>SMTP 的全称是 Simple Mail Transfer
Protocol，即简单邮件传输协议。它是一组用于从源地址到目的地址传输邮件的规范，通过它来控制邮件的中转方式。SMTP
协议属于 TCP/IP
协议簇，它帮助每台计算机在发送或中转信件时找到下一个目的地。SMTP
服务器就是遵循 SMTP 协议的发送邮件服务器。</p>
<p>SMTP 认证，简单地说就是要求必须在提供了账户名和密码之后才可以登录
SMTP 服务器，这就使得那些垃圾邮件的散播者无可乘之机。 增加 SMTP
认证的目的是为了使用户避免受到垃圾邮件的侵扰。</p>
<h3 id="imap">IMAP</h3>
<p>IMAP 全称是 Internet Mail Access
Protocol，即交互式邮件存取协议，它是跟 POP3
类似邮件访问标准协议之一。不同的是，开启了 IMAP 后，您在电子邮件客户端收取的邮件仍然保留在服务器上，同时<strong>在客户端上的操作都会反馈到服务器上</strong>，如：删除邮件，标记已读等，服务器上的邮件也会做相应的动作。所以无论从浏览器登录邮箱或者客户端软件登录邮箱，看到的邮件以及状态都是一致的。</p>
<h1 id="关联-163-邮箱">关联 163 邮箱</h1>
<ol type="1">
<li>在登陆 163 邮箱后，进入邮箱设置中的 POP3/SMTP/IMAP 页面，开启
IMAP/SMTP 服务。</li>
</ol>
<ul>
<li>通过新增授权码或者开启服务时，163 邮箱会发送授权码
(记下来)，这是用于登录第三方邮件客户端的专用密码。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/163_authorization_code.jpg"></p>
<ol start="2" type="1">
<li>在 outlook 中绑定 163 邮箱时，通过 IMAP
协议收取邮件，其中对应的密码不是 163 的邮箱登录密码，而是授权码。</li>
</ol>
<p><img data-src="http://www.waylon.one/downloads/images/blog/outlook_imap.png"></p>
]]></content>
      <categories>
        <category>life</category>
      </categories>
      <tags>
        <tag>email</tag>
        <tag>outlook</tag>
      </tags>
  </entry>
  <entry>
    <title>在线工具集</title>
    <url>/Online/online-gadgets/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="online-tools">Online Tools</h1>
<ul>
<li><a href="http://latex.codecogs.com/eqneditor/editor.php">在线 LaTex 公式编辑</a>
<ul>
<li><a href="https://www.codecogs.com/latex/eqneditor.php">在线 LaTex 公式
Markup</a></li>
</ul></li>
<li><a href="https://www.websequencediagrams.com/">在线流程图编辑</a></li>
<li><a href="https://www.overleaf.com/login?">在线 Latex 编辑 -
overleaf</a></li>
<li><a href="https://convertio.co/zh/webp-png/">WEBP 到 PNG 转换器</a></li>
<li><a href="uzer.me">云端全能办公神器 - UZER.ME</a></li>
<li><a href="https://convertio.co/zh/">格式转换神器 - Convertio</a></li>
<li><a href="https://ocr.wdku.net/">在线文字识别转换</a></li>
<li><a href="https://tinypng.com/">图片压缩神器</a></li>
<li><a href="http://bigjpg.com/">图片放大神器</a></li>
<li><a href="http://ocrmaker.com/">在线文字识别 - OCR 服务</a>
<ul>
<li>通过使用光学字符识别（Optical Character Recognition -
OCR）技术将文本文档的扫描或（智能手机）图像转换为可编辑文件。我们的在线 OCR 服务可以免费使用，只需上传您的图像文件。
OCR 软件采用 JPG，PNG 或 PDF（测试中），唯一的限制是图像 / PDF
不能大于 5MB。</li>
</ul></li>
<li><a href="http://www.pdfdo.com/image-to-txt.aspx">在线文字识别</a>
<ul>
<li>此处，再推荐一款超级好用的本地 OCR 工具 -- 天若 OCR，需要安装 .net
环境。<a href="http://www.waylon.one/downloads/files/Tianruo_OCR.exe">下载链接
4.88 M</a>。</li>
</ul></li>
<li><a href="http://pressbin.com/tools/excel_to_html_table/index.html">No-Cruft
Excel to HTML Table Converter</a>
<ul>
<li>Excel 表格转 HTML 语言 </li>
</ul></li>
<li><a href="https://webcode.tools/">Web 代码生成工具</a>
<ul>
<li>只要输入你的需求，它就可以生成代码，满足各种基本的和高级的需求。对于不是很熟悉
HTML 和 CSS 的 Web 开发人员来说，这个工具非常有用。</li>
</ul></li>
<li><a href="https://fingerprintjs.com/">网站浏览记录工具 -
fingerprintjs</a>
<ul>
<li> 通过网站来获取浏览器的一系列唯一标识既不需要用到
cookie，也不需要用到任何可能随时被恶意用户随时重置的数据。</li>
<li>它快速提取网页浏览器的大量属性，既可以单独使用它们，也可以用它们生成散列值，用于标识用户的唯一性。当你在做一个 Web
项目时，这个工具提取的属性是最有可能替代移动设备的 UUID 的。</li>
</ul></li>
<li><a href="https://clustrmaps.com">网站浏览记录工具 -
clustrmaps.com</a>
<ul>
<li> 美国的一家数据网站，能够汇总公共记录来分析美国城市的社会人口和商业环境。同时，网址提供了生成访问者地址分布图的代码，可以嵌入到网站或博客中，来显示来自世界各地访问者的实时地图，有助于发展您隐藏的兴趣社区。最重要的是，这个功能是免费的，能够满足个人网站的需求。<br>
</li>
</ul></li>
<li><a href="https://gitmind.com/">在线思维导图制作 - gitmind</a>
<ul>
<li> 完全免费的在线思维导图制作网站。</li>
</ul></li>
<li><a href="https://www.edrawsoft.cn/mindmaster/">MindMaster</a>
<ul>
<li> 跨平台，支持在线绘制</li>
</ul></li>
<li><a href="https://www.pdf2go.com/zh/">在线编辑你的 PDF 文件</a>
<ul>
<li>支持在线转换为 PDF，PDF 转 JPG，或旋转页面，合并、拆分 PDF
文件，添加或删除 PDF 文件中的密码保护等来编辑 PDF。</li>
<li>没有使用限额限制。</li>
</ul></li>
<li><a href="https://ps.gaoding.com/#/">在线 PS</a></li>
<li><a href="https://bz.zzzmh.cn/">极简壁纸</a>
<ul>
<li>高质量精品壁纸网站，可以给你的电脑加上唯美的壁纸。</li>
</ul></li>
<li><a href="http://www.cmbs.cn/">在线图片打码网</a>
<ul>
<li>简约的方式，为自己的图片自定义打码。</li>
</ul></li>
<li><a href="https://weibomiaopai.com/">在线视频下载</a>
<ul>
<li>本软件提供了在线的微博视频、秒拍、腾讯视频等视频下载解析转存强大利器。</li>
</ul></li>
<li><a href="https://xiezuocat.com/#/">写作猫</a>
<ul>
<li>面向文字工作者的服务，可以帮你修改错别字、推敲用语等，还能实时同步翻译。支持网页端和小程序端。</li>
</ul></li>
<li><a href="https://www.sejda.com/html-to-pdf">html 网页转长 pdf</a>
<ul>
<li> 和通常的网页转 pdf 格式打印不同，工具可以把网页转换为<strong>一页</strong>的 pdf 文档，类似于长截图，内容不会分页截断，适合电子端阅读。如果网页内容比较多，这一页 pdf 会非常长。</li>
<li>免费试用限制：Free service for 20 links per task and 3 tasks per
hour.</li>
</ul></li>
</ul>
<h1 id="online-ide">Online IDE</h1>
<ul>
<li><a href="http://cpp.sh/">cpp.sh</a></li>
<li><a href="https://repl.it/upgrade/wylloong">在线 IDE - repl.it</a>
<ul>
<li> 一个完美的在线
IDE，你可以在几秒钟之内为你喜欢的编程语言或技术栈启动一个编程环境。它支持所有现代编程语言，比如
Python、Kotlin、Ruby 和
JavaScript。你可以安装语言库和包，然后直接使用它们，免去下载和管理工作。</li>
<li>你也可以直接通过 repl.it 链接分享代码，还能通过嵌入 repl.it
链接让用户与代码交互。</li>
</ul></li>
</ul>
<h1 id="online-resource">Online Resource</h1>
<ul>
<li><a href="https://b-ok.cc/">ZLibrary</a>
<ul>
<li>The world's largest ebook library.</li>
<li>ZLibrary 是一个免费电子书籍搜索下载网站，成立于 2009 年，目前收录超过
500
万本电子书籍，主要是<strong>英文原版</strong>的电子书籍，读者可以根据关键词来搜索，也可以通过
ISBN 码搜索，另外也提供了下载历史记录方便查看历史记录。</li>
</ul></li>
<li><a href="http://www.dnbbn.com/">达牛的博客</a>
<ul>
<li>达牛对日常办公使用频率较高的工具做了一些收藏整理，基本都是破解版软件。</li>
<li><a href="https://www.cnblogs.com/reachos/p/11818627.html">visio 2019
激活方法</a></li>
</ul></li>
</ul>
<!--
[世界最大的免费电子图书馆ZLibrary](https://zhuanlan.zhihu.com/p/142309453#:~:text=ZLibrary%E6%98%AF%E4%B8%80%E4%B8%AA%E5%85%8D%E8%B4%B9%E7%94%B5%E5%AD%90,%E6%9C%80%E5%A4%A7%E7%9A%84%E5%85%8D%E8%B4%B9%E5%9B%BE%E4%B9%A6%E9%A6%86%E3%80%82)
-->
<h1 id="english-writing-polish">English Writing Polish</h1>
<ul>
<li><a href="https://app.mtutor.engkoo.com/englishwriting/">微软爱写作</a>
<ul>
<li>微软亚洲研究院研发的作文打分功能。</li>
</ul></li>
<li><a href="http://www.hemingwayapp.com/">Hemingway Editor</a>
<ul>
<li>Hemingway makes your writing bold and clear. It's like a
spellchecker, but for style. It makes sure that your reader will focus
on your message, not your prose.</li>
</ul></li>
<li><a href="https://writeandimprove.com/">Cambridge Writing
Polish</a></li>
</ul>
<!--
[微软免费AI作文打分软件升级](https://mp.weixin.qq.com/s?__biz=MzIzNjc1NzUzMw==&mid=2247535205&idx=3&sn=b8f61846cf563ce898f6352834de0884&chksm=e8d0fd17dfa77401d741cfc26f2760d9e98a8b22ef2742c94d84109e41d4ffcfa51c76a9c2fe&mpshare=1&scene=1&srcid=&sharer_sharetime=1576904058704&sharer_shareid=243305afe8bf4fded3a4c505959e2eb3#rd)
-->
<h1 id="translation">Translation</h1>
<ul>
<li><a href="https://translate.google.cn/">Google Translate</a>
<ul>
<li> 谷歌翻译在通过采用谷歌神经机器翻译 （GNMT：Google Neural Machine
Translation）
系统后，可以极大提升翻译效率，在科技文、商务文方面尤为出色，但在文学、艺术领域还有待提高。</li>
</ul></li>
<li><a href="https://cn.bing.com/translator/">Bing Translator</a></li>
<li><a href="http://www.urbandictionary.com/">Urban Dictionary</a>
<ul>
<li> 欧美青少年用语；年轻人口头禅、俚语 </li>
</ul></li>
<li><a href="http://onlineslangdictionary.com/">Online Slang
Dictionary</a>
<ul>
<li> 英美习语大全 </li>
</ul></li>
<li><a href="">Trados</a>
<ul>
<li>Trados
是本地化工作者必不可少的工具，它能提升翻译内容的一致性，减少重复劳动，降低翻译项目成本。</li>
</ul></li>
<li><a href="https://www.english-corpora.org/coca/">COCA 语料库</a>
<ul>
<li>语料库是指经科学取样和加工的大规模电子文本库。适用于英语深度学习者、学者、研究人士。</li>
</ul></li>
</ul>
<!--

[9个大神们都爱用的翻译工具](https://mp.weixin.qq.com/s?__biz=MzU1NTcxODQ0OQ==&mid=2247542149&amp;idx=1&amp;sn=e2bf9cade2837d0b655a09dadebfe906&source=41#wechat_redirect)

-->
<h1 id="programming-resources">Programming Resources</h1>
<ul>
<li><a href="https://man.linuxde.net/">Linux 命令大全</a></li>
<li><a href="http://www.cplusplus.com/">cplusplus</a></li>
</ul>
<h1 id="地图工具">地图工具</h1>
<ul>
<li><a href="http://www.shipxy.com/">全球船舶 AIS 信息</a>
<ul>
<li>船舶自动识别系统 (Automatic Identification System, 简称 AIS)
是一种新型的助航设备。AIS
基本功能是：将本船和他船的精确船位、航向、航速（矢量线）、转向速度和最近船舶会遇距离等动态信息和船名、呼号、船型、船长与船宽等静态信息通过
VHF 自动、定时播发，在 VHF
覆盖范围内（20 海里）装备 AIS 设备的船舶，可自动接收到这些信息。</li>
</ul></li>
<li><a href="http://api.map.baidu.com/lbsapi/getpoint/index.html">百度地图坐标拾取系统</a></li>
</ul>
]]></content>
      <categories>
        <category>Online</category>
      </categories>
      <tags>
        <tag>Cool Skills</tag>
      </tags>
  </entry>
  <entry>
    <title>nslookup 工具学习</title>
    <url>/website/nslookup/</url>
    <content><![CDATA[<p>[toc]</p>
<!--
这一次惊险的经历提醒自己，审视自己网站的内容，哪些是想展示给别人看的，哪些是自己的隐私，打死也不希望别人看到？

若想人不知，除非己莫为。既然你可以浏览到的内容，为什么别人就不能浏览到呢？只不过略微复杂一点罢了。
-->
<h1 id="background">Background</h1>
<p>Recently, I found my website was visited by a set of IPs from the
same region (Mountain View), as shown below. Without thought, I deemed
my website was suffering from hacker attacks or somebody's dig.</p>
<p>I was a little anxious and regretted that sharing some personal
private information on my website. I built this website on sharing my
own experience and learned knowledge to the masses and storing
individual materials for my convenient use. I previously did not believe
somebody would spare no effort to my website.</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/google_bot.png"></p>
<p>Take it easy. I later found that these visitors are from Google's
robotic crawler using an excellent tool -- nslookup, but I still decided
to delete all personal information to protect my privacy.</p>
<h1 id="whats-nslookup">What's nslookup</h1>
<blockquote>
<p>nslookup, name server lookup, is a network administration
command-line tool available in many computer operating systems (like
MacOs, Linux and Windows) for querying the Domain Name System (DNS) to
obtain domain name or IP address mapping, or other DNS records.</p>
</blockquote>
<ul>
<li>The command does not use the operating system's local Domain Name
System resolver library to perform its queries, and thus may behave
differently from dig, which does.</li>
</ul>
<h1 id="how-to-use">How to use</h1>
<h2 id="find-the-ip-address-of-an-host">Find the IP address of an
Host</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">nslookup ip</span><br><span class="line"># nslookup www.waylon.one</span><br></pre></td></tr></tbody></table></figure>
<p><img data-src="http://www.waylon.one/downloads/images/blog/search_domain_ip.jpg"></p>
<h2 id="lookup-ip-address-to-domain-name">Lookup IP address to domain
name</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">nslookup ip</span><br><span class="line"># nslookup 66.249.73.108</span><br></pre></td></tr></tbody></table></figure>
<p><img data-src="http://www.waylon.one/downloads/images/blog/search_ip_address.png"></p>
<h2 id="find-mail-servers-for-a-domain">Find mail servers for a
Domain</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">nslookup  -querytype=mx  domain-name</span><br><span class="line"># nslookup  -querytype=mx 163.com</span><br></pre></td></tr></tbody></table></figure>
<h2 id="non-authoritative-answer-非权威应答">Non-authoritative answer
(非权威应答)</h2>
<p>You may notice that you get non authoritative answers. This is
nothing to worry about as all it means is that the DNS server has
already recently resolved this query. It can retrieve the results from
cache, and doesn’t need to contact the authoritative name server.</p>
<blockquote>
<p>当你看到 “non-authoritative
answer”，意味着你本地的 DNS 服务器之前访问过这个网址，这次查询直接是从本地 DNS 缓存中得到的。</p>
</blockquote>
<h1 id="references">References</h1>
<ul>
<li><a href="http://www.steves-internet-guide.com/using-nslookup/">How
to Use Nslookup – Beginners Guide</a>
<ul>
<li>A very good article. </li>
</ul></li>
<li><a href="http://www.clownseo.com/seojsfx/154.html">如何辨别是不是一个真正的百度爬虫</a></li>
<li><a href="https://support.google.com/webmasters/answer/182072">Googlebot</a></li>
<li><a href="https://blog.csdn.net/qq_38058202/article/details/80468688">应用 nslookup 命令查看 A 记录</a></li>
<li><a href="https://en.wikipedia.org/wiki/Nslookup">nslookup_Wiki</a></li>
</ul>
]]></content>
      <categories>
        <category>website</category>
      </categories>
      <tags>
        <tag>Website</tag>
      </tags>
  </entry>
  <entry>
    <title>解读 Lift-off dynamics in a simple jumping robot</title>
    <url>/paper/lift-off-simple-robot/</url>
    <content><![CDATA[<p>[toc]</p>
<!--Lift-off dynamics in a simple jumping robot-->
<p>本文研究了一个垂直跳跃机器人 (a 1D mass-spring system with an
actuated mass)
的动力特性，该机器人主要是由驱动马达、质心弹簧组成。文章通过改变驱动力 (马达) 的频率、幅值来寻找跳跃的最优表现。通过分析离地跳跃模型，发现最有跳跃不是发生在机器人的共振频率
(resonant frequency) <span class="math inline">\(f_{0}\)</span>。其中，类似于蹲下来起跳 (squat
maneuver) 的行为，最优跳跃的频率高于 <span class="math inline">\(f_{0}\)</span>；类似于反向运动 (counter-movement)，最优跳跃的频率低于<span class="math inline"> \(f_{0}\)</span>。</p>
<blockquote>
<p>Systematic variation of forcing parameters reveals complex dynamics
which are sensitive to amplitude, phase and frequency.</p>
</blockquote>
<p><a href="https://arxiv.org/abs/1208.6289">文献地址</a></p>
<p>多平台维护不易，内容实时更新于 <a href="http://www.waylon.one/paper/lift-off-simple-robot/">个人网站</a>，请移步阅读最新内容。</p>
<!--
共振（resonance）是物理学上的一个运用频率非常高的专业术语，是指一物理系统在特定频率下，比其他频率以更大的振幅做振动的情形；这些特定频率称之为共振频率。在共振频率下，很小的周期振动便可产生很大的振动，因为系统储存了动能。
-->
<h1 id="introduction">Introduction</h1>
<ul>
<li>本文分析简单运动模型的意义：为复杂设备的简单控制提供指导，揭露生物运动的原理。</li>
</ul>
<blockquote>
<p>Simple models have the ability to be fully analyzed and can thus
provide guidance for simplifying control of more complex devices, and
even reveal principles of biological locomotion.</p>
</blockquote>
<ul>
<li>研究背景：在越过复杂地形时，生物启发的跳跃机器人是轮式机器人的一个替代。目前，跳跃的最优策略往往是基于经验来调试，瞬间行为 (如离地跳跃) 的动态系统分析 (dynamics
of transient behaviors) 是相对少的。</li>
</ul>
<blockquote>
<p>In robotics, biologically inspired legged jumping robots have been
constructed as an alternative to wheeled robots to better traverse rough
terrain.</p>
</blockquote>
<blockquote>
<p>The initial movement strategies for optimal jumping are typically
chosen by empirical tuning for steady state hopping or squat jumps.
Systematic studies of the dynamics of transient behaviors, critical to
issues of lift-off, are relatively scarce.</p>
</blockquote>
<h1 id="experiment-and-model">Experiment and model</h1>
<ul>
<li>硬件设计：线性马达 + 弹簧 + 推力棒 + 空气轴承 (摩擦小)</li>
</ul>
<blockquote>
<p>The robot consisted of a linear motor actuator with a series spring
rigidly attached to the bottom end of the actuator’s lightweight thrust
rod. The actuator was mounted to an air bearing which allowed for 1D,
and nearly frictionless, motion.</p>
</blockquote>
<p><img data-src="/downloads/images/blog/lift_off_robot_schematic_diagram.jpg"></p>
<ul>
<li>马达 (actuator) 相对轴承 (bearing) 的力量有限，所以通过倾斜来减少重力，但我不太理解这番话蕴含的物理意思，无法想象轴承和马达的位置关系是什么。</li>
</ul>
<blockquote>
<p>Due to power limitations in the actuator, the bearing was inclined at
15 degree relative to the horizontal, reducing gravitational
acceleration to 0.276g.</p>
</blockquote>
<ul>
<li>马达相对于驱动棒 (thrust rod) 底部的位置关系表达式，如下所示。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/lift_off_position.jpg"></p>
<ul>
<li>设计巧妙处，利用电路 (open
circuit) 做传感器，统计跳跃时间和高度，简单且精度高。</li>
</ul>
<blockquote>
<p>To detect lift-off, a continuity sensor attached to the bottom of the
metal spring measured an open circuit when the spring left the
ground.</p>
</blockquote>
<p>结合理论和实验，作者提出一个机器人的动态模型，原理及推导过程，如下所示。</p>
<figure>
<img data-src="/downloads/images/blog/lift_off_dynamic_model.jpg" alt="公式推导">
<figcaption aria-hidden="true">公式推导</figcaption>
</figure>
<p>以及，和地面碰撞后的恢复系数。</p>
<blockquote>
<p>A constant coefficient of restitution of 0.8 (measured from
experiment) modeled the collision of the spring with the ground.</p>
</blockquote>
<!--MC(my comment): 公式基于力学中的基本概念之一，使物体获得加速度或形变的外因，在动力学中它等于物体的质量与加速度的乘积。=> F = ma-->
<h1 id="lift-off-and-jump-height">Lift off and jump height</h1>
<ul>
<li>只研究马达运行一次的跳跃表现。</li>
</ul>
<blockquote>
<p>Since we were interested in rapid jumps from rest, actuator forcing
was then restricted to only one cycle (N = 1). We systematically
examined jumping height for N = 1.</p>
</blockquote>
<h2 id="两种跳跃模式">两种跳跃模式</h2>
<p>本节主要研究频率 (frequency) <span class="math inline">\(f\)</span>
和初始相位 (initial phase offset) <span class="math inline">\(\phi\)</span>
对跳跃高度的影响。从跳跃高度图发现，局部两个最大值，对应两种跳跃行为模式 (two
distinct modes of jumping)。</p>
<ul>
<li>单次跳 (single jump)</li>
</ul>
<p>In the single jump mode, the robot compressed the spring and was
propelled into the air.</p>
<ul>
<li>突突跳 (stutter jump)</li>
</ul>
<p>In the stutter jump mode, the robot performed a small initial jump
followed by a larger second jump.</p>
<!--
马达先下压，再大反弹。
-->
<figure>
<img data-src="/downloads/images/blog/lift_off_jumping_modes.jpg" alt="两种跳跃模式示意图">
<figcaption aria-hidden="true">两种跳跃模式示意图</figcaption>
</figure>
<p>重要结论：For large <span class="math inline">\(\phi\)</span> single
jumps predominate while stutter jumps occurred at lower <span class="math inline">\(f\)</span> and <span class="math inline">\(\phi\)</span>.</p>
<h2 id="single-jump-vs-stutter-jump">Single jump vs Stutter jump</h2>
<ul>
<li>起跳时间：<strong>The time to lift-off was smaller for single jumps
than stutter jumps</strong>.</li>
</ul>
<h1 id="theory-of-transient-mixing">Theory of transient mixing</h1>
<ul>
<li><p>看似简单的等式一，因为参数 <span class="math inline">\(\alpha\)</span> 的线性，更像是一个分段线性动态系统
(piecewise linear dynamical systems)，包含一系列复杂的行为。</p></li>
<li><p>基于等式一，理论分析为什么最佳跳跃不是发生在谐振频率。</p></li>
</ul>
<blockquote>
<p>We are particularly interested in why optimal jumps occur only off
resonance.</p>
</blockquote>
<h2 id="single-jump">Single jump</h2>
<p>基于对等式一的变形，从模型中发现理论依据。</p>
<figure>
<img data-src="/downloads/images/blog/lift_off_single_jump_analyse.jpg" alt="理论分析">
<figcaption aria-hidden="true">理论分析</figcaption>
</figure>
<blockquote>
<p>Moving off resonance, the prefactor favors higher f over lower, so
the optimum f lies somewhat above <span class="math inline">\(f_{0}\)</span> (resonance). This argument holds
regardless of A.</p>
</blockquote>
<h2 id="stutter-jump">Stutter jump</h2>
<p>基于物理公式瞬时动能 (instantaneous power) P = 外界力 F (external
force) 乘以 质心速度 V (the center-of-mass robot velocity)。</p>
<h2 id="single-jump-vs-stutter-jump-1">Single jump vs Stutter jump</h2>
<ul>
<li>最佳突突跳 (stutter jump) 的频率带宽 (narrow frequency
bandwidth) 比较窄。 &gt; This sensitivity to proper timing explains the
narrow frequency bandwidth required to achieve optimal jump heights
using the stutter jump mode.</li>
<li> 最佳突突跳的频率强依赖幅值，单次跳则没有明显依赖。 &gt; A further
consequence is a strong dependence of optimal f with respect to A.</li>
<li> 和单次跳跃相比，突突跳达到相同高度的消耗能量要少一个数量级。 &gt;
Thus the stutter jump is energetically advantageous since it has a lower
optimal f than the single jump. In fact, the stutter jump uses nearly
<strong>an order of magnitude less</strong> power to achieve comparable
jump height to the single jump.</li>
</ul>
<h1 id="conclusion">Conclusion</h1>
<h2 id="works-have-done">Works have done</h2>
<ul>
<li>发现突突跳，使用的能量少，但是跳跃高度高，性价比高。 &gt; The system
becomes hybrid for certain parameters as a stutter jump emerges. This
mode achieves comparable jump height but uses less power.</li>
<li> 研究成果和已有结论相符 &gt; Biologically, our model is in accord
with a previous model of bipedal jumping which predicted that
counter-movement achieves greater jump height than the squat jump. A
quick single jump that resembles a squat jump is beneficial when a fast
escape is essential, while a slower stutter jump similar to a
counter-movement can achieve comparable jump height.</li>
</ul>
<h2 id="works-to-do">Works to do</h2>
<ul>
<li>研究其他影响因素，如系统固有性质和环境的影响 &gt; how other factors,
intrinsic and environmental, affect optimal performance</li>
<li>A non-sinusoidal actuation could improve jump height, take off time,
or efficiency.</li>
<li>Animals jump off compliant surfaces (like tree branches) and from
deformable substrates (like sand).</li>
<li> 如何结合 Single jump 和 Stutter jump，取得更优的表现。</li>
</ul>
<!--Pri- mates like Galagos (bushbabies) have been documented to perform this double jump behavior to reach a higher platform [26].-->
<!--
# References
- [Leg design and jumping technique for humans, other vertebrates and insects](https://royalsocietypublishing.org/doi/10.1098/rstb.1995.0024)
- [The jump as a fast mode of locomotion in arboreal and terrestrial biotopes](https://www.jstor.org/stable/25757324?seq=1)
-->
]]></content>
      <categories>
        <category>paper</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>paper</tag>
        <tag>Robotics</tag>
      </tags>
  </entry>
  <entry>
    <title>Group Surfing A Pedestrian-based Approach to Sidewalk Robot Navigation / 解读 Group Surfing paper</title>
    <url>/paper/paper-group-surfing/</url>
    <content><![CDATA[<p>[toc]</p>
<p><a href="https://www.monash.edu/__data/assets/pdf_file/0006/1981176/icra_conference_sidewalk_delivery_robot_navigation.pdf">文献下载地址</a></p>
<!--
![](https://www.codecogs.com/latex/eqneditor.php)
[Autonomous Social Robots in Pedestrian-Rich Environments](https://www.monash.edu/engineering/robotics/projects/autonomous-social-robots-in-pedestrian-rich-environments)
![video_1](https://www.youtube.com/watch?v=fy7fKOADg_A)
![video_2](https://www.youtube.com/watch?v=PHhtYIkdxiw)
-->
<p>这篇论文主要研究如何在人行道上给机器人导航。论文根据人行横道上行人的多与少，来使用两种不同的算法为机器人导航。在行人密集 (pedestrian-rich)
的环境下，使用 Group Surfing 方法，模仿前方的行人，以遵守规则
(socially-compliant)
的行为来避开行人和障碍物，并最后抵达目的地；在行人稀疏
(pedestrian-sparse)
的环境下，通过检测马路沿，沿着马路沿导航。在这两种算法下，底层的避障模块是有模仿人类倾向
(human-aware)。最后，作者在仿真和实物上均验证了算法。</p>
<p>总体而言，这篇文章跟踪行人的思路比较好，算法实现细节清楚，在算法验证阶段有条理，总体质量比较高。</p>
<p>多平台维护不易，内容实时更新于<a href="http://www.waylon.one/paper/paper-group-surfing/">个人网站</a>，请移步阅读最新内容。</p>

<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=667526557&amp;bvid=BV1Va4y1t77j&amp;cid=172396208&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>


<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=412574140&amp;bvid=BV1aV411f7cx&amp;cid=172397637&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>

<h1 id="introduction">INTRODUCTION</h1>
<p>本文的一个侧重点是，人机交互，强调机器人尽量不影响行人的行为，或者以人的方式去交互。所以，研究目标不是一个简单的 (类似于最短路径) 求最优解的问题。</p>
<p>首先，这篇文章的应用场景是人行道 (Sidewalk)，导航空间在路旁，行人的方向大概是两个线性的。</p>
<blockquote>
<p>Sidewalks present a unique yet challenging environment in that the
navigable space combines elements of both roads and free indoor spaces.
Often sidewalk motion is restricted to two linear directions and the
resulting navigable space is limited, like on roads.</p>
</blockquote>
<p>问题的复杂性在于，行人的活动比较随机，可能聚团 (group) 一起走。</p>
<blockquote>
<p>However, pedestrians generally do not walk in perfect queues.
Instead, people tend to walk in groups of variable sizes and speeds and
move along with a general self-organizing crowd flow.</p>
</blockquote>
<p>人行道导航 (sidewalk
navigation) 的特点是，必须考虑行人的随机行为，同时遵守一定的社会规则，比如行人的交互常识 (pedestrian
conventions)，人际距离学 (appropriate
proxemics)，即行走方向保持的距离比垂直方向的距离要远。</p>
<blockquote>
<p>Compared to autonomous road navigation, sidewalk navigation must also
account for stochastic human movement that necessitates dynamic obstacle
avoidance. Furthermore, certain social rules, such as walking in lanes
or affording more space in the direction of walking than in the
perpendicular direction, are rules that a robot should follow as
well.</p>
</blockquote>
<p>已有的研究方法有推理 (reasoning) 和学习 (learning)，或者两者的结合。社会规则 (Social
rules)，在推理方法中作为代价函数，或在学习方法中作为奖励函数。</p>
<blockquote>
<p>In general, methods are based on either reasoning, learning, or a
combination thereof.</p>
</blockquote>
<p>已有方法的局限性在于，利用对行人意图的理解，通常适用于开放环境 (open
environments)，而本文的研究问题是有限制的人行道环境，同时没有考虑人行横道的物理边界，机器人的运动会影响行人流等。</p>
<blockquote>
<p>Here, the aforementioned approaches may be less effective as they do
not account for the physical sidewalk boundaries, or how robot movement
will affect pedestrian flow.</p>
</blockquote>
<p>所以，本文的主要研究问题是如何考虑附近行人的行为和行人流，机器人最终抵达终点。</p>
<blockquote>
<p>The key research question this paper considers is how mobile robots
can utilize nearby pedestrian behaviours and flows to navigate towards a
global goal.</p>
</blockquote>
<p>针对这个问题，作者给出的答案是，模仿行人的行为。当检测到有行人朝向机器人的终点时，会允许机器人模仿并从用行人的社交行为。</p>
<blockquote>
<p>When our navigation stack detects people moving towards the robot’s
goal, a ‘group surfing’ behaviour is used. This allows the robot to
imitate and participate in pedestrian social behaviours.</p>
</blockquote>
<p>在行人稀疏或者简单的人行道，距离人行道的路沿一段距离，沿着这个向目标走 (trajectory
following)。</p>
<blockquote>
<p>In an unpopulated and simple sidewalk environment, the default
behaviour is to follow a trajectory offset from the sidewalk curb
towards the goal.</p>
</blockquote>
<h1 id="system">SYSTEM</h1>
<p>系统的设计比较中规中矩，有新意的是，在航路点外，生成动态的子目标点 (subgoals)。</p>
<figure>
<img data-src="/downloads/images/blog/Navigation_flow_diagram.jpg" alt="示意图">
<figcaption aria-hidden="true">示意图</figcaption>
</figure>
<ol type="1">
<li>首先利用 Google Maps’ API 去生成高层次的航路点 (waypoint)；</li>
<li>导航模块 (sidewalk navigation module) 根据附近是否有行人流 (nearby
pedestrian flow) 来采用 group surfing 或者 sidewalk following
方法。</li>
<li>无论哪种方法，对外输出是子目标点
(subgoals)，这是避障算法的输入，最后输出速度矢量 (velocity command)
指令，控制机器人的运动。</li>
<li>周期轮训，是否抵达当前目标点。</li>
</ol>
<!--If the robot has reached the waypoint within a predefined tolerance, the module checks if there are more waypoints.-->
<h1 id="methods">METHODS</h1>
<h2 id="group-surfing">Group Surfing</h2>
<p>核心思路和目标：模仿人类的自然行为，包括沿路行走 (walking in
lanes)，避障 (avoiding collisions with other pedestrians or
obstacles)，路口等待 (waiting at intersections to cross)，不走入交通中
(not walking into
traffic)。类似于仿生学，这次模仿的只不过是人类自己罢了。</p>
<ol type="1">
<li>Filter Candidate Groups</li>
</ol>
<ul>
<li> 过滤那些远离航路点的行人组。 &gt; Filter out groups moving away from
the waypoint.</li>
<li> 重点解释下，<span class="math inline">\(\[v_{G_{i}}\cdot
x_{I}\]\)</span>
的意义。在我看来，这个并没有物理意义，作者只不过想利用向量点乘的正负来判断行人是否在远离航路点。ps.
向量点乘的正负性取决于余弦角，只要两个向量的夹角小于 90 度 (向目标点靠近)，就是正值。
&gt; If this value is non-positive, discard Gi as a subgoal
candidate.</li>
</ul>
<figure>
<img data-src="/downloads/images/blog/group_surfing_1.jpg" alt="示意图">
<figcaption aria-hidden="true"> 示意图</figcaption>
</figure>
<ol start="2" type="1">
<li> Smart Group Selection</li>
</ol>
<ul>
<li> 方法核心思路和目标：从筛选后的行人组中，选择平均速度小于且最接近于机器人最大速度的作为最优跟踪组
(the optimal group to
follow)。选择该组中距离机器人最近行人的当前位置作为子目标点
(subgoals)。</li>
</ul>
<blockquote>
<p>Once we have filtered out unsuitable groups, the algorithm selects
the optimal group to follow.</p>
</blockquote>
<ul>
<li>那么，路径规划和避障的问题就是在机器人当前位置和最优跟踪组的最近行人之间，规划出一条无碰撞的路径。</li>
</ul>
<blockquote>
<p>We intentionally select the closest person as a subgoal as attempting
to reach the average group position could lead to path planning through
pedestrians located between the average group position and the robot’s
current position.</p>
</blockquote>
<h2 id="curb-following">Curb Following</h2>
<p>方法核心思路和目标：使用 3D laser sensor 采集点云，然后利用 Random
Sample Consensus (RANSAC) 算法去识别马路沿。</p>
<blockquote>
<p>We make use of contextual knowledge; sidewalks are normally
surrounded by streets and buildings or empty space. Our robot first
acquires a surrounding point cloud using a 3D laser sensor and filters
out points that are at the same height as or above the plane defined by
the robot wheel contacts.</p>
</blockquote>
<h2 id="collision-avoidance">Collision Avoidance</h2>
<ol type="1">
<li>Human-Aware Collision Avoidance</li>
</ol>
<ul>
<li><p> 在 group surfing 和 curb following
中，使用已有的学习方法，Socially-Aware Collision Avoidance with Deep
Reinforcement Learning (SA-CADRL) 来作为避障算法。 &gt; Socially-Aware
Collision Avoidance with Deep Reinforcement Learning (SA-CADRL), as the
collision avoidance component of our navigation stack. The collision
avoidance system navigates to a local subgoal generated by either the
group surfing or the curb following approach.</p></li>
<li><p> 其中，引入社交奖励函数来鼓励社会行为。 The reinforcement training
process induces social awareness through social reward functions, which
give higher values to actions that follow social rules.</p></li>
</ul>
<ol start="2" type="1">
<li>Static Obstacle Avoidance:</li>
</ol>
<ul>
<li> 把静态障碍物作为静态的行人，仍然使用 SA-CADRL 算法来处理。 &gt; We
also use SA-CADRL to avoid these static obstacles by adding “static
pedestrians” to the state vector.</li>
</ul>
<h1 id="simulation-demonstration-and-experiments-for">SIMULATION
DEMONSTRATION AND EXPERIMENTS For</h1>
<p>仿真环境的构建：使用 ROS 和 Gazebo 仿真套件。 &gt; We use the Robot
Operating System (ROS) and Gazebo simulator suite. To simulate
pedestrians, we use the Pedsim ROS library, which relies on the social
force model.</p>
<h2 id="simulation-demonstration">Simulation Demonstration</h2>
<p>在虚拟环境中，以 GPS
校准，重新搭建了周围的环境，复制了机器人模型。</p>
<!--
![video_1](https://www.youtube.com/watch?v=fy7fKOADg_A)
-->
<h2 id="simulation-experiments-and-evaluation">Simulation Experiments
and Evaluation</h2>
<p>目的：验证机器人可以沿着社会接受 (socially-acceptable)
的行为，最后抵达终点，即机器人的路径和行人的路径是相似的。</p>
<blockquote>
<p>In evaluating our navigation system, our main goal was to show that
the system successfully navigates the robot to its final goal through a
socially-acceptable path. That is, the path that our robot takes to the
goal is similar to what a pedestrian would take to the same goal.</p>
</blockquote>
<p>首先，在虚拟环境中，使用提出的算法抵达终点；然后，文中引入对比试验，使用最短路径的方法抵达终点。</p>
<blockquote>
<p>We tracked the path taken by the robot and the path taken by a
simulated pedestrian. We also tracked the shortest path that the robot
could take within the confines of the sidewalk.</p>
</blockquote>
<p>现在，有三组轨迹，行人的真实轨迹，现有算法轨迹，最短路径的轨迹。本文使用
an independent samples t-test
等数学方法，比较两个轨迹和人类实际轨迹的相似度，来证明现有的算法更加符合人类的行为。</p>
<p>MC：赞一下，比较的有理有据。</p>
<h1 id="hardware-demonstration">HARDWARE DEMONSTRATION</h1>
<h2 id="hardware-setup">Hardware Setup</h2>
<p>机器人的配置如下：</p>
<blockquote>
<p>We use the PowerBot from Omron Adept Mobile Robots as our
differential drive mobile base. The robot is equipped with multiple
sensors: a Velodyne VLP-16 3D LiDAR sensor; a SICK LMS-200 2D laser
sensor; a RealSense RGB-D sensor, and GPS and IMU sensors. Our
PowerBot’s max speed is 0.8m/s. This limits its capacity of following
faster pedestrian groups.</p>
</blockquote>
<h2 id="demonstration-and-discussion">Demonstration and Discussion</h2>
<!--
![video_2](https://www.youtube.com/watch?v=PHhtYIkdxiw)
-->
<ul>
<li>使用 SPENCER 算法来识别行人和行人流。</li>
<li>原打算使用 lidar 来识别行人的腿部，但是错误率太多，使用 SPENCER 提供的 RGB-D-based 的上身识别算法。</li>
<li>对机器人局限的探讨，以及算法的不足之处，从工程的角度讨论。</li>
</ul>
<h1 id="conclusions">CONCLUSIONS</h1>
<p>待提高的地方： - For the group surfing component, one main area for
improvement is in the selection process of groups to imitate. -
Criteria: group velocity; group trajectory; group size - External
observers of the group surfing behaviour will be interviewed to gauge if
the imitation behaviour is socially acceptable. - For collision
avoidance, a more specialized technique would allow for more efficient
navigation. - We hope to decouple static collision avoidance from
dynamic collision avoidance. - For curb following, our approach only
works for sidewalks that limit directly to the street, ignoring common
tree belt, median, hellstrip, etc. Our future plan is to introduce
detection and recognition of these non-transitable areas and incorporate
them in our navigation module.</p>
]]></content>
      <categories>
        <category>paper</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>paper</tag>
        <tag>Robotics</tag>
      </tags>
  </entry>
  <entry>
    <title>解读 Socially Aware Motion Planning with Deep Reinforcement Learning</title>
    <url>/paper/paper-MIT-SACADRL/</url>
    <content><![CDATA[<p>[toc]</p>
<!--
- 和USV的规则很类似，可以引入到USV的避障应用中。如何建立函数和表达式，是难点所在。
- norms, these policies are further evaluated on randomly generated test cases
- at human walking speed
-->
<!--
好句子，可以组合起来成为自己的句子

A key to resolving this problem is to account for cooperation, that is, to model/anticipate the impact of the robot’s motion on the nearby pedestrians

 Reciprocity implicitly encodes a model of the other agents’ behavior, which is the key for enabling cooperation without explicit communication. While no behavioral rules were imposed in the problem formulation, CADRL policy exhibits certain navigation conventions.

 Existing works have reported that human navigation (or teleoperation of a robot) tends to be cooperative and time- efficient. This work notes that these two properties are encoded in the CADRL formulation through using the min-time reward function and the reciprocity assumption.

 We first describe a strategy for shaping normative behaviors for a two-agent system in the RL framework, and then generalize the method to multiagent scenarios.

 Human-robot coexistence navigation tends to be cooperative and time-efficient, these two properties could encodes a model of Reciprocity implicitly behavior and shaping normative behaviors for a robot in the RL framework.

 A multiagent collision avoidance problem can be formulated as a sequential decision making problem in a reinforcement learning framework.

 The navigation problem can be formulated as a sequential decision making problem in a reinforcement learning framewor

 **social norms are the emergent behaviors from a time-efficient, reciprocal collision avoidance mechanism**

-->
<p>Socially Aware Motion Planning with Deep Reinforcement Learning</p>
<p><a href="https://arxiv.org/pdf/1703.08862.pdf">Paper download
link</a></p>
<hr>
<p>简评：之前的方法使用特征匹配 (feature-matching techniques)
的做法来描述和模仿行人的轨迹，但是人和人之间的特征是有差异的 (vary from
person to
person)，所以生成的行人轨迹并不理想。这篇文献指出，尽管导航时指明机器人什么应该和人类交互做是比较困难的 (精确的行人导航机制)，但是却可以简单地指明，什么是不应该做的 (违反社交规范)。尤其是，本文使用深度强化学习，提出一种时间高效
(time-efficient) 的遵守社会规范的导航策略。</p>
<blockquote>
<p>This work notes that while it is challenging to directly specify the
details of what to do (precise mechanisms of human navigation), it is
straightforward to specify what not to do (violations of social norms).
Specifically, using deep reinforcement learning, this work develops a
time-efficient navigation policy that respects common social norms.</p>
</blockquote>
<p>此外，本文是在作者基于深度强化学习的多智能体避障的研究基础上，在多智能体系统中引入具有社交意识的行为，本文的主要贡献是如何在 CADRL 中引入和融合社交行为。所以，可以简单认为，SA-CADRL
= SA (socially aware) + CADRL (collision avoidance with deep
reinforcement learning)。</p>
<blockquote>
<p>This work extends the collision avoidance with deep reinforcement
learning framework (CADRL) to characterize and induce socially aware
behaviors in multiagent systems.</p>
</blockquote>
<p>多平台维护不易，内容实时更新于 <a href="http://www.waylon.one/paper/paper-MIT-SACADRL/">个人网站</a>，请移步阅读最新内容。</p>

<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=327568946&amp;bvid=BV1DA41187qB&amp;cid=172392972&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>

<h1 id="introduction">INTRODUCTION</h1>
<!--
provide personal mobility services and luggage carrying support
airports and shopping malls

require the robots to be capable of navigating efficiently and safely in close proximity of people
-->
<h2 id="人机交互方法演进">人机交互方法演进</h2>
<ol type="1">
<li><p>将行人视为具有简单动力学的动态障碍物，执行特定的反应式避障行为。</p>
<blockquote>
<p>A common approach treats pedestrians as dynamic obstacles with simple
kinematics, and employs specific reactive rules for avoiding
collision.</p>
</blockquote>
<ul>
<li>缺陷：这种方法没有观察人类的行为，会产生不安全、不自然的行为，尤其当机器人的速度和人类行走速度比较靠近时。</li>
</ul>
<blockquote>
<p>Since these methods do not capture human behaviors, they sometimes
generate unsafe/unnatural movements, particularly when the robot
operates near human walking speed.</p>
</blockquote></li>
<li><p>使用更精致的运动模型来推理附近行人的运动意图 (hidden
intents)，产生一系列预测轨迹。然后，使用传统的路径规划算法为机器人生成无碰撞 (collision-free) 的路径。</p>
<blockquote>
<p>More sophisticated motion models have been proposed, which would
reason about the nearby pedestrians’ hidden intents to generate a set of
predicted paths. Subsequently, classical path planning algorithms would
be employed to generate a collision-free path for the robot.</p>
</blockquote>
<ul>
<li>缺陷：导航问题分割为不关联的预测和路径规划，可能导致机器人冻结问题 (the
freezing robot
problem)，机器人无法找到任何可行的行为，因为预测的轨迹让大部分的空间不可通行。</li>
</ul>
<blockquote>
<p>Separating the navigation problem into disjoint prediction and
planning steps can lead to the freezing robot problem, in which the
robot fails to find any feasible action because the predicted paths
could mark a large portion of the space untraversable.</p>
</blockquote></li>
</ol>
<ul>
<li>My comment
(MC): 虽然作者认为这种做法不合理，但是这是在目前工业界比较流行的做法。导航问题分割为多个层次模块，上下游之间透明，容易迁移和调试。</li>
</ul>
<ol start="3" type="1">
<li>合作 (cooperation)</li>
</ol>
<p>基于上述研究的问题，作者提出一种做法，合作 (cooperation)，建模 (model)/ 预测 (anticipate) 机器人对周围行人的影响。</p>
<blockquote>
<p>A key to resolving this problem is to account for cooperation, that
is, to model/anticipate the impact of the robot’s motion on the nearby
pedestrians.</p>
</blockquote>
<ul>
<li><p>现阶段，基于合作的社交导航研究，主要分为基于模型 (model-based) 的做法和基于学习 (learning-based) 的做法。</p>
<blockquote>
<p>Existing work on cooperative, socially compliant navigation can be
broadly classified into two categories, namely model-based and
learning-based.</p>
</blockquote>
<ul>
<li>基于模型的做法，是一种典型的多智能体避障 (multiagent collision
avoidance
algorithm) 的扩展，通过增加参数来引入对社交交互行为的考虑。</li>
</ul>
<blockquote>
<p>Model-based approaches are typically extensions of multiagent
collision avoidance algorithms, with additional parameters introduced to
account for social interactions.</p>
</blockquote>
<p>模型方法的缺陷：不确定行人是否会遵循预设的几何模型；势力场需要针对不同的行人，调节参数；可能导致规划轨迹震荡 (oscillatory)。</p>
<ul>
<li>基于学习的做法，旨在通过匹配特征统计来开发一种策略。</li>
</ul>
<blockquote>
<p>Learning-based approaches aim to develop a policy that emulates human
behaviors by matching feature statistics. In particular, Inverse
Reinforcement Learning (IRL) has been applied to learn a cost function
from human demonstration (teleoperation), and a probability distribution
over the set of joint trajectories with nearby pedestrians.</p>
</blockquote>
<p>学习方法比模型方法更贴近人类的行为，但是同时需要更高的计算代价 (computational
cost)。同时，特征统计在人和人之间变化明显 (vary
significantl)，也引起其在不同场景下的泛化能力的担忧。</p></li>
</ul>
<p>简而言之，存在的方法试图建模或复制详细的社交行为机制 (mechanisms of
social
compliance)，因为行人行为的随机性 (stochasticity)，仍然很难去量化 (quantify)。</p>
<blockquote>
<p>In short, existing works are mostly focused on modeling and
replicating the detailed mechanisms of social compliance, which remains
difficult to quantify due to the stochasticity in people’s
behaviors.</p>
</blockquote>
<p>作者认为人类会遵循一系列简单的社交规范，比如从右侧通过 (passing on the
right)。所以在强化学习框架中描述 (characterize) 这些行为的特征，发现通过解决合作避障的问题可以生成 (emerge) 类人的导航惯例。</p>
<blockquote>
<p>Building on a recent paper, we characterize these properties in a
reinforcement learning framework, and show that human-like navigation
conventions emerge from solving a cooperative collision avoidance
problem.</p>
</blockquote>
<figure>
<img data-src="/downloads/images/blog/SACADRL_1.jpg" alt="Symmetries in multiagent collision avoidance">
<figcaption aria-hidden="true">Symmetries in multiagent collision
avoidance</figcaption>
</figure>
<!--
- Respects a set of simple social norms:
  * passing on the right
  * human navigation conventions are not unique, as the strength (e.g., separation distance) and passing direction vary in different countries
  -->
<h1 id="background">BACKGROUND</h1>
<h2 id="collision-avoidance-with-deep-reinforcement-learning">Collision
Avoidance with Deep Reinforcement Learning</h2>
<p>首先，多智能体的避障，可以表述为在强化学习下的一系列行为决策 (a
sequential decision making) 问题。</p>
<blockquote>
<p>A multiagent collision avoidance problem can be formulated as a
sequential decision making problem in a reinforcement learning
framework.</p>
</blockquote>
<ul>
<li>强化学习问题建模</li>
</ul>
<p>这部分理论分析非常精彩，建议多阅读几次，理解深意。</p>
<ol type="1">
<li><p>为了刻画附近行人意图的不确定性 (uncertainty)，将状态矢量分为可观察部分 (observable) 和不可观察部分 (unobservable)。其中，可观察部分包括行人的速度，位置和大小；不可观察部分，包括行人的目标位置，偏好速度和方向。</p></li>
<li><p>所以，模型的目标是开发一种策略，在避开和附近行人碰撞的基础上，最小化抵达目标的时间。</p></li>
<li><p>在此模型基础上，这个问题可以在强化学习框架下表述为和邻近行人的关联配置 (joint
configuration)。另外，引入奖励函数，奖励那些抵达目标的智能体，惩罚那些发生碰撞的智能体。</p>
<blockquote>
<p>In particular, a reward function can be specified to reward the agent
for reaching its goal and penalize the agent for colliding with
others.</p>
</blockquote></li>
</ol>
<ul>
<li><p><strong>状态转移函数模型，因为考虑了其他智能体的隐藏意图 (hidden
intents)，所以也简介考虑了其他智能体的行为不确定性</strong>。</p>
<blockquote>
<p>The unknown state-transition model takes into account the uncertainty
in the other agent’s motion due to its hidden intents.</p>
</blockquote></li>
</ul>
<ol start="4" type="1">
<li>随后，解决这个 RL 问题就是找到表达到达目标点的预估时间的最优值函数 (the
optimal value function)，然后可以由值函数回溯得到最优策略 (optimal
policy)。</li>
</ol>
<blockquote>
<p>Solving the RL problem amounts to finding the optimal value function
that encodes an estimate of the expected time to goal.</p>
</blockquote>
<p>然后，找到最优值函数的主要的挑战是，关联状态是连续的、高维的矢量，使得离散化和枚举状态空间不可行。</p>
<blockquote>
<p>A major challenge in finding the optimal value function is that the
joint state sjn is a continuous, high-dimensional vector, making it
impractical to discretize and enumerate the state space.</p>
</blockquote>
<p>最近，可以使用深度神经网络来解决这个强化学习的问题，去表示高维空间的值函数，并且具有人类水平的表现。
Recent advances in reinforcement learning address this issue by using
deep neural networks to represent value functions in high-dimensional
spaces, and have demonstrated human-level performance on various complex
tasks.</p>
<p>MC: 到目前为止，作者是在介绍自己已有的研究，the collision avoidance
with deep reinforcement learning framework
(CADRL)，接下来会在这个基础上，引入多智能体间具有社交意识的行为。</p>
<p>最后，作者公开的实现代码 <a href="https://github.com/mit-acl/cadrl_ros">mit-acl/cadrl_ros</a> 。</p>
<!--
In contrast, this work extends  [14] to characterize and induce socially aware behaviors in multiagent systems.
B.

> 主要讲述之前的研究成果，CADRL的模型，以及目前在行人交互中的缺陷，引出下文
-->
<h2 id="characterization-of-social-norms">Characterization of Social
Norms</h2>
<p>与其直接去量化人类行为，本文认为复杂的规范行为模式，是由一系列简单的局部交互组成的。MC:
我赞同这个观点，可以把复杂的问题拆分为小问题，容易解决。</p>
<blockquote>
<p>Rather than trying to quantify human behaviors directly, this work
notes that the complex normative motion patterns can be a consequence of
simple local interactions.</p>
</blockquote>
<p>因此，本文进一步猜想，相比于一系列精确定义的规则 (a set of precisely
defined procedural rules)，社交规范是从相互避免碰撞的机制中新生的。</p>
<blockquote>
<p>Thus, we conjecture that rather than a set of precisely defined
procedural rules, <strong>social norms are the emergent behaviors from a
time-efficient, reciprocal collision avoidance mechanism</strong>.</p>
</blockquote>
<blockquote>
<p>Reciprocity implicitly encodes a model of the other agents’ behavior,
which is the key for enabling cooperation without explicit
communication.</p>
</blockquote>
<p>有点哲学感:
局部避免碰撞中的互惠原则，衍生出来了所谓的社交行为规范。作者进一步实验表明，无规则的 CADRL 也可以展示出一定的导航规范。(可以作为 research
hypothesis)</p>
<blockquote>
<p>Reciprocity implicitly encodes a model of the other agents’ behavior,
which is the key for enabling cooperation without explicit
communication. While no behavioral rules were imposed in the problem
formulation, CADRL policy exhibits certain navigation conventions.</p>
</blockquote>
<p>所以，作者在这个基础上认为，通过多智能体的避碰学习，可以习得人类现在的行为规范。</p>
<p>已有的文献报道，人类导航趋向于合作和时间最优。所以，作者在 CADRL 基础上，通过引入最小时间奖励函数和互惠假设 (学习到的最优行为，智能体基本都会采用)。</p>
<blockquote>
<p>Existing works have reported that human navigation (or teleoperation
of a robot) tends to be cooperative and time- efficient. This work notes
that these two properties are encoded in the CADRL formulation through
using the min-time reward function and the reciprocity assumption.</p>
</blockquote>
<p>同时，作者指出，从 CADRL
衍生的合作行为，和人类现有的理解是不同的。所以，作者会进一步解决这个问题。</p>
<blockquote>
<p>However, the cooperative behaviors emerging from a CADRL solution are
not consistent with human interpretation. The next section will address
this issue and present a method to induce behaviors that respect human
social norms.</p>
</blockquote>
<h1 id="approach">APPROACH</h1>
<blockquote>
<p>本章首先描述两个智能体如何在 RL 框架中塑造规范行为，然后将这一方法推广到多智能体场景。</p>
</blockquote>
<p>We first describe a strategy for shaping normative behaviors for a
two-agent system in the RL framework, and then generalize the method to
multiagent scenarios.</p>
<h2 id="inducing-social-norms">Inducing Social Norms</h2>
<blockquote>
<p>和自己的解法基本是一致的，只不过没有使用神经网络罢了</p>
</blockquote>
<p>现有的社交行为是众多解决对称避障的方法之一。为了引入一个特定的行为，就需要向 RL 中引入一点偏爱 (bias)，更偏向于一组行为。</p>
<blockquote>
<p>This work notes that social norms are one of the many ways to resolve
a symmetrical collision avoidance scenario. To induce a particular norm,
a small bias can be introduced in the RL training process in favor of
one set of behaviors over others.</p>
</blockquote>
<p>如作者所说，这一方法的优点在于，违背特定性为的做法一般容易被识别，并且这一规范不需要精确。这是因为新增的惩罚打破了避碰的平衡和对称，所以会偏向于遵守社会规则的行为。</p>
<blockquote>
<p>The advantage of this approach is that violations of a particular
social norm are usually easy to specify; and this specification need not
be precise. This is because the addition of a penalty breaks the
symmetry in the collision avoidance problem, thereby favoring behaviors
respecting the desired social norm.</p>
</blockquote>
<!--
Also note that training is performed on randomly generated test cases, and not on the validation test cases.
B.
-->
<!-- 作者自信满满，不愧是MIT出品方 -->
<p>最后，训练的结果表明学到了和人类行为类似的策略，比如 left-handed and
right-handed norms。</p>
<blockquote>
<p>As long as training converges, the penalty sets’ size does not have a
major effect on the learned policy. This is expected because the desired
behaviors are not in the penalty set.</p>
</blockquote>
<h2 id="training-a-multiagent-value-network">Training a Multiagent Value
Network</h2>
<p>因为上文的训练只是在两个智能体之间，所以很难引入到更高阶的行为，比如多智能体环境。这部分主要讲述如何训练多智能体。</p>
<blockquote>
<p>Since training was solely performed on a two-agent system, it was
difficult to encode/induce higher order behaviors, such as accounting
for the relations between nearby agents. This work addresses this
problem by developing a method that allows for training on multiagent
scenarios directly.</p>
</blockquote>
<p>为了刻画多智能体对称的特性，本文使用了权重共享 (weight-sharing) 和最大池 (max-pooling
layers) 的神经网络。该网络涉及 4 个智能体，其中附近三个智能体的状态可以互换而不影响训练结果。</p>
<p>网络结构的详细设计，可以阅读原文。</p>
<blockquote>
<p>To capture the multiagent system’s symmetrical structure, a neural
network with weight-sharing and max-pooling layers is employed,</p>
</blockquote>
<figure>
<img data-src="/downloads/images/blog/SACADRL_2.jpg" alt="Network structure for multiagent scenarios">
<figcaption aria-hidden="true">Network structure for multiagent
scenarios</figcaption>
</figure>
<p>在训练中，会先生成轨迹，然后将轨迹转化为经验集。
<!--这和自己的研究计划类似，轨迹转化为经验值，只不过自己属于模仿学习的范畴，从行人已有的轨迹中提取策略-->
&gt; The trajectories are then turned into state-value pairs and
assimilated into the experience sets.</p>
<p>CADRL 和 SA-CADRL 的训练区别 - Two experience sets are used to
distinguish between trajectories that reached the goals and those that
ended in a collision. - During the training process, trajectories
generated by SA-CADRL are reflected in the x-axis with probability. *
This procedure exploits symmetry in the problem to explore different
topologies more efficiently.</p>
<p>作者在网络训练时已经设置开关 (a binary flag indicating whether the
other agent is real or virtual (details)，所以 n - 智能体的网络也可以用于 p
(p&lt;=n) 个智能体的场景。</p>
<blockquote>
<p>An n-agent network can be used to generate trajectories for scenarios
with fewer agents.</p>
</blockquote>
<h1 id="results">RESULTS</h1>
<h2 id="computational-details-online-performance-and-offline-training">Computational
Details (online performance and offline training)</h2>
<p>模型具有比较优秀的实时和收敛 (convergence and
time-efficient) 表现。</p>
<blockquote>
<p>The size and connections in the multiagent network are tuned to
obtain good performance (ensure convergence and produce time-efficient
paths) while achieving real-time performance.</p>
</blockquote>
<!--
没有探讨agent扩多后，训练效率的问题，担心会指数级增加
-->
<h2 id="simulation-results">Simulation Results</h2>
<p>三组对比试验：一组没有社交行为奖励函数，另外两组是偏向左和右的行为奖励函数。</p>
<blockquote>
<p>Three copies of four-agent SA-CADRL policies were trained, one
without the norm inducing reward, one with the left-handed, and the
other with the right-handed.</p>
</blockquote>
<h2 id="hardware-experiment">Hardware Experiment</h2>
<p>硬件设备</p>
<ul>
<li>The differential-drive vehicle is outfitted with a Lidar for
localization, three Intel Realsenses for free space detection, and four
webcams for pedestrian detection.</li>
</ul>
<p>A hardware demonstration video can be found at <a href="https://youtu.be/CK1szio7PyA">here</a>.</p>
<!--
navigate fully autonomously in a dynamic indoor environment
-->
<h1 id="conclusion">CONCLUSION</h1>
<h3 id="contribution">Contribution</h3>
<ul>
<li>In a reinforcement learning framework, a pair of simulated agents
navigate around each other to learn a policy that respect human
navigation norms, such as passing on the right and overtaking on the
left in a right-handed system.</li>
<li>This approach is further generalized to multiagent (n &gt; 2)
scenarios through the use of a symmetrical neural network
structure.</li>
<li>Moreover, SA-CADRL is implemented on robotic hardware, which enabled
fully autonomous navigation at human walking speed in a dynamic
environment with many pedestrians.</li>
</ul>
<h3 id="future-work">Future work</h3>
<ul>
<li>Consider the relationships between nearby pedestrians, such as a
group of people who walk together.
<ul>
<li><a href="https://www.yanlongwang.net/Paper/paper-group-surfing/">Group
surfing</a></li>
</ul></li>
<li>MC: 可以迁移到其他具有规则学习的场景，比如水面无人艇中 COLREGS 规则和人类的行为类似。
<ul>
<li><a href="https://www.yanlongwang.net/USV/colregs-paper/">A
COLREGs-based obstacle avoidance approach for unmanned surface
vehicles</a></li>
</ul></li>
<li> 网络模型训练的效率，文章只是训练 4 个智能体，如果场景复杂，进一步扩展呢？</li>
</ul>
]]></content>
      <categories>
        <category>paper</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Robotics</tag>
        <tag>Paper</tag>
      </tags>
  </entry>
  <entry>
    <title>protocol buffers</title>
    <url>/uncategorized/protocol-buffers/</url>
    <content><![CDATA[<h1 id="package"><a href="https://protobuf.dev/programming-guides/proto3/#packages">Package</a></h1>
<ul>
<li>You can add an optional&nbsp;<code>package</code>&nbsp;specifier to
a&nbsp;<code>.proto</code>&nbsp;file to prevent name clashes between protocol
message types.</li>
<li>In&nbsp;<strong>C++</strong>&nbsp;the generated classes are wrapped inside a
C++ namespace.
<ul>
<li>即 package 指定的路径，会被转换为 namespace，来避免命名冲突。</li>
</ul></li>
</ul>
<h2 id="arena-allocation"><a href="https://protobuf.dev/reference/cpp/arenas/#why">Arena
Allocation</a></h2>
<ul>
<li> 功能：Arena allocation is a C++-only feature that helps you optimize
your memory usage and improve performance when working with protocol
buffers.</li>
<li> 原因：By default, protocol buffers performs heap allocations for
each message object, each of its subobjects, and several field types,
such as strings. These allocations occur in bulk when parsing a message
and when building new messages in memory, and associated deallocations
happen when messages and their subobject trees are freed.
<ul>
<li>Message
的构造和释放在堆栈上进行，涉及到动态内存的生成和释放，这一步骤非常昂贵。</li>
</ul></li>
</ul>
<h1 id="python">Python</h1>
<h2 id="enum">Enum</h2>
<h3 id="could-not-serialize-object-typeerror-cant-pickle-google.protobuf.pyext._message.enumdescriptor-objects">Could
not serialize object: TypeError: can't pickle
google.protobuf.pyext._message.EnumDescriptor objects</h3>
<p>我在实际 spark 上处理数据时，报错 "Could not serialize object:
TypeError: can't pickle google.protobuf.pyext._message.EnumDescriptor
objects", 通过报错信息，很明确这是在实际 python 代码中引用 enum
导致的问题.</p>
<figure class="highlight plaintext"><figcaption><span>enum_test.proto</span><a href="/downloads/code/enum_test.proto">view raw</a></figcaption><table><tbody><tr><td class="code"><pre><span class="line"># Add code later</span><br></pre></td></tr></tbody></table></figure>
<h1 id="参考教程">参考教程</h1>
<ul>
<li><a href="https://www.vipmind.me/programing/python/understand-protobuf-enum-in-python.html">Understand
Protobuf enum in python</a></li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>VPS 部署 Hexo 环境</title>
    <url>/website/hexo/rebuild_website_in_vps/</url>
    <content><![CDATA[<p>[toc]</p>
<p>目前手上有一台国外 VPS，我在 19 年开始在 VPS
上部署个人网站。之前利用这个 VPS
部署本地编译好的静态网页，流程大概是</p>
<ul>
<li>本地电脑配置 hexo 环境，在本地编辑并生成静态网页；</li>
<li>通过 git hook 等方式把本地生成的静态网页同步到远端服务器上；</li>
<li>服务器通过 nginx 支持访问静态网页内容。</li>
</ul>
<p>这种部署方式对多终端用户不友好，比如</p>
<ul>
<li>有时候想在手机或者其他终端上简单修改网站内容，但是配置 hexo
环境的电脑不在手边，往往需要把想更新的内容记下来，找个专门时间更新下内容，这样子容易导致自己忘记，做事情不连贯。</li>
<li>如果有多台电脑，只能在配备有 hexo
环境的电脑上编辑；即使多台电脑配备有 hexo
内容，也容易有数据不同步的问题。</li>
</ul>
<p>本文介绍一种方式，</p>
<img data-src="/downloads/images/website_scheme.png" class="" title="网站架构设计">
<ul>
<li>网站原始数据保存在 github，支持多终端访问和数据管理。</li>
<li>远程 VPS 上部署整套 hexo 环境，支持生成静态网页结果。</li>
<li>VPS 上获取网站数据 (通常是 source 下面的数据)，生成博客内容，启动
hexo 内置的 web 服务器（或使用 nginx 指向生成的 public
目录），对外提供访问。</li>
<li>对于生成好的内容，部署到 Github （用作备份）上</li>
</ul>
<p>这种方法可以在多终端实时更新网站内容，摆脱对单一终端的依赖，能够支持</p>
<ul>
<li>VPS 上部署 hexo 环境，支持跨平台、多终端的网站内容编辑和更新。</li>
<li>引入 git 管理网站原始数据，支持数据统一和备份。</li>
<li>支持在 github 和 VPS 等多地同时部署个人网站，不必局限于 VPS。</li>
</ul>
<span id="more"></span>
<!--我们可以使用 Markdown（或其他语言）编写文章，可以方便的生成静态网页托管在GitHub上。-->
<p>上述方法的硬件要求是，具备一台稳定连接的 VPS，要求有固定 IP
地址。</p>
<h1 id="为什么选择-hexo">为什么选择 Hexo</h1>
<p>我的网站主要用于分享一些技术文章和个人生活感想，网站内容主要是简单的文字、代码和图片，通常以
Markdown
来组织内容。我希望网站框架能够在满足自己需求的情况下，一键部署少折腾，免费开源有插件，让我能够<strong>更专注于内容的输出</strong>。</p>
<p>Hexo 框架非常适合我的需求，是一个快速、简洁且高效的博客框架。Hexo
使用
Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<p>另外，作者是 tw
人，官网支持中文，官方文档有详细的使用说明，国内使用方便；拥有丰富的插件，比如为网站添加后台
UI 界面，为 Hexo 添加哔哩哔哩番剧页面等；它还有丰富的主题，官网收录 300
多个优秀主题，更换网站界面容易。</p>
<p>之前调研网络上<a href="https://juejin.cn/post/7002911266385707022">常用的网站框架</a>，比如
wordpress，基于 PHP 和 MySQL 的免费开源，这个框架有点重。</p>
<h1 id="环境配置">环境配置</h1>
<h2 id="vps-环境配置">VPS 环境配置</h2>
<ul>
<li>固定 IP 地址</li>
<li> Disk: 10G</li>
<li>RAM: 512M</li>
</ul>
<!-- TODO 附加 VPS 的邀请信息 -->
<h1 id="hexo-配置">Hexo 配置</h1>
<h2 id="环境配置-1">环境配置</h2>
<p>如下步骤可以参考<a href="https://hexo.io/zh-cn/docs/">官方教程</a>
的建站部分。 - 在 VPS 上先配置好 git 和 Node.js (建议 Node.js 12.0
及以上版本) 环境，安装步骤见官网 -- <a href="https://hexo.io/zh-cn/docs/#%E5%AE%89%E8%A3%85%E5%89%8D%E6%8F%90">安装前提</a>
。</p>
<p>本机安装后的环境如下。 </p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">$ git --version</span><br><span class="line">git version 2.17.1</span><br><span class="line">$ node -v</span><br><span class="line">v14.21.3</span><br></pre></td></tr></tbody></table></figure><p></p>
<h2 id="安装-hexo">安装 Hexo</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 使用 npm 安装 Hexo</span><br><span class="line">npm install hexo-cli -g</span><br><span class="line"># 新建网站。&lt;folder&gt; 是指定的文件夹</span><br><span class="line">hexo init &lt;folder&gt;</span><br><span class="line">cd &lt;folder&gt;</span><br><span class="line">npm install</span><br></pre></td></tr></tbody></table></figure>
<p>详见官网 -- <a href="https://hexo.io/zh-cn/docs/#%E5%AE%89%E8%A3%85-Hexo">安装
Hexo</a></p>
<h2 id="部署-hexo-博客">部署 Hexo 博客</h2>
<h3 id="新建一篇文章">新建一篇文章</h3>
<figure class="highlight plaintext"><figcaption><span>hexo-new</span><a href="https://hexo.io/zh-cn/docs/commands#new">hexo.io</a></figcaption><table><tbody><tr><td class="code"><pre><span class="line">hexo new \[layout\] &lt;title&gt;</span><br><span class="line"># 路径是 source/\_posts</span><br><span class="line">hexo new post &lt;title&gt;</span><br><span class="line"># 路</span><br><span class="line">径是 source/_drafts, 文件夹内的文章不会被渲染</span><br><span class="line">hexo new draft &lt;title&gt;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="生成静态文件">生成静态文件</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 在 VPS 本地生成 html 文件</span><br><span class="line">hexo generate</span><br><span class="line"># 强制重新生成文件, 效果接近 hexo clean &amp;&amp; hexo generate</span><br><span class="line">hexo g -f</span><br></pre></td></tr></tbody></table></figure>
<h3 id="部署网站">部署网站</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></tbody></table></figure>
<h2 id="启动服务器">启动服务器</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 启动服务器。默认情况下，访问网址为： http://localhost:4000/</span><br><span class="line">hexo server</span><br></pre></td></tr></tbody></table></figure>
<p>现在，直接用 vps 的公网 ip:4000 就可以访问博客。</p>
<h1 id="nginx-配置">Nginx 配置</h1>
<p>上面网站部署中，容易泄露 VPS IP 地址，并且网站链接看起来不美观。</p>
<p>一般有两种优化方法： - VPS 上执行 hexo serve，配置 Nginx
反向代理，域名指向 http://localhost:4000 - 因为 VPS
上已经有静态文件，把通过域名 xx.com 的访问转发到 hexo 的 public
目录，不用另外再启动一个 hexo 服务。</p>
<p>我选择第二种方式，简单的 nginx 配置方式如下。</p>
<p>'''</p>
<p>'''</p>
<h1 id="hexo-学习">Hexo 学习</h1>
<h2 id="hexo-文件夹">Hexo 文件夹</h2>
<h3 id="config.yml">_config.yml</h3>
<p>网站的 <strong>配置</strong> 信息，您可以在此配置大部分的参数。</p>
<h3 id="source">source</h3>
<p><strong>资源</strong> 文件夹是存放用户资源的地方。除 _posts
文件夹之外，开头命名为 _ (下划线) 的文件 /
文件夹和隐藏的文件将会被忽略。Markdown 和 HTML 文件会被解析并放到 public
文件夹，而其他文件会被拷贝过去。</p>
<p>在 source 目录下建立 _draft
文件夹，这个文件夹中的内容会暂时不渲染，可以缓存没有写完的临时文件。</p>
<h3 id="themes">themes</h3>
<p><strong>主题</strong> 文件夹。Hexo 会根据主题来生成静态页面。</p>
<h2 id="hexo-cmd">Hexo cmd</h2>
<h3 id="生成文件后部署">生成文件后部署</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">hexo generate --deploy</span><br><span class="line"># 简写为</span><br><span class="line">hexo g -d</span><br></pre></td></tr></tbody></table></figure>
<h3 id="front-matter"><a href="https://hexo.io/zh-cn/docs/front-matter">Front-matter</a></h3>
<ul>
<li> 在 Hexo 中 <strong>分类</strong> 和 <strong>标签</strong>
有着明显的差别：分类具有顺序性和层次性，也就是说 Foo, Bar 不等于 Bar,
Foo；而标签没有顺序和层次。</li>
</ul>
<h2 id="github-部署网站">github 部署网站</h2>
<h3 id="通过本地部署">通过本地部署</h3>
<ul>
<li><p>安装一键部署插件 </p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></tbody></table></figure><p></p></li>
<li><p>修改_config.yml 文件 </p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  # 目前仅支持 ssh 方式访问。根据你的信息，更新 your_account_name 和 your_repository_name 路径</span><br><span class="line">  repo: git@github.com:your_account_name/your_repository_name.github.io.git</span><br><span class="line">  # branch 可选，默认是 main</span><br><span class="line">  branch: master</span><br></pre></td></tr></tbody></table></figure><p></p></li>
</ul>
<p><a href="https://blog.csdn.net/hello_cmy/article/details/104658452">将 hexo 个人博客部署到 github 上公开使用</a></p>
<h3 id="通过-github-action-部署">通过 GitHub Action 部署</h3>
<p>方式一：公开源文件。登录自己的
github，创建一个仓库。如果你希望你的站点能通过
&lt;你的 GitHub 用户名&gt;.github.io 域名访问，你的 repository 应该直接命名为
&lt; 你的 GitHub 用户名 &gt;.github.io。repository 需要加上后缀 .github.io 。
方式二：隐藏源文件。使用两个仓库，一个私有仓库存放 Hexo
博客的源程序，一个公开仓库存放生成的静态网站。当我们向私有仓库 push
时，GitHub Actions
自动生成静态页面并推送到公开仓库，实现博客的自动化部署。</p>
<p>本文采用方式二。</p>
<h4 id="github-私有仓库免费开启-github-pages">GitHub 私有仓库免费开启
GitHub Pages</h4>
<h5 id="私有仓库">私有仓库</h5>
<p>参考官网配置教程 -- <a href="https://hexo.io/zh-cn/docs/github-pages">在 GitHub Pages 上部署
Hexo</a>，区别在于储存库名称不能和公有库重复，.github/workflows/pages.yml 的设置有差异，待会会讲到。</p>
<p>pages.yml 借助 <a href="https://github.com/marketplace/actions/github-pages-action#%EF%B8%8F-deploy-to-external-repository-external_repository">GitHub
Pages action</a> 实现，代码配置如下。</p>
<p>其中，<a href="https://github.com/marketplace/actions/github-pages-action#%EF%B8%8F-deploy-to-external-repository-external_repository">Deploy
to external repository external_repository</a>
方法支持将静态网页部署到公有库，其中需要设置 $
并指定所要推送到的仓库 external_repository
以及其默认分支。PERSONAL_TOKEN 需要自己生成配置一下。 参考 <a href="https://www.nuke666.cn/2021/03/deploy-hexo-using-github-actions/">使用
GitHub Actions 部署 Hexo 博客</a>。</p>
<p>报错处理 - “pandoc exited with code null” 通过 <a href="https://github.com/pandoc/pandoc-action-example">Using pandoc with
GitHub Actions</a> 介绍的方法，在使用 pandoc 的地方引用
“docker://pandoc/core:2.9”，代码如下。</p>
<h5 id="公有仓库">公有仓库</h5>
<p>创建一个仓库。这个仓库通过站点能通过 &lt;你的 GitHub 用户名&gt;.github.io
域名访问，你的 repository 应该直接命名为
&lt; 你的 GitHub 用户名 &gt;.github.io。repository 需要加上后缀 .github.io
。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 部署配置</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h1 id="申请域名及域名解析">申请域名及域名解析</h1>
<h2 id="github-pages-自定义域名">github pages 自定义域名</h2>
<p>按照 github 官方教程 -- <a href="https://docs.github.com/zh/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-a-subdomain">配置子域</a>
自定义域名。</p>
<p>如果你使用静态站点生成器在本地构建站点并将生成的文件推送到
GitHub，请将添加 CNAME
文件的提交拉取到本地存储库。否则，每一次推送，会把 GitHub 上的 CNAME
文件删除掉，无法正确定位。</p>
<h1 id="参考内容">参考内容</h1>
<ul>
<li><a href="http://masikkk.com/article/hexo-24-vps-deploy/">VPS 中部署 Hexo</a></li>
<li><a href="https://hexo.io/zh-cn/">Hexo - 快速、简洁且高效的博客框架</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/54194453">GitHub
私有仓库免费开启 GitHub Pages 的可行性方案</a></li>
<li><a href="https://suiyan.cc/2023/20230404212258.html">解决 Github
Pages 自定义域名失效的问题</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/508457566">从私有代码库自动部署 Hexo 站到 GitHub
Pages</a></li>
<li><a href="https://blog.csdn.net/weixin_43195662/article/details/106366897">Linux 定时每天自动拉取一次 git 代码</a></li>
</ul>
<p>2023.05.19 文章第一版本，缺乏域名申请和域名解析内容。</p>
]]></content>
      <categories>
        <category>website</category>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>VPS</tag>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>青岛三日游记 - 2021</title>
    <url>/Trip/qingdao-trip-2021/</url>
    <content><![CDATA[<p>2021 年 5
月末，我和苗苗一起去山东省青岛市拍摄婚纱照，在青岛市逗留三天，粗略地游览一部分青岛景点，体验了一把啤酒加海鲜的生活。</p>
<p>因为隐私的问题，跳过婚纱照拍摄细节，重点是回顾三天的旅行经历。</p>
<p>青岛，别称<strong>胶澳</strong>，地处中国华东地区、山东半岛东南、东濒黄海。青岛是一部中国的近现代史，漫步在城市中，可以感受到战争遗留的痕迹，看到德国和日本式的建筑。</p>
<blockquote>
<p>1891 年，清政府在胶澳设防，青岛由此建置；</p>
<p>1897 年，德国侵占青岛，青岛沦为殖民地；</p>
<p>1914 年，日本取代德国占领青岛；</p>
<p>1919 年，中国以收回青岛主权为导火索，爆发了 “五四运动”。</p>
<p>。。。</p>
</blockquote>
<h1 id="特点">特点</h1>
<ul>
<li>工作日请假一天，连上周末组成三天小长假；</li>
<li>除了崂山，行程涵盖大多数青岛热门景点；</li>
</ul>
<h1 id="第一天">第一天</h1>
<p>周五晚上，从北京出发，在动车硬卧上休息，第二天早晨 6
点半到达青岛北站。注意，青岛北站距离青岛市中心和大部分旅游景点比较远，建议后面往返尽量选择青岛站。</p>
<p><strong>坐公交是体验一个城市的好方法</strong>。我们到青岛北站后，坐着公交车慢悠悠地在城市的大街小巷穿行。原计划在<strong>台东步行街</strong>吃早饭，但是早上
8
点多到达台东步行街，才发现店铺基本都还没有开门，早点和小吃的选择很少。和当地人沟通后才知道，一般下午
4 点后，台东步行街才会热闹起来，那时候路边小吃会塞满一条街。</p>
<p>在一家路边小店吃早饭后，我们先去婚纱店确定明天拍摄事宜，然后就开始玩玩玩啦。</p>
<!--

在步行街旁的一家早餐店吃完饭后，我们打车直奔觅尚，选定第二天的五组拍摄场景，然后缴纳尾款，当天就没有和拍照相关的事情了。苗苗不喜欢红色和服，以及礁石显得摆拍，我们选了四组户外和一组户内。婚纱照哪里有好不好的，关键是一个美好的记忆，以及甜美的回忆啊。

-->
<h2 id="青岛啤酒博物馆">青岛啤酒博物馆</h2>
<p>我们旅游的第一站 --
青岛啤酒博物馆，推荐指数五星，是我此行最满意的地方。普通门票是 ¥60
/ 人，包含两杯青岛啤酒。</p>
<p>博物馆设立在青岛啤酒百年老厂区内，分为 A 馆和 B 馆，浏览顺序是先 A
馆再 B 馆，顺序不能错哦。</p>
<ul>
<li>A
馆讲述了青岛啤酒的百年历程，从德国人建厂开始，到日本人的经营，再到国家的接管，百废待兴，最后讲到新时期的发展。在
A
馆，你可以了解到一个民族品牌背后的历史，几经易手，险些关厂，最后崛起到全球品牌，参与世界竞争。</li>
<li>B
馆是在老厂房内，底层是老建筑物、老设备（西门子百年老电机）及车间环境与生产场景，展现过去和现代的啤酒酿造的过程；最上面一层是旅游参观长廊，展示现代化的全自动生产线，啤酒生产和游客参观互不影响。你还可以在
B 馆免费领取花生和啤酒（一杯原浆和雪花啤酒）。</li>
</ul>
<p>刚刚参观完啤酒的生产过程，品着原浆啤酒，仿佛品尝到了麦芽的味道，体验这一杯的来之不易，让你会更加喜欢这一杯啤酒。毕竟，小小一杯啤酒，背后凝聚着一个时代的故事，人类上千年的历史。</p>
<p>你可能还沉醉在老工艺的精细中，一不留神就会走到顶层，现代化的啤酒生产线，从啤酒装瓶、瓶盖拾取、贴标签、消毒、质检，甚至到装箱打包都是全自动的。在这个无人值守的厂房，看着一箱箱啤酒从无到有，再到被传送带运送出去发货，自动化工业的力量和震撼，扑面而来。</p>


<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=461420633&amp;bvid=BV1yL411p7Vq&amp;cid=361609560&amp;page=1" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>


<p>除了有趣的体验外，青岛啤酒博物馆服务挺棒的。</p>
<ul>
<li>门口有免费的存包处；</li>
<li>进门会免费赠送自产的饮料；</li>
<li>在参观过程中免费的啤酒体验，原浆和纯生；</li>
<li>文创区很独特，看得出来设计用心了，我一口气买了好几件小礼物。</li>
</ul>
<p>此处打个广告，现在大家流行 DIY 可乐，其实青岛啤酒也是支持 DIY
的，类似于下面示意，哈哈哈！</p>
<p><img data-src="/downloads/images/qingdao_beer_DIY.JPG" alt="啤酒DIY" style="zoom:50%;"></p>
<h2 id="信号山">信号山</h2>
<p>青岛的主要景点都在市南区，靠近海边，彼此距离都不远。</p>
<p>我们从博物馆出来后，打车很快就到了信号山公园，登到高处可以远眺青岛的<strong>红屋顶</strong>。</p>
<p>信号山是青岛的当地公园，景色一般般，但是很多电视剧和电影会在这里取景，比如《父母爱情》和《送你一朵小红花》。在《父母爱情》中，我特别向往场景切换过渡时的红屋顶剧照，那就是在信号山取的景。自己这次来青岛，特意选择爬信号山，要亲自看一看青岛的红屋顶。</p>
<p>我的照片 vs 父母爱情</p>
<p><img data-src="/downloads/images/romance_of_our_parents.png" alt="父母爱情剧照" style="zoom:50%;"></p>
<p><img data-src="/downloads/images/red_roof.JPG" alt="手拍信号山" style="zoom:50%;"></p>
<p>信号山门票是 15 元 / 人。山顶有一个大转台，20min
绕一圈，是观看风景的好去处，站在上面可以看到红屋顶藏在绿树丛中，一直绵延到海边。</p>
<h2 id="圣弥厄尔教堂">圣弥厄尔教堂</h2>
<p>从<strong>信号山</strong>出来后，我们徒步穿行在青岛的小巷里，去<strong>圣弥厄尔教堂</strong>。沿途街道两边主要是民居，像是石头砌的墙，很有民国时代的居住气息。</p>
<p>我们是下午 4
点半才到达教堂，教堂已经关门，所以只能站在外面看看。教堂属于哥特式建筑风格，尖尖的钟塔高高耸立，庄严美观，附近有新人拍婚纱照。</p>
<p><img data-src="/downloads/images/IMG_2939.JPG" alt="尖尖钟塔" style="zoom:33%;"></p>
<h2 id="栈桥">栈桥</h2>
<p>从教堂出来后，我们徒步去<strong>栈桥</strong>。没错，青岛的景点靠的就是这么近，走路或打车就是最好的通勤方式。这一路段沿途是热闹的市区，和其他城市相比没区别，所以不太有意思。</p>
<p>栈桥原来是清朝的军用码头，几经易手，成为现在<strong>青岛十景</strong>之一。</p>
<p>桥身从海岸探入如弯月般的青岛湾深处，最远处的防浪堤上建有<strong>回澜阁</strong>。走在栈桥上，两边的海面上有懒惰的海鸥飘着，懒得去争夺行人的喂食，只会偶尔飞起来。</p>
<p>栈桥上非常拥挤，很快就能浏览完，体验比较差，不是非常推荐去。</p>
<p><img data-src="/downloads/images/IMG_2965.JPG"></p>
<h2 id="奥帆基地">奥帆基地</h2>
<p>从<strong>栈桥</strong>离开后，我们打车去<strong>奥帆基地</strong>
(距离有点远)。</p>
<p>奥帆基地可以体验乘船出海，<strong>情人坝</strong>也是青岛看日落的好去处，你可以看到夕阳慢慢落入城市高楼中，没有踪迹。</p>
<p><img data-src="/downloads/images/IMG_3024.JPG" alt="情人坝上看日落" style="zoom:50%;"></p>
<p>情人坝其实是防波堤，上面有特色风情街，有小哥在酒吧驻唱、有热闹的海鲜餐厅。情人坝尾端建有一座白色灯塔，入夜后站在堤上，临风观海，还可眺望对岸城市中心区，璀璨灯火，处处显现出浪漫氛围。</p>
<p><img data-src="/downloads/images/IMG_3039.JPG"></p>
<p>我们本来计划在奥帆看灯光秀的，但是夜幕降临时，只有附加的建筑物会亮起动态景光墙，多个建筑物串起来联动，还是比较震撼的。但是，这就是灯光秀吗，还是我们没有等到呢？我们蹲着等灯光秀时，吹着冷飕飕的海风，肚子饿的呱呱叫，晚上八点就离开了。</p>
<p>注意：奥帆基地临近大海，在傍晚海风吹起来，还是很冷的，记得晚上带件厚衣服。</p>
<p><img data-src="/downloads/images/IMG_3048.JPG" alt="景观墙" style="zoom:50%;"></p>
<p>从奥帆基地离开后，我们到青岛本地特色菜 — 前海沿，吃饭。前海沿消费并不贵，我们点了几份海鲜，外加海鲜饺子和啤酒，总共花费是
110 元钱，性价比很高，不怎么宰游客。</p>
<p>我们第一天的旅程到此结束啦。</p>
<hr>
<h1 id="第二天">第二天</h1>
<p>跳过拍摄婚纱照的细节...</p>
<h2 id="胶澳总督府">胶澳总督府</h2>
<p>我们拍摄的第一站本来是八大关的花石楼，最后变到胶澳总督府旧址，曾经是德国侵占青岛后的德国总督办公之地，整座大楼主墙体全部用巨大的花岗岩石块徊成，大方得体。</p>
<h2 id="广兴里">广兴里</h2>
<p>我们拍摄的第二站是<strong>广兴里</strong>。广兴里是一座典型的<a href="http://www.lvmama.com/trip/show/318665">里院</a>
建筑，是青岛最近新开发的文创区，主要是一个院子和周边的街道。</p>
<blockquote>
<p>青岛里院形成于 20 世纪二三十年代，是岛城特有的传统民居，是西式洋楼和四合院的巧妙结合，是中西合璧的建筑风格。</p>
</blockquote>
<h2 id="小麦岛">小麦岛</h2>
<p>小麦岛距离其他景点比较远，但是值得来看看，有盛开的鲜花和硕大的草坪。</p>
<p>小麦岛是环形岛屿，只有一条路与陆地相连，与市区隔海相望。整个小麦岛就像是一个花园，有大片平坦宽广的绿化草地，远处就是湛蓝的海水，更远处是遥远的海岸线。</p>
<p><img data-src="/downloads/images/IMG_3081.JPG" alt="漂亮的新娘" style="zoom:50%;"></p>
<p>晚上，我们 6 点多拍完照，天空就下起来小雨。</p>
<p>我们再访<strong>台东步行街</strong>，那时候已经热闹起来，一天街道上都是小吃，但是种类比较单调，卖家比较雷同。我们最后去当地的一家 “强强野馄炖” 吃晚饭，配着野混沌吃烧烤。</p>
<p>注意：青岛靠近海，海鲜便宜，但是羊肉串等肉类就比较贵，不建议过来这里吃烧烤。</p>
<p>我们第二天的旅程到此结束啦。</p>
<hr>
<h1 id="第三天">第三天</h1>
<h2 id="百花苑">百花苑</h2>
<p>因为昨天拍照早起晚归，两个人都比较累，大概 10
点多出门，先是去<strong>百花苑</strong>和<strong>中山公园</strong>闲逛一会。这两个公园紧挨着，但是风景一般，很北京的市区公园区别不大。因为是周一，中山公园被退休老人们占据了，百花园反而显得静谧一点。</p>
<p>漫步在公园里，你偶尔可以听到汽笛声，我猜这是船舶靠岸或者开始远航的号角。</p>
<p><img data-src="/downloads/images/IMG_3102.JPG" alt="偶遇蝴蝶" style="zoom:50%;"></p>
<p>中午时候，我们去<strong>无名小吃</strong>吃饭，这算是网红打卡地。“无名小吃” 是当地一家做青岛菜的小店，店铺不大，我们过去时游客已经塞满了，我们最后是坐在外面，紧挨着马路吃饭的。个人总体感觉一般般，没有传说中的那么好吃。</p>
<h2 id="八大关">八大关</h2>
<p>八大关是几条道路命名的街道，里面的建筑偏西式，有公主楼，花石楼等经典建筑，非常的漂亮。因为这些景点收费并不便宜，所以只能远远望过去，看个轮廓。</p>
<p><img data-src="/downloads/images/IMG_3105.JPG" alt="八大关介绍" style="zoom:33%;"></p>
<p>八大关景色是不错的，建筑物很有特点，随手一拍就是景。除了建筑物，八大关靠海的地方有一个海滩，沙子特别细腻柔软，但是海水还比较冷。</p>
<p><img data-src="/downloads/images/IMG_3108.JPG" alt="迷雾" style="zoom:33%;"></p>
<p>因为要赶晚上 7
点多的火车，下午的时间并不充裕，我们从八大关出来后，去<strong>船歌鱼水饺</strong>吃海鲜水饺，这边的收费比较贵，¥
160 / 2 人。可能我吃不惯，我感觉海鲜饺子一般般。</p>
<p>坐上幸福的高铁，我们的青岛之行就结束了！</p>
<hr>
<h1 id="青岛饮食">青岛饮食</h1>
<h2 id="野混沌">野混沌</h2>
<p>这应该是青岛特有的叫法。这个 “野” 源于夜晚的路边摊，那时没有固定摊位，到了晚上才出来摆摊卖馄饨，久而久之，就有了 “野馄饨” 的说法。</p>
<h2 id="青岛啤酒">青岛啤酒</h2>
<p>在青岛，大家不再甄别真假，而是开始讲究你是喝一厂还是二厂的啤酒，大概是水质不同。一般而言，青岛一厂的口感更好，价格要贵一点。</p>
<h2 id="推荐饮食">推荐饮食</h2>
<h3 id="无名小吃">无名小吃</h3>
<p>这是当地人的推荐，中午过去时特别拥挤。</p>
<h3 id="前海沿">前海沿</h3>
<p>青岛本地菜，性价比高，在青岛有多个分店，不宰游客，推荐！</p>
<h3 id="船歌鱼水饺">船歌鱼水饺</h3>
<p>特点是海鲜水饺，但是整体消费比较贵。</p>
]]></content>
      <categories>
        <category>Trip</category>
      </categories>
      <tags>
        <tag>Journey</tag>
      </tags>
  </entry>
  <entry>
    <title>基于 interactive mode 实现 matplotlib 动态更新图片 (交互式绘图)</title>
    <url>/Python/python-interactive-mode/</url>
    <content><![CDATA[<p>[toc]</p>
<p>最近在研究动态障碍物避障算法，在 Python
语言进行算法仿真时需要实时显示障碍物和运动物的当前位置和轨迹，利用
Anaconda 的 Python 打包集合，在 Spyder 中使用 Python3.5 语言和
matplotlib 实现路径的动态显示和交互式绘图 (和 Matlab 功能类似)。</p>
<p>本博客初稿完成于 2017 年，多平台维护不易，内容更新于 <a href="https://www.yanlongwang.net/Python/python-interactive-mode/">个人网站</a>，请移步阅读最新内容。</p>
<h1 id="背景知识">背景知识</h1>
<h2 id="anaconda">Anaconda</h2>
<p><a href="https://www.anaconda.com/">Anaconda</a> 是一个用于科学计算的
Python 发行版，支持 Linux, Mac, Windows
系统，提供了包管理与环境管理的功能，可以很方便地解决多版本 python
并存、切换以及各种第三方包安装问题。</p>
<p>Anaconda 利用工具 / 命令 conda 来进行 package 和 environment
的管理，并且已经包含了 Python 和相关的配套工具。</p>
<h2 id="matplotlib">matplotlib</h2>
<p><a href="http://matplotlib.org/">matplotlib</a> 是 python
最著名的绘图库，它提供了一整套和 matlab 相似的命令
API，十分适合交互式地进行制图。而且也可以方便地将它作为绘图控件，嵌入
GUI 应用程序中。其中，matplotlib 的 pyplot 子库提供了和 matlab
类似的绘图 API，方便用户快速绘制 2D 图表，它的文档相当完备，并且 Gallery
页面中有上百幅缩略图，打开之后都有源程序。</p>
<h1 id="matplotlib-交互式绘图">matplotlib 交互式绘图</h1>
<h2 id="原理">原理</h2>
<p>在调研 matplotlib 动态绘制曲线方法中，和 matlab 相似有 animation
方法和交互式绘图，但是 animation
方法灵活性不高，不太适合路径的实时动态显示，本文最后采用交互式绘图模（interactive
mode）-- <a href="http://matplotlib.org/users/shell.html">Using
matplotlib in a python shell</a>。</p>
<blockquote>
<p>The interactive property of the pyplot interface controls whether a
figure canvas is drawn on every pyplot command. If interactive is False,
then the figure state is updated on every plot command, but will only be
drawn on explicit calls to draw(). When interactive is True, then every
pyplot command triggers a draw.</p>
</blockquote>
<h2 id="实践">实践</h2>
<p>当绘图语句中加入 pl.ion () 时，表示打开了交互模式。此时 python 解释器解释完所有命令后，给你出张图，但不会结束会话，而是等着你跟他交流交流。如果你继续往代码中加入语句，run 之后，你会实时看到图形的改变。当绘图语句中加入 pl.ioff () 时或不添加 pl.ion () 时，表示打关了交互模式。此时要在代码末尾加入 pl.show () 才能显示图片。python 解释器解释完所有命令后，给你出张图，同时结束会话。如果你继续往代码中加入语句，再不会起作用，除非你关闭当前图片，重新 run。</p>
<h1 id="example">Example</h1>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">Created on Sat Mar 25 23:28:29 2017</span></span><br><span class="line"><span class="string">@author: wyl</span></span><br><span class="line"><span class="string">original link: https://www.yanlongwang.net/Python/python-interactive-mode/</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.patches <span class="keyword">import</span> Circle</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line">    </span><br><span class="line">plt.close()  <span class="comment">#clf() # 清图  cla() # 清坐标轴 close() # 关窗口</span></span><br><span class="line">fig=plt.figure()</span><br><span class="line">ax=fig.add_subplot(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">ax.axis(<span class="string">"equal"</span>) <span class="comment">#设置图像显示的时候XY轴比例</span></span><br><span class="line">plt.grid(<span class="literal">True</span>) <span class="comment">#添加网格</span></span><br><span class="line">plt.ion()  <span class="comment">#interactive mode on</span></span><br><span class="line">IniObsX=<span class="number">0000</span></span><br><span class="line">IniObsY=<span class="number">4000</span></span><br><span class="line">IniObsAngle=<span class="number">135</span></span><br><span class="line">IniObsSpeed=<span class="number">10</span>*math.sqrt(<span class="number">2</span>)   <span class="comment">#米/秒</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">'开始仿真'</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">180</span>):</span><br><span class="line">        <span class="comment">#障碍物船只轨迹</span></span><br><span class="line">        obsX=IniObsX+IniObsSpeed*math.sin(IniObsAngle/<span class="number">180</span>*math.pi)*t</span><br><span class="line">        obsY=IniObsY+IniObsSpeed*math.cos(IniObsAngle/<span class="number">180</span>*math.pi)*t</span><br><span class="line">        ax.scatter(obsX,obsY,c=<span class="string">'b'</span>,marker=<span class="string">'.'</span>)  <span class="comment">#散点图</span></span><br><span class="line">        <span class="comment">#ax.lines.pop(1)  删除轨迹</span></span><br><span class="line">        <span class="comment">#下面的图,两船的距离</span></span><br><span class="line">        plt.pause(<span class="number">0.001</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> err:</span><br><span class="line">    <span class="built_in">print</span>(err)</span><br></pre></td></tr></tbody></table></figure>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/python_interactive_mode_example.png"></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Programming</tag>
      </tags>
  </entry>
  <entry>
    <title>转载 - 小狗钱钱读后感 - 不只是理财</title>
    <url>/Reading/reprinte-impression-of-Ein-Hund-namens-Money/</url>
    <content><![CDATA[<p>挺喜欢这篇文章的几个非理财观点，文章转载于 <a href="http://minxueyu.com/2020/03/10/%E3%80%8A%E5%B0%8F%E7%8B%97%E9%92%B1%E9%92%B1%E3%80%8B%E8%AF%BB%E5%90%8E%E6%84%9F-%E5%AE%9E%E7%94%A8%E7%9A%84%E5%BB%BA%E8%AE%AE/">实用的建议</a>。</p>
<p>通过阅读《小狗钱钱》这本书，我们除了可以收获很多金钱、理财相关的观念和知识外，还可以获得很多实用的建议，我认为将这些实践应用于日常生活中，可以帮助我们进步、达成自己的目标。</p>
<p>本书关于金钱、理财的观点和建议，大家可以看我的另一篇读后感<a href="http://minxueyu.com/2020/03/10/《小狗钱钱》读后感-关于金钱/">《小狗钱钱》读后感 - 关于金钱</a>。</p>
<div data-align="center">
<p><img width="200" data-src="http://minxueyu.com/img/financing/小狗钱钱.jpg"></p>
</div>
<h1 id="实用的建议">实用的建议</h1>
<h2 id="你只有两个选择做与不做没有试试看">你只有两个选择：做与不做，没有试试看</h2>
<p>本书关于做一件事情的理念：你只有两个选择：做与不做，没有试试看。</p>
<p>当小狗钱钱给吉娅提出梦想储钱罐和梦想相册时，吉娅说自己会试试看，小狗钱钱对吉娅说：</p>
<blockquote>
<p>你只有两个选择：做或不做，不能是我试一下”</p>
</blockquote>
<blockquote>
<p>如果你只是抱着试试看的心态，那么你只会以失败告终，你会一事无成。尝试纯粹是一种借口，你还没有做，就已经给自己想好了退路。</p>
</blockquote>
<p>反思一下我们自己，在做一件事情时，我们是不是要么犹豫半天后选择不做，要么是不是会说 “我尝试一下吧”，其实那时候内心已经允许自己完不成了，甚至已经接受了失败这个结局。为了避免这样的事情发生，我们可以像吉娅一样，虽然没有监督自己的狗狗，但是可以自己监督自己，一旦说 “尝试一下” 就在本子上记录一次，最后争取只留下 “做” 与 “不做” 两个选项。</p>
<h2 id="多想实现目标后的美好少想事情做不好的原因">多想实现目标后的美好，少想事情做不好的原因</h2>
<p>钱钱给吉娅提出她看待问题的一个错误思维：首先考虑的总是事情做不成的原因，而不是去想象达成目标后的美好。</p>
<blockquote>
<p>你必须设想你已经拥有了这些东西，这样捏的一个小愿望才会变成一种强烈的愿望，你想象的越多，你的愿望就越强烈，那么你就会开始寻找机会来实现自己的梦想。</p>
</blockquote>
<p>基于此，钱钱给她提出的可实践性建议是建立梦想相册，让她把梦想 “去美国交流”、“笔记本电脑” 相关的图片保存到相册中，时常拿出来看，加强自己的渴望。</p>
<p>关于梦想储钱罐和梦想相册，我自己也进行了实践了一下，我找出本子罗列自己十个需要金钱来实现的愿望，挑选出了三个，并设定了各自的资金来源，刚好咕咕机到手了，所以打算把与愿望相关的图片都打印出来，而且还要把梦想写的更详细一点，等我达成某个梦想时，再来与大家分享。</p>
<h2 id="自信决定了是否可以成功">自信决定了是否可以成功</h2>
<p>本书还强调了自信的重要性，而且认为过于自信比不够自信要好得多。</p>
<blockquote>
<p>你的自信程度决定了你是否相信自己的能力，是否相信你自己，如果你根本不相信你能做到的话，那么你就根本不会动手去做，而假如你不开始去做，那么你就什么也得不到。</p>
</blockquote>
<p>这段话我深感理解，我是一个自卑的人，任何时候都不自信，而且由于没有信心做成功，自然也不会付出相应的努力，所以很多事情不出所料地都失败了，而这些事情的失败像是地上的雪花，自卑这个雪球经过一片片雪花逐渐变的越来越大，之后又更容易沾上雪花。自卑、不为之努力、失败形成了一个完美的循环，自己无法逃脱。</p>
<p>关于如何建立自信，钱钱给吉娅的建议是：设立自己的 “成功日记”，每天记录至少 5 件个人成果，任何小事都可以，而且不用纠结有些事情是否属于成果，可以给予自己肯定的答复。这个建议之前也有在别的地方听到过，但是都没有付诸实践，这次我计划开始写 “成功日记”，到目前为止已经坚持了 17 天，未有过间断，我发现自己喜欢上了这项活动。虽然里面记录的大部分搜是很小的事情，现在我每天晚上睡觉前拿出我的小本本回想今天的个人成果，感觉很开心，这对自己至少是一种积极的暗示，而且我发现开始更愿意完成自己每天的任务计划，不知道是不是有它的功劳呢。</p>
<h2 id="把精力集中在你知道的能做的和拥有的东西上">把精力集中在你知道的、能做的和拥有的东西上</h2>
<p>当吉娅决定要开始赚钱，但是不知道如何下手时，钱钱给她讲了个故事，借故事提出两个建议：</p>
<blockquote>
<ol type="1">
<li>为别人解决一个难题，那么你就能赚到很多钱；</li>
<li>把精力集中在你知道的、能做的和拥有的东西上。</li>
</ol>
</blockquote>
<p>如果你也有 “开源” 的打算，我感觉这两个建议非常好，考虑下别人需要什么和自己有什么。而第二个建议可能不仅限于赚钱，自己的事业或工作也一样，人的精力是有限的，专注于自己知道、能做和拥有的东西上，不要跟随潮流看大家干嘛自己也干嘛，最终可能什么都不精，找到自己会的，把某一方面做的很精通，可能整体带来的收益更大。</p>
<h2 id="重要的事情要坚持做">重要的事情要坚持做</h2>
<p>由于小狗钱钱是吉娅捡到的，当吉娅找到狗主人时，由于害怕失去钱钱而十分害怕和烦恼，因此停止了成功日记的记录和梦想相册的整理。钱钱因此非常生气，它说：</p>
<blockquote>
<p>困难总是在不断地出现。尽管如此，你每天还是要不间断地去做对你地未来意义重大地事情，这件事情可能花费时间不多，但就是这段时间会让一切变得不同。</p>
</blockquote>
<p>这个有点观点比较像四现象法则中提出的对待 “重要不紧急” 事件的态度，这些事情可能不是十分紧急的，但是这些事情的重要性却很高，无论如何都应该坚持，那么有什么好的建议吗？钱钱给的建议是，应该在固定的时间里，有规律地做这些事情，这样可以防止由于其他紧急事情、或者心情等原因导致的中断。</p>
<h2 id="小时规定">72 小时规定</h2>
<p>钱钱告诉吉娅在想做什么事情时，在 72 小时内去完成，不要拖太久时间，否则这件事情你可能永远不会再做了。</p>
<p>这个规定很适合于我们平常一些灵感和想法的实施，这些事情完全属于自主自愿，更多的是靠一时的冲动和兴趣，如果开始的太晚，或者持续时间太久，很容易中途放弃，最终就不了了之。</p>
<h1 id="写在最后">写在最后</h1>
<p>关于实用的建议，我大概就梳理出了这么几个，希望大家可以找到适合自己的建议并进行实践，我实践一段时间后，也会和大家分享我的成长和收获。</p>
]]></content>
      <categories>
        <category>Reading</category>
      </categories>
      <tags>
        <tag>Finance</tag>
      </tags>
  </entry>
  <entry>
    <title>网站被谷歌和百度收录</title>
    <url>/website/site-indexed/</url>
    <content><![CDATA[<p>[toc]</p>
<p>在谷歌或者百度的搜索链接中，使用以下格式可以直接搜索自己的域名。如果能搜索到就说明已经被收录，反之则没有。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">// site: your_wabsite</span><br><span class="line">site: http://www.waylon.one</span><br></pre></td></tr></tbody></table></figure>
<p>如果自己的域名没有被收录，那么可以通过下面的方式，让自己的网站内容被
baidu 和 google 收录，增加网站 SEO。</p>
<h1 id="google">Google</h1>
<h2 id="注册-webmasters">注册 webmasters</h2>
<p><a href="http://www.google.cn/webmasters/">webmasters 入口</a></p>
<h2 id="添加网站资源">添加网站资源</h2>
<p>根据 <a href="https://support.google.com/webmasters/answer/34592">添加网站资源</a>，现在支持网址前缀资源和网域资源。
* 网址前缀资源：仅包含具有指定前缀（包括协议 http/https）的网址。 *
网域资源：包括所有子网域（m、www
等）和多种协议（http、https、ftp）的网域级资源。 *
如果您希望资源匹配任何协议或子网域（http/https/www./m.
等），请考虑改为添加网域资源，但 <strong>网域资源仅支持 DNS
记录验证</strong>。</p>
<ul>
<li>选择网域资源后，弹框要求对 DNS 支持验证。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/google_DNS_detail.jpg"></p>
<ul>
<li>登录到域名提供商网站（我是在 Doynadot 解析域名）。</li>
<li>将验证的 TXT 记录复制到验证网站的 DNS 配置中。</li>
<li>注意：DNS 更改可能要过一段时间才会生效。如果 Search Console
未能立即发现相应记录，请等待 1 天，然后重新尝试验证。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/google_DNS_verification.jpg"></p>
<h2 id="添加站点地图">添加站点地图</h2>
<p>站点地图（sitemap），是一个页面，上面放置了网站上需要搜索引擎抓取的所有页面的链接。站点地图可以告诉搜索引擎网站上有哪些可供抓取的网页，以便搜索引擎可以更加智能地抓取网站。</p>
<h3 id="配置站点地图">配置站点地图</h3>
<ul>
<li>安装百度和 Google 的站点地图生成插件。</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>修改配置文件</li>
</ul>
<p>修改 Hexo 站点配置文件 _config.yml，添加以下内容：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 自动生成 sitemap</span><br><span class="line">sitemap:</span><br><span class="line">  path: sitemap.xml</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>执行网站生成和部署命令，进入
，检查里面是否有 sitemap.xml 文件，这就是生成的站点地图，里面包含了网站上所有页面的链接，google
搜索引擎通过这个文件来抓取网站页面。</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">hexo g &amp;&amp; hexo d</span><br></pre></td></tr></tbody></table></figure>
<h3 id="提交站点地图">提交站点地图</h3>
<p>如下图所示，在<strong>添加新的站点地图</strong>中添加自己的站点地图并提交，那么自己的网站内容就会被
google 周期性收录。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/google_sitemap.jpg"></p>
<h1 id="baidu">Baidu</h1>
<h2 id="网站提交">网站提交</h2>
<ul>
<li>提交网址给百度的入口 <a href="https://ziyuan.baidu.com/site/siteadd#/">点这里</a>。</li>
<li>网站提交过后，在第三步有一个验证网站步骤，证明您是该域名的拥有者。
<ul>
<li>我选择的是文件验证，需要将验证文件放置于您所配置域名的根目录下，对应于
Hexo 的 hexo_file_path。</li>
<li>网站发布成功后，返回站点验证。</li>
<li>为保持验证通过的状态，成功验证后请不要删除 HTML 文件。</li>
</ul></li>
</ul>
<h2 id="资源提交">资源提交</h2>
<ul>
<li>普通收录工具可以向百度搜索主动推送资源，缩短爬虫发现网站链接的时间。入口
<a href="https://ziyuan.baidu.com/linksubmit/index?site">点这里</a>。</li>
<li>在资源提交中，我选择了<strong>主动推送</strong> (实时) 的方式，有以下优势。
<ul>
<li>及时发现：可以缩短百度爬虫发现您站点新链接的时间，使新发布的页面可以在第一时间被百度收录。<br>
</li>
<li>保护原创：对于网站的最新原创内容，使用主动推送功能可以快速通知到百度，使内容可以在转发之前被百度发现。</li>
</ul></li>
</ul>
<h2 id="推送配置">推送配置</h2>
<p>参考 <a href="https://lanlan2017.github.io/blog/7ac3f85/">hexo
百度主动推送</a> 实现，实现基于插件的自动推送。</p>
<ol type="1">
<li>安装 hexo-baidu-url-submit 插件</li>
</ol>
<p>在 Hexo 站点根目录下，输入下面命令安装插件。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-baidu-url-submit --save</span><br></pre></td></tr></tbody></table></figure>
<ol start="2" type="1">
<li>在站点配置文件 (_config.yml) 中添加 baidu-url-submit 的配置项</li>
</ol>
<p>其中，进入主动推送工具后，会看到接口调用地址的 token，token 是由 16 个英文数字组合的字符串。</p>
<p><img data-src="https://zhanzhang.bj.bcebos.com/files/000471450342318.jpg"></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 设置百度主动推送</span><br><span class="line">baidu_url_submit:</span><br><span class="line">  count: 200  # 比如200，代表提交最新的200个链接</span><br><span class="line">  host: your_website # 在百度站长平台中注册的域名</span><br><span class="line">  token: your_token # 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!</span><br><span class="line">  path: baidu_urls.txt # 文本文档的地址，文件默认</span><br></pre></td></tr></tbody></table></figure>
<ol start="3" type="1">
<li>加入新的 deploy 配置项</li>
</ol>
<p>在站点配置文件中找到 deploy 项，添加新的推送项，如下所示：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">- type: git</span><br><span class="line">  repo: XXX</span><br><span class="line">  branch: master</span><br><span class="line">- type: baidu_url_submitter</span><br></pre></td></tr></tbody></table></figure>
<ol start="4" type="1">
<li>验证配置是否成功</li>
</ol>
<p>重新部署网站，查看 git-bash 中的信息，类似于下面的信息。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">INFO  Deploying: baidu_url_submitter</span><br><span class="line">INFO  Submitting urls</span><br><span class="line">http://www.waylon.one/blog/uncategorized/dynadot-buy-domain/</span><br><span class="line">http://www.waylon.one/blog/uncategorized/hello-world/</span><br><span class="line">{"remain":2998,"success":2}</span><br><span class="line">INFO  Deploy done: baidu_url_submitter</span><br></pre></td></tr></tbody></table></figure>
<p>对比接口的返回信息，推送成功。 </p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{"remain":2998,"success":2}</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/baidu_push_feedback.jpg"></p>
<h1 id="references">References</h1>
<ul>
<li><a href="https://lanlan2017.github.io/blog/7ac3f85/">hexo
百度主动推送</a></li>
<li><a href="https://www.jianshu.com/p/25145964abf3">hexo 博客被 Google 和百度收录</a></li>
</ul>
]]></content>
      <categories>
        <category>website</category>
      </categories>
      <tags>
        <tag>website</tag>
      </tags>
  </entry>
  <entry>
    <title>第二次剑桥领思考试回忆</title>
    <url>/English/second-linguaskill/</url>
    <content><![CDATA[<p>[toc]</p>
<p>免责声明：因为剑桥领思的考试内容和形式存在变化，以下内容仅代表我的个人认知、个人经历和个人观点，不能确保信息完全准确和实时同步，请读者自己辨识。如果有任何错误，请不要将它们归咎于任何其他个人或组织。</p>
<p><a href="http://www.waylon.one/English/linguaskill-introduction/">领思介绍</a><br>
<a href="http://www.waylon.one/English/first-linguaskill/">第一次领思考试回忆</a></p>
<p>我在 6 月 20 日参加了第一次领思考试，成绩不够理想，报名参加了第二次的领思考试。</p>
<ul>
<li>领思考试需要提早一周时间报名和选考试时间，比如周一报名，只能选择下周一及后面的考试。</li>
</ul>
<p>7 月 20 日下午，自己第二次完成了领思考试的全部考试，超过预定考试时间 55
分钟，系统显示 -55 min。根据第一次的经验，这是不会影响考试分数的。</p>
<p>凭着回忆，自己简单描述下考试题目，供后来者准备。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/second_linguaskill_main.jpg"></p>
<p>因为网络原因，自己的成绩单需要复核，所以没有在 72
小时内收到成绩报告；和客服沟通后，<strong>告知如果复核成绩单，那么最晚考试结束后的
7 天内收到成绩单</strong>。</p>
<p>最后，自己在 27
号晚上收到这次考试的成绩单。和上次相比，成绩整体有一个比较大的提升，但是自己的口语依然是弱项，不符合自己的预期。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Second_Linguaskill_Test_Report.jpg"></p>
<h1 id="听力-写作">听力 &amp; 写作</h1>
<p>在考试页面的下方，有一个做题的进度条，显示做题的进度。其中，写作和听力的做题进度条没有分开，听力占据进度条
2/5 的位置，阅读占据其余的位置。</p>
<h2 id="听力">听力</h2>
<ul>
<li>听力题型和上次没有变化，但是感觉题目难度变大，数量有所减少。</li>
<li>听力总体上是懵懵的，因为一道题目的内容比较多，所以没有准确听到确定的答案，但是可以肯定哪些是错误的答案。选项中的内容或多或少都会听到，所以千万不要听到什么选什么。</li>
<li>因为听力可以听两次，第一次听完后，可以先选出自己的答案，第二次用于确认答案和微调。</li>
</ul>
<h2 id="阅读">阅读</h2>
<ul>
<li>阅读题型和上次没有变化，但是题目的侧重点不一样。拓展阅读只有一篇，开放式完形填空有两篇，但是填空题目比较多，并且大多数选项的单词都没有见过，难度还是不少的。</li>
<li>关于 “XX lake and creatures”
的开放式完形填空没有做好，基本全部写错了。
<ul>
<li><strong>in</strong> the interest of adv. 为了；为了... 的利益</li>
<li> take up <strong>with</strong> v. 开始与… 交往；采纳；赞成</li>
<li> is soon to begin</li>
</ul></li>
<li> 阅读并选择
<ul>
<li>President backs swift implementation of reform.
<ul>
<li>swift adj. 迅速的，快的，敏捷的；立刻的</li>
</ul></li>
</ul></li>
<li> Words
<ul>
<li>arouse vt. 引起；唤醒；鼓励</li>
<li> impede vt. 阻碍；妨碍；阻止</li>
<li> sth are <strong>such</strong> that + 句子，是这样的
<ul>
<li>The problems are such that we can't solve by ourselves.</li>
</ul></li>
</ul></li>
</ul>
<h1 id="写作">写作</h1>
<ul>
<li>题目一：邮件，一个朋友打算过来访问你，询问你需要带什么衣服，到达机场后是 take
a taxi or bus to your house；以及如何在机场找到 bus 呢？
<ul>
<li>因为是机器评分，文字字数大概有 200 个。</li>
</ul></li>
<li>杂志社征集各个地区庆祝婚礼的方式。在何处举行婚礼，如何举办婚礼仪式，未来的婚礼仪式会如何改变呢？
<ul>
<li>文字数量大概有 280。</li>
</ul></li>
<li>自己采用先堆积文字，然后花时间检查和修改句子的方式，最后留出来 10 分钟检查拼写和修改表达句式。</li>
</ul>
<!--
traditional way 
traditional custom 传统习俗
-->
<h1 id="speaking">Speaking</h1>
<ul>
<li>题目一，前四问题目是基本固定，每一问的做法时间是 10s；后面四问的作答时间是 20s。
<ul>
<li>前四问：名字，姓的拼写，来自哪里，work or study。</li>
<li>后四问：
<ul>
<li>what would you do when you have free time
<ul>
<li>do exercise</li>
</ul></li>
<li>What's your familiar relatives</li>
<li>what's your favorite weather</li>
</ul></li>
</ul></li>
<li> 题目二
<ul>
<li>涉及到一个网站的阅读：www.words.com
<ul>
<li>www dot words dot com</li>
</ul></li>
<li> 考察单复数、三单的读音。</li>
<li>部分题目有反问语气。</li>
</ul></li>
<li>题目三：a special meal
<ul>
<li>自己套用之前雅思口语的回答，有点胡乱凑在一起，注意到使用过去式，但是还是有点时态不对。</li>
<li>口语的努力是不会无用的，口语的作答内容是互通的。自己需要的是不断地输入和输出，不偷懒。领思和雅思两个考试，看起来毫不相关，但是口语还是有很多的通用部分，自己需要的是不断巩固自己的输出能力。</li>
</ul></li>
<li>题目四：描述一个临近海岸地区的信息，比如森林、气候等。
<ul>
<li>自己仅仅是把图片的信息，翻译为句子，翻译的时候没有自己的想象，也没有做总结。
<ul>
<li>这一部分的题目信息太多，自己根本就没有足够的时间去作答全面，所以最好挑重要的内容，或者自己熟悉的内容去表达。</li>
</ul></li>
<li>我清楚自己的做法有点老套，可能不是得分点所在，但是目前没有比较好的方法啊。</li>
</ul></li>
<li>题目五：homes
<ul>
<li>having a garden</li>
<li>rent or buying a house</li>
<li>compared with house, advantages of apartemnt</li>
<li>why do sb buying thing for home</li>
</ul></li>
</ul>
<!--

再一次体现题目的共通性，没有什么努力是不值得的。自己在雅思上的准备，用到了领思考试上。

-->
<h1 id="考试支持">考试支持</h1>
<ul>
<li>不清楚是系统忙碌，还是自己网络不佳，在考试准备时，自己考试界面卡住，后来和客服联系，重启网页解决问题。考试支持的客服是中国人，可以使用中文交流，不用担心沟通的问题，并且响应的速度特别快。</li>
<li>尽量选择网络比较好的环境，否则容易弹框提示网络不佳，要求重新共享屏幕，影响考试的进度，尤其是口语考试中。</li>
</ul>
<hr>
<p>如果文章对你有帮助，请为我投票哦！如果有任何疑问，欢迎留言讨论。<br>
If the article helps you, please vote for me. If you have any questions,
please do not hesitate to discuss with me!</p>
]]></content>
      <categories>
        <category>English</category>
      </categories>
      <tags>
        <tag>English</tag>
      </tags>
  </entry>
  <entry>
    <title>手把手搭建业务规则引擎 (Rule Engine)</title>
    <url>/monthly-skills/rule-engine/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="需求描述">需求描述</h1>
<p>作为开发人员，随着业务逻辑和功能需求的不断增加，我们经常需要维护一系列
IF...THEN...ELSE 或者 select-case 的业务逻辑 (business
rules)。这部分业务规则的不断扩充，会使得代码越来越凌乱和难以维护，逐渐变成开发人员的噩梦。</p>
<!--
Application logic, particularly business rules, can be messy and time consuming to maintain in code. If all your application logic is hard-coded, it can eventually lead to massive if-then-else or select-case code segments that could grow into huge nightmares. Developers have more important problems to solve and things to do than to maintain a mountain of string compares, boolean tests, or Stored Procedures. There have been numerous attempts at rules engines (a.k.a. "inference engines"), but many of them require the writing of even more cryptic looking code that is hard, if not impossible, for non-developers to maintain. De-coupling business logic from an application certainly makes for more robust and maintainable code, and provides you the ability to let non-developer subject matter experts maintain the data and rules model, provided it is logical and easy to understand. Of course, you can always link parts of your application data to a database, but that still requires a lot of developer work to define the data model and queries needed for every unique "rule-driven" event in your application, not to mention the possibility of database performance bottlenecks in a networked or limited resource environment. A table-based rules engine can be a very powerful and flexible solution for your application logic and automation needs. In a web environment, the Logician JavaScript libraries can also offload a lot of server CPU onto the user's browser and eliminate lagging server callbacks.
-->
<!--根据 [Declarative If Statements with a Simplified Rules Engine](https://www.fluentcpp.com/2019/01/18/a-simplified-rules-engine-to-make-declarative-if-statements/) 提供的案例，我们来感受下-->
<p>举个简单的例子来感受下程序员在面对繁杂规则下的无奈。</p>
<p>小王家的奶牛场新进一批次奶牛，有白奶牛，黑奶牛和斑点奶牛。小王邀请你写一段程序模块，预测下各种品种的奶牛喜欢到哪块地里吃草。我们这里假设奶牛的行为受到阳光，风，草品的影响。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">Location moves_to(cow, env) {</span><br><span class="line">  if(cow.color()=="white") {</span><br><span class="line">    if(env.sunny() &amp;&amp; !env.storm()) {</span><br><span class="line">      // 白色牛奶喜欢在天气晴朗且没有大风的情况下去牧场吃草。</span><br><span class="line">      return pasture;</span><br><span class="line">    } else if(env.storm()) {</span><br><span class="line">      // 白色牛奶喜欢在暴风下去谷仓吃草。</span><br><span class="line">      return barn;</span><br><span class="line">    }</span><br><span class="line">  } else if(cow.color()=="black") {</span><br><span class="line">    ...</span><br><span class="line">  } else {</span><br><span class="line">    ...</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>上面是一段示例代码，可以看出来在只有 3
个变量（牛奶品种，阳光，风）的情况下，我们就需要写几十行的代码来实现功能。可以想象一下，在影响变量比较多的时候，业务逻辑和应用程序如果混在一起开发的话，那么开发者需要维护上百条甚至更多的
IF-statements
才可以应付。对开发人员而言，一方面这些代码没有技术含量，开发人员积极性差，另一方面频繁变更的业务需求也会带来维护，调试和测试成本的指数级增加。比如，为了找出一个业务逻辑中的问题，开发人员往往不得不遍历混在代码各处的
IF-statements 语句，效率低下且十分痛苦。</p>
<p>数以千计的业务逻辑在现实中非常常见，从<a href="">广告推送</a>，<a href="https://www.mtyun.com/library/maze-framework">跑腿外卖</a>到<a href="">火箭发射</a>等应用中，都有数不清的业务逻辑代码，我们可以把这部分需求归结为以下几方面。</p>
<ul>
<li>市场需求，业务变更是不可避免的，通常伴随着业务规则会逐渐扩充，在产品后期会变的异常复杂，同时管理层对开发效率不会妥协。</li>
<li>市场要求，业务规则经常发生变化，系统必须能够依据业务规则的变化快速、低成本的更新。</li>
<li>程序 = 算法 + 数据结构，有些复杂的商业规则很难推导出算法和抽象出数据模型，甚至有些业务规则常常在需求阶段可能还没有明确，在设计和编码后还在变化。</li>
</ul>
<p>那么，问题来了，<strong>我们如何在大规模软件开发中，很好地维护数以千计的业务逻辑
(IF-statements) 呢</strong>？</p>
<!--

在这个痛苦面前，一种常见的做法是 **应用程序和业务逻辑解耦**，把这些业务逻辑放在中心数据库或其他统一的地方，由非开发人员根据业务场景，维护系统中的数据和编辑业务规则；在程序开发中，支持动态地管理和修改这部分规则，从而提供软件系统的可维护性和可扩展性。开发人员负责提高代码质量，提供应用程序和业务规则间的接口；非开发人员根据业务场景，维护系统中的数据和编辑业务规则。目前，实现这样的功能的程序，已经被开发成为规则引擎。

> De-coupling business logic from an application certainly makes for more robust and maintainable code, and provides you the ability to let non-developer subject matter experts maintain the data and rules model, provided it is logical and easy to understand.

-->
<!--
企业级管理者可能会在系统生产过程中调整生产策略、物料采购策略等，因此对企业IT系统的开发有着如下的要求：

为提高效率，管理流程必须自动化，即使现代商业规则异常复杂。
市场要求业务规则经常变化，IT系统必须依据业务规则的变化快速、低成本的更新。
为了快速、低成本的更新，业务人员应能直接管理IT系统中的规则，不需要程序开发人员参与。
而项目开发人员则碰到了以下问题:

程序=算法+数据结构，有些复杂的商业规则很难推导出算法和抽象出数据模型

对程序员来说，系统已经维护、更新困难，更不可能让业务人员来管理。
因此迫切需要分离商业决策者的商业决策逻辑和应用开发者的技术决策。把这些商业决策放在中心数据库或其他统一的地方，让它们能在运行时（即商务时间）可以动态地管理和修改从而提供软件系统的柔性和适应性。

在很多企业的 IT 业务系统中，经常会有大量的业务规则配置，而且随着企业管理者的决策变化，这些业务规则也会随之发生更改。为了适应这样的需求，我们的 IT 业务系统应该能快速且低成本的更新。适应这样的需求，一般的作法是将业务规则的配置单独拿出来，使之与业务系统保持低耦合。目前，实现这样的功能的程序，已经被开发成为规则引擎。

规则引擎是一种推理引擎，它是根据已有的事实，从规则知识库中匹配规则，并处理存在冲突的规则，执行最后筛选通过的规则。因此，规则引擎是人工智能（AI）研究领域的一部分，具有一定的选择判断性、人工智能性和富含知识性。目前，比较流行的规则引擎有商业规则引擎 iLog 和开源规则引擎 drools。本文将对开源规则引擎 drools 做详细介绍，并通过分析一个在汽车保险行业中的实际应用案例，让读者对开源规则流引擎有一个更深刻的理解。

规则引擎正是应用于上述动态环境中的一种解决方法。
-->
<h1 id="问题建模">问题建模</h1>
<p>我们首先把这类 IF-statements
问题进行特征提取和建模，看看这类问题有什么特点呢？</p>
<ul>
<li>业务决策 (decision) 受多个影响因素 (factor) 的影响；</li>
<li>业务决策和影响因素的关系是已知的，也就是说在影响因素状态确定的情况下，业务决策是唯一的。</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">decision = rule(factor1, factor2, …, factorn)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>业务决策是前向的
(foreward-chaining)，不可逆。决策是基于规则来推导出来的，中间可能存在多个临时特征 (feature)，但是不支持从决策来推导特征和影响因素的状态。</li>
<li>用户往往只关心最终的决策，而不太在意从影响因素到决策的具体推理过程。假如我们将业务决策逻辑从系统逻辑中抽离出来，而只保留最后的决策接口给用户，并不会影响系统的正常运行和用户体验。</li>
</ul>
<p>在调研中，<strong>规则引擎 (rule engine)</strong> 和
<strong>有限状态机 (finite state machine)</strong>
很快就能进入你的思路。这两种做法能够很好地解决上述问题，可以从一系列的影响因素或者特征中，经过已有的规则运算，得到最终的决策。同时，这两种做法支持<strong>业务决策逻辑从系统逻辑中抽离
(decoupling)
出来</strong>，使两种逻辑可以独立于彼此而变化，可以明显降低维护成本，同时支持业务逻辑的快速更新。</p>
<h2 id="规则引擎-vs-有限状态机">规则引擎 vs 有限状态机</h2>
<p><a href="https://en.wikipedia.org/wiki/Business_rules_engine">规则引擎</a>
和 <a href="https://en.wikipedia.org/wiki/Finite-state_machine">有限状态机</a>
的详细概念，大家可以点击链接自行阅读和理解。</p>
<h3 id="规则引擎">规则引擎</h3>
<!--
规则引擎由推理引擎发展而来，是一种嵌入在应用程序中的组件，实现了将业务决策从应用程序代码中分离出来，并使用预定义的语义模块编写业务决策。接受数据输入，解释业务规则，并根据业务规则做出业务决策。
-->
<p>规则引擎是一种推理引擎，它是根据已有的事实 (变量)，从规则库中匹配规则，处理存在冲突的规则，执行最后筛选通过的规则。</p>
<p>简而言之，可以理解为是把原本杂乱不堪的 IF-statements 拆成 N
条带优先级的 "if 前提语句 then 实施语句" 的句式。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 业务逻辑</span><br><span class="line">if...else if...else if...else</span><br><span class="line"></span><br><span class="line"># 规则引擎</span><br><span class="line">if rule1 then action1</span><br><span class="line">if rule2 then action2</span><br><span class="line">...</span><br><span class="line">if ruleN then actionN</span><br></pre></td></tr></tbody></table></figure>
<p>规则引擎通常主要使用 foreward-chaining 的 Rete
引擎，按优先级匹配条件语句，实施规则语句。规则实施后会触发事实的变化，引擎又会重新进行条件匹配，直到不能再匹配为止，Rete
算法从理论上保证了服从的最高。</p>
<h3 id="有限状态机简述">有限状态机简述</h3>
<p>通常 FSM
包含几个要素：状态管理、状态监控、状态触发、状态触发后引发的动作。这些关系的意思可以这样理解:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">State(S) x Event(E) -&gt; Actions (A) -&gt; State(S’)</span><br></pre></td></tr></tbody></table></figure>
<p>如果我们当前处于状态 S，那么发生了 E 事件， 我们应执行操作
A，状态就会转换为 S’。</p>
<p>规则引擎和有限状态机主要在触发条件，控制权，使用约束上不一样。</p>
<h4 id="触发条件区别">触发条件区别</h4>
<!--通常^[1]，规则引擎和有限状态机的主要区别在于焦点 (focus)。-->
<p>在规则引擎中，上一个规则完成时会自动转移到下一个规则，而状态机则需要一个外部事件
(external event)
的触发，该事件将导致状态转移到下一个。简而言之，状态机是事件驱动型的，而规则引擎却不是。</p>
<blockquote>
<p>In general, the major difference between a workflow engine and a
state machine lies in focus. In a workflow engine, transition to the
next step occurs when a previous action is completed, whilst a state
machine needs an external event that will cause branching to the next
activity. In other words, state machine is event driven and workflow
engine is not.</p>
</blockquote>
<h4 id="控制权区别">控制权区别</h4>
<p>规则引擎是可以预测的
(predictable)。系统可以根据我们在初始时提供的状态和规则来驱动流程
(process)
向前，<strong>规则控制着这个流程的发展</strong>。状态机恰恰相反，它是外部事件驱动着完成。即使我们已经定义好状态
(states) 和状态之间的转移条件 (transitions)，决策进展 (decision making
process) 也是由外部事件来决定的。虽然状态机遵循的结构仍然像工作流
(sequential workflow)，但是<strong>控制权传递给了外部环境</strong>。</p>
<!--
A state-machine workflow is the reverse. It is driven by external events to its completion. We define the states and required transitions between those states. The workflow sits and waits for an external event to occur before transitioning to one of the defined states. The decision making process happens externally outside of the workflow – there is a structure to be followed still like a sequential workflow but control is passed to its external environment.

There are two main forms of workflows: sequential and state-machine. Sequential workflows are predictable. They utilize the rules and conditions we provide at the beginning to progress a process forward. The workflow is in control of the process.

-->
<h4 id="使用约束">使用约束</h4>
<p>如果系统不是很复杂，那么状态机是一个很好的解决方案。如果能够绘制所有可能的状态以及触发事件，则可以使用状态机。通常，状态机可以很好地用于<strong>网络协议</strong>或某些<strong>嵌入式系统</strong>。</p>
<blockquote>
<p>State machine is a good solution if your system is not very complex.
You may implement it if you are capable of drawing all the possible
states as well as the events that will cause transitions to them. In
general, state machines work well for network protocols or some of the
embedded systems.</p>
</blockquote>
<p>规则引擎是管理业务流程的好方法，它是任务分配，CRM 和其他复杂系统的正确解决方案。最终目标是改善业务流程和公司效率，这就是为什么它非常适合业务流程自动化的原因。</p>
<blockquote>
<p>Workflow engine implementation is a good way of managing business
processes. It is the right solution for task allocation, CRM and other
complex systems. All in all, its ultimate goal is to improve business
processes and company’s efficiency. That is why it perfectly suits for
business process automation.</p>
</blockquote>
<p>结合上面的分析对比，在影响因素较多，且不需要外界事件触发的情况下，使用规则引擎达到业务规则和应用的低耦合，是目前解决业务规则不断繁重的解决方案，本文<strong>后面也主要讨论规则引擎相关的问题</strong>。</p>
<h1 id="规则引擎解决方案调研">规则引擎解决方案调研</h1>
<p>在解决问题之前，最好先做充分的调研，避免重复造轮子 (Reinventing the
wheel)。</p>
<p>规则引擎的概念最早由文章 <a href="https://downloads.hindawi.com/journals/sp/1992/727852.pdf">A C++
Class for Rule-Base Objects</a> 提出，描述了在冬季高速公路养护 (winter
highway maintenance)
中的实际应用。现在看起来可能比较简单，但是放到上个世纪 90
年代，还是有新意的做法。</p>
<h2 id="规则引擎的使用方法">规则引擎的使用方法</h2>
<p>规则引擎是一种嵌套在应用程序中的组件，它实现了将业务规则从应用程序代码中分离出来。规则引擎使用特定的语法编写业务规则，规则引擎可以接受数据输入、解释业务规则、并根据业务规则做出相应的决策。</p>
<p>通俗来说，规则引擎就是负责执行系统中规则的插件，亦可以作为一个远程系统供业务系统调用。</p>
<figure>
<img data-src="/downloads/images/rule_engine_struct.jpg" alt="规则引擎示意图">
<figcaption aria-hidden="true">规则引擎示意图</figcaption>
</figure>
<p>引入规则引擎后带来的好处：</p>
<ul>
<li>实现业务逻辑与业务规则的分离，实现业务规则的集中管理；</li>
<li>可以动态修改业务规则，从而快速响应需求变更；</li>
<li>使业务分析人员也可以参与编辑、维护系统的业务规则；</li>
<li>使用规则引擎提供的规则编辑工具，使复杂的业务规则实现变得的简单</li>
</ul>
<h3 id="编程实践">编程实践</h3>
<p>规则引擎可以在系统工作时，将外部的业务规则加载到系统中，并使得系统按照该业务规则进行工作。</p>
<h4 id="业务规则的制定">业务规则的制定</h4>
<p>一个业务规则包含一组条件和<strong>满足此条件下执行的操作</strong>，它们表示业务规则应用程序的一段业务逻辑。</p>
<p>业务规则通常应该由业务分析人员和策略管理者开发和修改，但有些复杂的业务规则也可以由技术人员使用面向对象的技术语言或脚本来定制。</p>
<p>业务规则的理论基础是:
设置一个或多个条件，当满足这些条件时会触发一个或多个操作。</p>
<h4 id="规则引擎的功能">规则引擎的功能</h4>
<p>由于规则引擎是软件组件，所以只有开发人员才能够通过程序接口的方式来使用和控制它。</p>
<p>规则引擎的程序接口至少包含以下几种 API：</p>
<ul>
<li>加载和卸载规则集的 API；</li>
<li>数据操作的 API；</li>
<li>引擎执行的 API。</li>
</ul>
<p>开发人员在程序中使用规则引擎基本遵循以下 5 个典型的步骤：</p>
<ul>
<li>创建规则引擎对象；</li>
<li>向引擎中加载规则集或更换规则集；</li>
<li>向引擎提交需要被规则集处理的数据对象集合；</li>
<li>命令引擎执行；</li>
<li>导出引擎执行结果，从引擎中撤出处理过的数据。</li>
</ul>
<p>使用了规则引擎之后，许多涉及业务逻辑的程序代码基本被这五个典型步骤所取代。一个开放的业务规则引擎应该可以” 嵌入” 在应用程序的任何位置，不同位置的规则引擎可以使用不同的规则集，用于处理不同的数据对象。</p>
<h2 id="现有的规则引擎">现有的规则引擎</h2>
<p>常见的开源规则引擎 -- <a href="https://awesomeopensource.com/projects/rule-engine">The Top 23
Rule Engine Open Source Projects</a> ，如以下所示。</p>
<figure>
<img data-src="../downloads/images/open_source_rule_engine.JPG" alt="开源规则引擎排行榜">
<figcaption aria-hidden="true">开源规则引擎排行榜</figcaption>
</figure>
<p>此外，你也找到一些其他开源的规则推导开源软件，比如基于规则表的推理软件 <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>。</p>
<p>本文会挑选几款教程比较多，应用范围广的规则引擎做比较和讲解。</p>
<p>目前，常用的商用规则管理系统 (BRMS) 是 ILOG
JRules，普遍使用的开源规则引擎是 CLIPS 和 Drools。</p>
<h3 id="clips">CLIPS</h3>
<p>根据 <a href="http://www.clipsrules.net/">官方网站</a> 介绍，CLIPS
(the C Language Integrated Production System) 于 1984
年由美国航空航天局约翰逊空间中心 (NASA’s Johnson Space Center)
推出，意在克服 LISP 移植性差、开发工具和硬件成本高、嵌入性低的缺点。</p>
<blockquote>
<p>Developed at NASA’s Johnson Space Center from 1985 to 1996, the C
Language Integrated Production System (CLIPS) is a rule-based
programming language useful for creating expert systems and other
programs where a heuristic solution is easier to implement and maintain
than an algorithmic solution. Written in C for portability, CLIPS can be
installed and used on a wide variety of platforms. Since 1996, CLIPS has
been available as public domain software.</p>
</blockquote>
<p>CLIPS 是一个基于 <strong>Rete 算法</strong> 的前向推理语言，用标准 C
语言编写。它具有高移植性、高扩展性、强大的知识表达能力和编程方式以及低成本等特点。</p>
<ul>
<li><a href="http://clipsrules.sourceforge.net/">CLIPS 源代码</a></li>
<li><a href="http://www.clipsrules.net/Documentation.html">CLIPS 官方学习文档</a></li>
<li><a href="https://fevin.art/post/clips-rule-engine-introduction/">中文简介</a>，讲述了规则引擎的工作机制。</li>
</ul>
<h4 id="在-cc-程序中嵌入-clips">在 C/C++ 程序中嵌入 CLIPS</h4>
<p>基本步骤：</p>
<ol type="1">
<li>定义规则模板，规则执行阶段控制逻辑；</li>
<li>加载规则库，创建 CLIPS 执行实例；</li>
<li>将变量转换成 CLIPS 事实 (facts)；</li>
<li>执行 CLIPS 规则；</li>
<li>获取 CLIPS 规则模板生成结果；</li>
</ol>
<h3 id="drools">Drools</h3>
<p>Drools 是用 Java 语言编写的开放源码规则引擎，使用 <strong>Rete
算法</strong> 对所编写的规则求值。</p>
<p>Drools 允许使用声明方式表达业务逻辑，可以使用非 XML
的本地语言编写规则，从而便于学习和理解。同时，通过使用其中的 DSL (Domain
Specific
Language)，可以实现<strong>用自然语言方式来描述业务规则</strong>，使得业务分析人员也可以看懂业务规则代码。</p>
<ul>
<li><a href="https://github.com/kiegroup/drools">开源源代码</a></li>
<li><a href="https://docs.jboss.org/drools/release/7.49.0.Final/drools-docs/html_single/index.html#_fork_github">开发文档</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/51296996">中文简介</a>，讲述了规则引擎的工作机制。</li>
</ul>
<h3 id="ilog">ILOG</h3>
<p>Ilog Jrules 是由 IBM 开发的业务规则管理系统 (Business Rules
Management
System，BRMS)，它提供了对整个企业业务规则进行建模、编写、测试、部署和维护所必需的所有工具。</p>
<ul>
<li><a href="https://www.ibm.com/support/knowledgecenter/SSZJPZ_11.7.0/com.ibm.swg.im.iis.conn.jrules.use.doc/topics/ilog_jrules_container.html">官网介绍</a></li>
</ul>
<p>因为 Ilog Jrules
不开源，同时偏向于界面维护，这里不做详细分析和比较。</p>
<h2 id="美团的实践案例">美团的实践案例</h2>
<p>根据 <a href="https://www.mtyun.com/library/maze-framework">从 0 到 1：构建强大且易用的规则引擎</a>
的描述，美团点评也经历过开源 Drools 从入门到放弃的故事。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">在实践中，我们发现 Drools 方案有以下几个优缺点：</span><br><span class="line"></span><br><span class="line"># 优点</span><br><span class="line">- 策略规则和执行逻辑解耦方便维护。</span><br><span class="line"># 缺点</span><br><span class="line">- 业务分析师无法独立完成规则配置：由于规则主体DSL是编程语言（支持Java, Groovy, Python），因此仍然需要开发工程师维护。</span><br><span class="line">- 规则规模变大以后也会变得不好维护，相对硬编码的优势便不复存在。</span><br><span class="line">- 规则的语法仅适合扁平的规则，对于嵌套条件语义（then里嵌套when...then子句）的规则只能将条件进行笛卡尔积组合以后进行配置，不利于维护。</span><br></pre></td></tr></tbody></table></figure>
<p>由于 Drools 的问题较多，美团点评最后放弃了
Drools，而开始基于需求模型设计一个规则引擎。</p>
<p>评价：在实际应用层面，重复造轮子不完全是一件坏事情，并非全无价值，例如用来回避软件许可问题、第三方模组或零件的技术限制。</p>
<blockquote>
<p>重造方的轮子是重新创造一个已有的方法（重造轮子），而且其结果比已有的还差（方的轮子）。重造方的轮子是一种反模式，发生在工程师不知道或轻视标准的作法，或是不了解问题，或是不知道标准作法已可以充分地克服问题。重造方的轮子可能是经验不足的工程师所产生，或是因为第二系统效应造成。</p>
</blockquote>
<hr>
<p>上面的规则引擎可能千般好，但是如果我基于推理效率等考虑，就是喜欢<strong>基于业务定制开源引擎</strong>，那么应该怎么设计和实现呢？</p>
<blockquote>
<p>业务定制规则引擎的优点是视图和引擎内部数据模型完全贴合业务模型，因此内部人员很容易上手；缺点是视图和引擎的设计完全基于业务模型，适用范围有限，很难低成本修改后推广到别的业务线。</p>
</blockquote>
<!--
绩效规则主体是数据处理，但我们认为数据处理同样属于规则的范畴，因此我们将其放在本文进行分析。-->
<h1 id="基于rete算法的前向推理规则引擎的设计和实现">基于 Rete 算法的 "前向推理" 规则引擎的设计和实现</h1>
<p>标题比较复杂，我们来拆分一些。首先，我们实现的规则引擎只解决满足前向推理
(forward chaining) 的问题；其次，Rete
算法是解决前向推理问题的通用解法，我们使用这个算法是可以得到理论保证的，路子不会走太偏。</p>
<h2 id="什么是-forward-chaining">什么是 <a href="https://en.wikipedia.org/wiki/Forward_chaining">forward
chaining</a></h2>
<p>前向推理 (又叫正向推理，前向链接) 是使用推理引擎 (inference engine)
的主要方法之一，是在专家系统 (expert systems)，业务和生产规则系统
(business and production rule systems) 上广泛应用的策略。</p>
<blockquote>
<p>Forward chaining (or forward reasoning) is one of the two main
methods of reasoning when using an inference engine and can be described
logically as repeated application of modus ponens. Forward chaining is a
popular implementation strategy for expert systems, business and
production rule systems. The opposite of forward chaining is backward
chaining.</p>
</blockquote>
<p>前向推理从可用数据开始，使用推理规则来提取更多特征和数据，直到达到目的。推理引擎使用前向链接来搜索推理规则
(inference rules) 直到找到一个前提条件 (If clause)
为真；当找到这样的规则时，引擎可以得出结论或推断出结果 (Then
clause)，从而将新信息添加到其数据中
(可能是中间的临时特征)。推理引擎将迭代此过程，直到再无可用规则可被选用或者求得了所要求的解为止。</p>
<blockquote>
<p>Forward chaining starts with the available data and uses inference
rules to extract more data (from an end user, for example) until a goal
is reached. An inference engine using forward chaining searches the
inference rules until it finds one where the antecedent (If clause) is
known to be true. When such a rule is found, the engine can conclude, or
infer, the consequent (Then clause), resulting in the addition of new
information to its data. Inference engines will iterate through this
process until a goal is reached.</p>
</blockquote>
<h3 id="前向推理和后向推理的区别">前向推理和后向推理的区别</h3>
<p>和人类的思维相对应，规则引擎中也存在两种推理方式：正向推理
(Forward-Chaining) 和反向推理 (Backward-Chaining)。</p>
<p>正向推理也叫演绎法，由事实驱动，从一个初始的事实出发，不断地应用规则得出结论。首先在候选队列中选择一条规则作为启用规则进行推理，记录其结论作为下一步推理时的证据。如此重复这个过程，直到再无可用规则可被选用或者求得了所要求的解为止。</p>
<p>反向推理也叫归纳法，由目标驱动，首先提出某个假设，然后寻找支持该假设的证据，若所需的证据都能找到，说明原假设是正确的；若无论如何都找不到所需要的证据，则说明原假设不成立，此时需要另做新的假设。</p>
<h2 id="前向推理算法">前向推理算法</h2>
<p>前向推理应用规则从前提 (premises) 应用到结论
(conclusions)。目前，它使用暴力算法 (brute force
algorithm)，随机选择来源 (source) 和规则，应用规则以得出结论，重新插入结论作为新的来源
(source)，并迭代上述过程直到达到停止标准 <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>。</p>
<blockquote>
<p>The forward chainer applies rules from premises to conclusions. It
currently uses a rather brute force algorithms, select sources and rules
somewhat randomly, apply these to produce conclusions, re-insert them
are new sources and re-iterate till a stop criterion has been met.</p>
</blockquote>
<!--
# Forward Chainer Algorithm

The forward chainer is initialized with:

A set of sources, that may or not contain variables, from which to start the chaining process.

Optionally a focus set, to restrict rule application to a subset of the atomspace.
A rule-base, or rule-based system, defining a set of rules and parameters, amongst which are:
Fitness functions over sources and rules, to drive the inference control.
(Optional) Other parameters for termination and finer control. See URE Parameters for more details.

The high-level pseudocode of the forward chainer is as follows:

Initialize the potential-source set with the initial source atoms.
Randomly select the next source from the potential-source set (according to a source fitness function based distribution).
Amongst all valid rules, randomly select one (Thompson Sampling based on the truth value of the rule).
Unify the selected rule with the selected source, and apply it to generate conclusions.
Insert the conclusions to the potential-source set.
Check if one of the stopping criteria has been met. If so, exit and return the potential-source set, otherwise repeat from step 2.

from https://wiki.opencog.org/w/Unified_rule_engine#Inference_Tree
-->
<h3 id="rete-算法">Rete 算法</h3>
<p><a href="https://developer.ibm.com/zh/technologies/artificial-intelligence/articles/os-drools/">开源规则流引擎实践</a>
深入剖析了基于 rete 算法的规则引擎；<a href="https://www.jianshu.com/p/3e9afe9e0617">RETE 算法简述 &amp;
实践</a> 以例子来讲述 rete
算法的实践。本节基于上述两篇博客文章，经整理和消化后介绍 Rete 算法 <a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>。</p>
<p>Rete 算法最初是由 CMU 的 Charles L.Forgy 博士在 1974
年发表的论文中所阐述的算法，该算法提供了专家系统的一个高效实现。</p>
<p>Rete
匹配算法是一种进行大量模式集合和大量对象集合间比较的高效方法，通过网络筛选的方法找出所有匹配各个模式的对象和规则。核心思想是将分离的匹配项根据内容动态构造匹配树，以达到显著降低计算量的效果。自
Rete 算法提出以后，它就被用到一些大型的规则系统中，像 ILog、Jess、JBoss
Rules 等都是基于 RETE 算法的规则引擎。</p>
<blockquote>
<p>Rete has become the basis for many popular rule engines and expert
system shells, including Tibco Business Events, Newgen OmniRules, CLIPS,
Jess, Drools, IBM Operational Decision Management, OPSJ, Blaze Advisor,
BizTalk Rules Engine, Soar, Clara and Sparkling Logic SMARTS.</p>
</blockquote>
<p>Rete 算法可以被分为两个部分：规则编译和规则执行。当
Rete 算法进行事实的断言时，包含三个阶段：匹配、选择和执行，称做
match-select-act。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[1Rete Algorithm]--&gt;B(1 规则编译)</span><br><span class="line">A--&gt;C(2 规则执行)</span><br><span class="line">B--&gt;D(创建了规则集对应的 Rete 网络 , 它是一个事实可以在其中流动的图)</span><br><span class="line">C--&gt;E(1 匹配)</span><br><span class="line">C--&gt;F(2 选择)</span><br><span class="line">C--&gt;G(3 执行)</span><br></pre></td></tr></tbody></table></figure>
<h4 id="rete-算法相关概念">Rete 算法相关概念</h4>
<ul>
<li>Fact：已经存在的事实，它是指对象之间及对象属性之间的多元关系。</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">事实用一个三元组来表示：（标识符 ^ 属性 值）</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Rule：规则，包含条件和行为两部分，条件部分又叫左手元（LHS），行为部分又叫右手元（RHS）。条件部分可以有多条条件，并且可以用
and 或 or 连接。其一般形式如下：</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">(name-of-this-production</span><br><span class="line"> LHS /*one or more conditions*/</span><br><span class="line"> --&gt;</span><br><span class="line"> RHS /*one or more actions*/</span><br><span class="line"> )</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Patten：模式，也就是规则的条件部分，是已知事实的泛化形式，是未实例化的多元关系。</li>
<li>RootNode：Rete 网络的根节点，所有对象通过 Root 节点进入网络。</li>
</ul>
<figure>
<img data-src="../downloads/images/rete_demo.png" alt="RETE 网络示例">
<figcaption aria-hidden="true">RETE 网络示例</figcaption>
</figure>
<h3 id="rete-规则编译">Rete 规则编译</h3>
<h3 id="rete-规则执行">Rete 规则执行</h3>
<h3 id="rete-算法优点">Rete 算法优点</h3>
<h2 id="程序开发实践">程序开发实践</h2>
<p>参考 <a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>。</p>
<h3 id="规则模型">规则模型</h3>
<p>规则主要由三部分构成：</p>
<ul>
<li><p>FACT 对象：用户输入的事实对象，作为决策因子使用。</p></li>
<li><p>规则：LHS（Left Hand Side）部分即条件分支逻辑。RHS（Right Hand
Side）部分即执行逻辑。</p>
<ul>
<li>LHS 和 RHS 部分是由一个或多个模式 (pattern)
构成的。模式是规则内最小单位。模式的输入参数可以是另一个模式或 FACT
对象（比如逻辑与运算 [参数 1] &amp;&amp;
[参数 2] 中参数 1 可以是另一个表达式）。</li>
</ul></li>
</ul>
<!--
模式需要支持以下3种类别：

客户定义方法：FACT对象的实例方法、静态方法。
常规表达式：逻辑运算、算数运算、关系运算、对象属性处理等。
结构化查询。
-->
<ul>
<li>结果对象：规则处理完毕后的结果。需要支持自定义类型或者简单类型 POD。</li>
</ul>
<h3 id="系统模型">系统模型</h3>
<p>系统模型主要由 3 个模块构成。</p>
<ul>
<li>知识库：负责提供配置视图和模式因子。知识库之所以叫 “知识” 库一个很重要的特征是知识库可以低成本扩展知识。
<ul>
<li>模式：构成规则的最小单位，不可拆分，可以直接被规则引擎执行。</li>
</ul></li>
</ul>
<!--
- 视图：用于业务分析师等非技术背景的人员配置规则。作用两方面：
一方面降低操作门槛。一方面约束用户输入，保证输入合法性。
-->
<ul>
<li>资源管理器：负责管理规则。
<ul>
<li>依赖管理：负责将规则解析为模式树。为了最大限度地增强规则的表达能力，每一个模式设计都很 “原子”
(atom)，这样如果想配置一个完整语义的规则，则必须由多个子规则共同构成，因此规则之间会有树形依赖关系。</li>
</ul></li>
</ul>
<!--  
如$参数1 + $参数2 > $参数3这样的规则便是由多个模式“复合”而成，则他的依赖关系如下所示。
-->
<ul>
<li>规则引擎：负责执行规则。
<ul>
<li>模式执行器：负责直接执行模式。执行器可以根据业务的表达能力需求选择基于
Drools、Aviator 等第三方引擎，甚至可以基于 ANTLR 定制。</li>
</ul></li>
</ul>
<h3 id="运行实践">运行实践</h3>
<ul>
<li>预加载规则实例。在引擎初始化阶段将规则实例缓存在本地。</li>
<li>预编译规则实例。因为规则每次编译执行会导致性能问题，因此会在引擎初始化和规则有变更这两个时机将增量版本的规则预编译成可执行代码。</li>
</ul>
<p>系统代码调用规则引擎的基本步骤：</p>
<ol type="1">
<li>定义规则模板，规则执行阶段的控制逻辑；</li>
<li>加载规则库，创建规则引擎实例；</li>
<li>将变量转换成规则引擎的事实；</li>
<li>执行规则推理；</li>
<li>获取规则模板生成结果；</li>
</ol>
<h1 id="references">References</h1>
<ul>
<li>[1] <a href="https://workflowengine.io/blog/workflow-engine-vs-state-machine/">WORKFLOW
ENGINE VS. STATE MACHINE</a></li>
<li>[2] <a href="https://www.codeproject.com/Articles/194167/Logician-A-Table-based-Rules-Engine-Suite-In-C-NET">A
Table-based Rules Engine Suite using XML</a></li>
<li>[3] <a href="https://wiki.opencog.org/w/Unified_rule_engine#Forward_Chainer">Forward
Chainer</a></li>
<li>[4] <a href="https://en.wikipedia.org/wiki/Rete_algorithm">Rete
Algorithm from Wikipedia</a></li>
<li>[5] <a href="https://www.mtyun.com/library/maze-framework">https://www.mtyun.com/library/maze-framework</a></li>
<li><a href="https://en.wikipedia.org/wiki/Business_rules_engine">Business
rules engine from Wikipedia</a></li>
<li><a href="https://en.wikipedia.org/wiki/Inference_engine">Inference
engine from Wikipedia</a></li>
<li><a href="http://holbrook.github.io/2012/03/20/rule_engine_1.html">规则，推理机和规则引擎</a></li>
<li><a href="https://www.jianshu.com/p/3e9afe9e0617">RETE 算法简述 &amp;
实践</a>
<ul>
<li>讲解的比较好 </li>
</ul></li>
<li><a href="https://github.com/bazald/ConcRete">rete 算法的 github
实现</a>
<ul>
<li><a href="https://github.com/wangty163/Rete">Rete github</a></li>
</ul></li>
</ul>
<!--
[Visual programming language](https://en.wikipedia.org/wiki/Visual_programming_language) 亨通提到的可视化编程做法，我不是很认同这种做法
-->
<hr>
<!--

from http://holbrook.github.io/2012/03/20/rule_engine_1.html

规则引擎可以将规则的定义从代码中分离出来，将推理过程封装到规则引擎内部进行处理，这带来几个好处：

规则外部化，即有利于规则知识的复用，也可避免改变规则时带来的代码变更问题
由规则引擎使用某种算法进行推理过程，不需要编写复杂晦涩的逻辑判断代码
开发人员的不需要过多关注逻辑判断，可以专注于逻辑处理

https://github.com/DanielThurau/Simple-RuleBase-Inference-Engine 

https://github.com/ivgiuliani/ant 和万老板的实现类似，有working memory

-->
<section class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1" role="doc-endnote"><p>2<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>3<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3" role="doc-endnote"><p>4<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4" role="doc-endnote"><p>5<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
]]></content>
      <categories>
        <category>monthly skills</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Programming</tag>
      </tags>
  </entry>
  <entry>
    <title>通过 clustermaps 统计 Hexo 网站的访问地区和 IP</title>
    <url>/website/statistics-visitor-traffic/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="前言">前言</h1>
<p>在 <a href="http://www.waylon.one/website/Website-FAQ/">Website
FAQ</a>，实现了使用 "卜算子" 来统计网站访问人数，但是 "卜算子" 仅可以提供访问人数的统计，进一步的信息却无法提供。那么，如果想知道过往访客来自哪些国家和地区，显示网站访问实时动态的信息，应该怎么做呢？</p>
<p>多平台维护不易，本博客实时更新于 <a href="http://www.waylon.one/website/statistics-visitor-traffic/">个人网站</a>，请移步阅读最新内容。</p>
<h1 id="clustermaps-是什么">clustermaps 是什么</h1>
<p><a href="https://clustrmaps.com">clustrmaps.com</a>
是美国的一家数据网站，能够汇总公共记录来分析美国城市的社会人口和商业环境。</p>
<blockquote>
<p>Add the ClustrMaps hit tracker to your site or blog and see a
real-time map of your visitors from around the world! Proudly show and
grow your hidden community of interest.</p>
</blockquote>
<p>网址提供了生成访问者地址分布图的代码，可以嵌入到网站或博客中，来显示来自世界各地访问者的实时地图，有助于发展您隐藏的兴趣社区。最重要的是，这个功能是<strong>免费</strong>的，能够满足个人网站的需求，如下图所示。</p>
<p><img data-src="/downloads/images/blog/visitor_traffic_demo.png"></p>
<h1 id="配置-clustrmaps">配置 clustrmaps</h1>
<ul>
<li>网站注册后，访问 <a href="https://clustrmaps.com/add">Enter your
website address</a> 添加自己的网站地址，选择免费的服务。</li>
</ul>
<p><img data-src="/downloads/images/blog/input_url.png"></p>
<p><img data-src="/downloads/images/blog/choose_plan.png"></p>
<ul>
<li>选择自己喜欢的插件格式，现在 Hexo 的 Next
两种主题都是支持的，但是自己比较喜欢 Map widget 的主题。</li>
</ul>
<p><img data-src="/downloads/images/blog/map_widget.png"></p>
<ul>
<li>点击选择后，拷贝网站出现的脚本
javascript 代码，粘贴到 Next 主题下某个位置。博主测试过如下两个位置，挑选一个配置即可以。推荐位置二，自定义程度高。
<ul>
<li><p>位置一：将代码插入到 themes\_partials.swig 的最后。
</p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">  {% endif %}</span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Insert clustrmaps.com --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">'text/javascript'</span> <span class="attr">id</span>=<span class="string">'clustrmaps'</span> <span class="attr">src</span>=<span class="string">'//cdn.clustrmaps.com/map_v2.js?XXX'</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">{% include '../_custom/header.swig' %}</span><br></pre></td></tr></tbody></table></figure><p></p></li>
<li><p>位置二：将代码插入到 \_macro.swig 文件的</p>
<div class="”sidebar-inner”">

</div>
<p>图层。 </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">"sidebar"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sidebar-inner"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    {%- set display_toc = page.toc.enable and display_toc %}</span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Begin Insert clustrmaps.com --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">id</span>=<span class="string">"clustrmaps"</span> <span class="attr">src</span>=<span class="string">"//clustrmaps.com/map_v2.js?d=iBmc9XXXXXX=a"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- End Insert clustrmaps.com --&gt;</span></span><br><span class="line"></span><br><span class="line">    {%- if display_toc %}</span><br><span class="line">      {%- set toc = toc(page.content, { class: "nav", list_number: page.toc.number, max_depth: page.toc.max_depth }) %}</span><br></pre></td></tr></tbody></table></figure><p></p></li>
</ul></li>
<li>重新部署网站，就可以在首页看到实时访客来源图，如我的网站首页所示。另外，点击地图，可以看到更详细的信息，包括访客的地图、浏览设备以及
IP。</li>
</ul>
<p><img data-src="/downloads/images/blog/detaile_IP.png"></p>
]]></content>
      <categories>
        <category>website</category>
      </categories>
      <tags>
        <tag>Website</tag>
      </tags>
  </entry>
  <entry>
    <title>腾格里沙漠徒步</title>
    <url>/Trip/tenggeli-desert-pedestrianism/</url>
    <content><![CDATA[<p>[toc]</p>
<p>不喜欢国庆假期人挤人的景点拍照游，希望远离城市到户外，寻找一片安宁；两人性格又比较野，对戈壁和沙漠有长期的向往，期待置身茫茫空旷中，雨露为伴；没有兑现《狼图腾》中长生天腾格里的向往，所以这次选择了腾格里沙漠。</p>
<h1 id="腾格里沙漠">腾格里沙漠</h1>
<p>腾格里，蒙古语为 “天”。蒙古民族把苍天视为永恒最高神，故谓之 “长生天”。腾格里沙漠，蒙语意为茫茫流沙如渺无边际的天空。</p>
<p>我国最著名的八大沙漠分别是：塔克拉玛干沙漠、
古尔班通古特沙漠（准噶尔盆地沙漠）、巴丹吉林沙漠、腾格里沙漠、库木塔格沙漠、柴达木盆地沙漠、库布齐沙漠、乌兰布和沙漠。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/eight_deserts.jpeg" width="250" height="400" title="中国八大沙漠"></p>
<p>腾格里沙漠主要位于阿拉善左旗，是中国第四大沙漠。气候属中温带典型的大陆性气候，降水稀少，终年盛行西南风，年平均风速
3-4 米 / 秒。</p>
<blockquote>
<p>大陆性气候是地球上一种最基本的气候型，其总的特点是受大陆性影响大，受海洋性影响小。在大陆性气候条件下，太阳辐射和地面辐射都很大，所以夏季温度很高，气压很低，非常炎热，且湿度较大。冬季受冷高压控制，温度很低，也很干燥。<br>
内陆沙漠是典型的大陆性气候地区。草原和沙漠是典型的大陆性气候自然景观。</p>
</blockquote>
<p>腾格里沙漠有 200
多个原生态湖，民风淳朴，可以看到真正生活在大漠里的人的生活状态。每户人家相隔甚远，很多只一户人家世世代代守护着一个湖，谓之湖主。</p>
<h1 id="总览">总览</h1>
<h2 id="行程简介">行程简介</h2>
<ol type="1">
<li>2020 年 10 月 1 日晚，从北京出发。</li>
<li>2
号早晨抵达银川火车站，上午乘车穿过贺兰山，中午抵达阿拉善的天鹅湖附近。中午开始徒步穿越腾格里沙漠，徒步约
14 公里到达纳仁湖，露营休息。</li>
<li>3 号早晨 8 点开始徒步，下午 3 点到达太阳湖，露营休息。当天徒步约 17
公里，乘大卡车穿行 8 公里。</li>
<li>4 号上午 8 点开始徒步，徒步 4 公里，乘大卡车 8
公里，中午时穿越到沙漠高速路附近。下午乘大巴车，3
点返回银川火车站。晚上，乘火车返回北京。</li>
</ol>
<h2 id="路线特点">路线特点</h2>
<ul>
<li>跟团休闲游，适合徒步初学者，路程规划合理后，总体体力消耗适当。</li>
<li>徒步全程有领队、保障车和后勤车；带好现金后，基本没有后顾之忧。</li>
<li>利用夜间往返出发地，三天完成腾格里沙漠穿行，总路程约 50
公里，其中徒步 35+ 公里，乘坐大卡车 (真正的过山车) 15 公里。</li>
<li>沙漠露宿两晚，有机会观看沙漠夜空和日出日落。</li>
<li>国庆长假期避开热门景点，给自己寻一片清静；徒步和露营基本断网断电，没有繁琐事打扰。</li>
</ul>
<h1 id="兴奋冲进沙漠">20201002 兴奋冲进沙漠</h1>
<p>早晨从火车中醒来后，透过车窗，幸运地看到了一闪而过的黄河 (右边的一竖)，河床并不宽阔，河面非常平静。</p>
<p>从银川火车站出来后，品尝了火车站附近的一家 “纯汤” 牛肉面，8
块钱的牛肉面里看不到牛肉，所以叫做纯汤。</p>
<h2 id="驾长车横穿贺兰山阙">驾长车横穿贺兰山阙</h2>
<p>因为是第一次徒步沙漠，我们跟着户外团，从银川火车站，驾长车 (大巴车) 踏破贺兰山阙。</p>
<blockquote>
<p>贺兰山是西北部少有的近南北走向的山脉，削弱了西北高寒气流的东袭，阻止了潮湿的东南季风西进，遏制了腾格里沙漠的东移，东西两侧的气候差异颇大。</p>
</blockquote>
<p>靠近贺兰山时，能够远望到西夏王陵；昔日辉煌的木质建筑早已灰飞烟灭，剩下的大大小小的土堆远远望去依旧震撼人心，配得上 “东方金字塔” 的称号。</p>
<p><a href="https://youtu.be/Yp-aVOW6zHs">古墓龙探西夏王陵视频</a></p>
<blockquote>
<p>西夏王陵，是西夏历代帝王陵以及皇家陵墓，党项人首领李元昊建国。王陵西傍贺兰山，东临银川平原，是现存规模最大的一处西夏文化遗址。</p>
</blockquote>
<p><img data-src="http://www.waylon.one/downloads/images/travel/xixia_emperor_tomb.jpg" width="400" height="200" title="远望西夏王陵"></p>
<p>横穿贺兰山时，沿途还可以看到明代长城关隘。贺兰山的明代长城，和北京八达岭长城大不一样，这里的长城不是热门景点，缺乏维护，看起来更像是用土堆起的土墙。</p>
<blockquote>
<p>在清代之前，贺兰山几乎一直处于承领战争的状态中。明朝时，来自贺兰山西侧、北侧的鞑靼在贺兰山地区开始了和明朝的较量，导致明朝政府在宁夏北部大规模修筑长城，并在宁夏建立了总镇、卫、千户所、屯堡等一套完整而严密的军事防御系统。</p>
</blockquote>
<p><img data-src="http://www.waylon.one/downloads/images/travel/Ming_Dynasty_great_wall.png" width="400" height="300" title="历经四个世纪侵蚀而不倒"></p>
<h2 id="冲进沙漠">冲进沙漠</h2>
<p>驾长车跨过贺兰山脉，就到了阿拉善地区。</p>
<p>我们在一个靠近沙漠的地方下车，向前进一脚是沙漠，退一步则是绿洲。</p>
<p>穿戴好沙套、帽子后，拿着登山杖，就兴奋地出发了，踩在细软的沙粒上，有种叫做振奋的心情。因为徒步时后面有保障车跟着，每个人背的东西并不多，没有重装出发。</p>
<p>我们这一次徒步算是休闲游，徒步中可以看到几支重装出发的队伍，每个人都背着高高的背包，在沙漠中徒步，速度并不比我们慢。以后也可以尝试加入重装队伍。</p>
<p>腾格里沙漠辽阔浩瀚，沙丘形状变化多端，梦幻唯美。每踏进沙漠腹地几公里，沙漠的形状就会变一变，给你不一样的景观。感慨大自然的神秘伟大之余，自己能亲手触摸一下那些沙丘就满足了。</p>
<p>刚进去沙漠的时候，远处都是平缓的小沙丘。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/smooth_dessert.jpg" width="400" height="350" title="平缓的沙丘"></p>
<p>逐渐深入后，沙漠开始变成一条条整齐的沙墙，像是切割过一样。从远处望过去，沙墙就像贺兰山的明代土长城，只不过一脚踏上去就是一个坑。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/sand_wall.jpg" width="400" height="350" title="层叠的沙墙"></p>
<!--领队说，沙漠骆驼就喜欢踩着沙墙的边缘走，因为沙子的土质松软，不费力气。-->
<p>越往沙漠深处走，看到的越来越美丽，那些没有被越野车车轮压过的沙丘就像一幅完整的布疋，让人忍不住的想要去抚摸它却又怕会破坏了它的夸姣。金黄色的沙丘衬托着蔚蓝色的天空，不用润饰，随手一拍就是大片。</p>
<h3 id="植物们">植物们</h3>
<p>以天为盖地为庐，邂逅大漠深处的神秘动植物。</p>
<p>没到沙漠之前，我以为沙漠中只有光秃秃的沙子、仙人掌和骆驼。这一次进入沙漠后，发现沙漠中不仅有骆驼，还有盛开的鲜花、叫不上名字的植被、蘑菇，以及蜥蜴和小昆虫。</p>

<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=202430035&amp;bvid=BV1Qa411w7YF&amp;cid=245437727&amp;page=1" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>

<p><img data-src="http://www.waylon.one/downloads/images/travel/yellow_flower_in_dessert.jpg" width="400" height="350" title="盛开的黄花"></p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/desert_artist.jpg" width="400" height="350" title="沙漠中的艺术家"></p>
<blockquote>
<p>猜猜植物旁边的文络是谁画上去的？</p>
</blockquote>
<!--
初次见到植物旁的文络，以为是淘气的游客，沿着植物的周围画了个圈，然后风沙磨平了一点留下的；后面发现沙漠中很多植物都有这样的文络，那是大自然风吹叶子，叶子在沙上画上去的。
-->
<p>走在队伍中心，踩着他人的足迹，一路上走走歇歇。每次歇息时，席地而坐，只见苍茫沙海一片金黄，天边是黄色的曲线，没有边沿；连片沙丘，一个连着一个，看不到结尾在哪里。只看到了最远的曲线和天空连接在了一起。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/sky_with_desert.jpg" width="400" height="350" title="以天为盖沙为庐"></p>
<p>经过 14 公里的徒步，每个人都是疲惫地来到宿营地 --
纳仁湖，也是此次穿越见到的第一个沙漠湖。</p>
<p>虽然纳仁湖被围栏远远隔开，远处依然可以看到纳仁湖湖水的清澈，湖面非常安静。</p>
<p>非常有意境的一幕是，夕阳下，湖边有一只老牛孤单地在咀嚼，旁边路过的徒步者，三五成群，疲惫地走向宿营地。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/naren_lake.jpg" width="400" height="350" title="纳仁湖"></p>
<p>在宿营地，来不及细细品味日落。我们趁着夕阳的余晖，大家围在一起，开心地搭起帐篷
(很开心教会 XM 搭帐篷)，分配睡袋，布置自己的狗窝，开始做露营的准备。</p>
<p>吃过饭后，太阳已经下山了。我们跑到露营地附近的沙丘，借着最后一丝光亮，赤着脚在沙丘上放肆地奔跑跳跃。沙子开始微凉，还是拦不住我们和沙子的亲近，白天徒步的辛苦，完全抛之脑后。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/sunset_of_desert.jpg" width="400" height="350" title="沙漠日落"></p>
<p>没有见到王维笔下的 “大漠孤烟直，长河落日圆”，晚上却看到一轮圆月从沙丘后的贺兰山爬出来。十五的月亮十六夜，圆月当空，可惜外面的气候已经冷起来，我们早早回去帐篷里，开始看视频。现在有点小遗憾当时没有多看一会儿圆月。</p>
<p>这次是无人区穿越，我们在宿营地，信号不太稳定，完全没有网络，当然也没有烦恼。因为时差的问题，晚上
7 点多天气暗下来以后，躲在帐篷里实在没有事情能做，只能早点去休息。</p>
<p>晚上，零星的几个帐篷点着灯，从外面望过去都是亮晶晶的，都是一个个温暖的沙漠庇护所。因为随行的手电筒坏了，舍不得手机的电量，我们在帐篷里，只能点亮
mac 的显示屏幕做灯，灯光有点微弱，但是我已经知足了。</p>
<p>快入睡时，沙尘暴突然就来了，夹着几滴小雨，呼啸的狂风拍打着帐篷呼呼作响，似乎要把帐篷掀翻卷走。我们叫喊着跑到外面拼命地往帐裙上堆沙子，XM
在帐篷里死命拉着帐篷。即便加固帐篷后，但听着外面呼啸的沙尘暴，我们是非常忐忑地入睡了。</p>
<h1 id="探索沙漠">20201003 探索沙漠</h1>
<h2 id="早起看日出">早起看日出</h2>
<p>夜里，帐篷没有被吹走，一觉睡到了天蒙蒙亮，就被领队喊着早起看日出。起床时发现，帐篷里全是水珠，抖一抖还会弄湿衣服。</p>
<p>早上 6
点多，我们钻出温暖的帐篷，跑到远处的沙丘，望向东边的贺兰山，虔诚地等待着沙漠日出。</p>
<p>腾格里沙漠比北京晚一个小时 (时差)，日出在 6 点 50
分。在我们刚开始等待的时候，天空才开始泛红，但是天变得越来越亮，太阳还是没有出来，估计又躲在云朵后面了，有点失望地回来啦。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/I_am_back.jpg" width="400" height="350" title="归来"></p>
<h2 id="探索腾格里沙漠腹地">探索腾格里沙漠腹地</h2>
<p>吃过早饭后，我们 8
点准时列队，拖着昨天没有休息过来的身体，开始了新一天的徒步。调整好心情，深呼吸一口气继续走近这片神往已久的沙漠。</p>
<p>清晨动身时，太阳还不够强烈，有些和风，甚至有点寒冷，脚下的沙也是凉凉的。</p>
<p>阳光洒在曲线温柔的弧形沙丘上，满眼娴静温文的光辉，而和风过处，很多层层荡开的沙纹，恍如波涛一般。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/sand_wave.jpg" width="200" height="400" title="沙纹"></p>
<p>今天的沙漠，已经没有了昨日的沙墙景观，沙丘变得越来越高，越来越陡，此起彼伏，连绵不断。即使沿着松软的沙脊走，也比昨天费力多了，需要更加依赖登山杖。远处的贺兰山也逐渐模糊起来，意味着我们要彻底被漫无边际的沙漠包围了，以天为盖沙为庐。</p>
<p>阳升高穿过云层的时分，沙漠发散出它原始的火热和狂放。烈日炎炎下，我们感觉体力消耗殆尽，脚步也变得机械了，队伍已经开始零零散散，越拉越长。</p>
<p>阿拉善有 “中国驼乡” 的荣誉，我们在徒步中偶遇几只野生的双峰骆驼，透过望远镜看到它们或站或立，就是一动不动。这真是给我们枯燥的沙漠徒步带来了几分欣喜。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/camels.jpg" width="400" height="200" title="远望阿拉善双峰骆驼"></p>
<p>中午，我们在一片湖地休息。乘着自热米饭的等待时间，我跑到湖边，发现湖水远处望过去是深褐色的，湖边凝结着白色的、厚厚的一层晶状物（可能是盐结晶)，应该是盐碱湖。湖水周围光秃秃的，湖中看不到任何生命，水至咸则无徒。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/unknown_lake.jpg" width="400" height="200" title="未名湖"></p>
<p>这是自己第一次接触湖水，自己抓取了湖边薄薄的晶状物，拿在手里很久也不会化掉，遗憾回来途中丢掉了。</p>
<blockquote>
<p>腾格里沙漠内部的查汗池、红盐池和屯池等盛产食盐。</p>
</blockquote>
<p><img data-src="http://www.waylon.one/downloads/images/travel/white_crystal.jpg" width="400" height="200" title="盐结晶"></p>
<h2 id="过山车">过山车</h2>
<p>中午休息后，领队让疲惫的我们坐上保障车，让保障车带我们走一段路程。</p>
<p>我们几十个人本来是信誓旦旦要完全徒步穿行沙漠，领队抛出乘车的诱惑后，没有人拒绝乘坐大卡车，哈哈。大家在车上非常欣喜，一路上给其他徒步者加油打气，像当年的知青下乡，看着路两边新奇的景色，欢快地歌唱。</p>
<p>大卡车实在是沙漠中的王者，高高的车轮，强劲的柴油发动机，滚滚的黑烟，越过一个又一个陡峭的沙丘，越野车根本比不了
(请允许我的吹捧)。在我们徒步疲惫时，乘坐大卡车在沙漠里横穿直行，翻山越岭，除了不安全外，带来的乐趣，远远超过了继续徒步的征服感，这就是真正的过山车。</p>
<p>卡车放下我们的时候，距离营地还有 3
公里。我们反而不再显得那么慌忙，静下心来慢慢走路，欣赏沿途的沙漠风光。</p>
<p>途径一条沙漠公路时，黄沙包裹着公路，延升到远处，路上的车零零散散，坐在沙漠公路上随手一拍，就是很不错的公路照。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/road_in_desert.jpg" width="200" height="400" title="沙漠公路"></p>
<p>到达太阳湖营地后，开始分帐篷，安顿好以后才是下午 3 点多。</p>
<p>腾格里沙漠腹地有我们想像之外的景致，它不只是黄沙一片，非常值得我们开启探索之旅。</p>
<p>因为天气尚早，我们跑到沙丘上拍照片，然后沿着太阳湖湖边走路。夕阳撒在湖面，晃得有点睁不开眼睛。太阳湖非常大，我们绕到三分之一后就开始折返。</p>
<p>在太阳湖，我们见到了湖上嬉戏的一对大雁，卷翅高飞；还有湖边淘气的小鸟，在我们前面飞飞落落；以及不知名的叫声，我模仿它的声音，呱呱的对叫。如果不是远处的沙丘在提醒着你，肯定不敢想这是一个沙漠湖泊。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/sun_lake.jpg" width="400" height="300" title="太阳湖"></p>
<p>晚上，天气晴朗，就像小时候在家乡看到的那样，星星都出来了，清明透彻，布满太空。可能小时候见多了，勾不起自己太多的激动，就躲在帐篷里喝着一瓶淡淡的啤酒。</p>
<p>因为营地断网，充电宝已经没电，自己舍不得用手机，实在很无聊，就早早睡去了。</p>
<h1 id="逃出沙漠">20201004 逃出沙漠</h1>
<p>一夜的天朗气清，换来帐篷里的温度比昨晚低太多，自己躲在睡袋里，盖着全部的衣服，还是感觉不到热气。</p>
<p>尽管昨天没有看到日出，出于对日出的渴望，自己早早起来，裹着睡袋，登上远处的沙丘，静静地等待日出。</p>
<p>早晨没有积云，正是观看日出的好时机，但是左等右等还是等不到，自己失望地走在下坡的途中，忽然听到大家兴奋地喊起来，太阳出来了。自己像孩子一样跑回去，站在沙丘上看到了从山后蓬勃而出的朝阳，从刚露出一个角，逐渐变得圆润起来。</p>
<p>回来后，躲在帐篷里的 XM
问我，沙漠日出是不是和在老家看到的差不多？事情确实是这样，毕竟太阳都是从山后升起来，不是从海 / 地平线上升起来那样新鲜。事后想想，自己喜欢看日出，喜欢的是能和大家一起等待，一起兴奋的感觉。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/sunrise_in_desert.jpg" width="400" height="300" title="蓬勃而出的朝阳"></p>
<!--
尝试把多张图片合成一张图片
-->
<p>上午，我们的任务就是徒步三小时，然后等待大卡车把我们拉出沙漠（又一次作弊），之后换乘大巴车返回银川。</p>
<p>我们格外珍惜这最后的沙漠几小时，每一步都是留恋。</p>
<p>今天的沙丘，除了越来越高外，开始出现了刀牙峰
(平地而起高高的沙丘，中间高耸，海拔差有小 100 米)
，沙丘的走势也开始发生变化，由前两日的东西走向变成南北走向，别问我怎么看出来的。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/daofeng.jpg" width="400" height="300" title="刀牙峰"></p>
<p>站在刀牙峰的最高处，一览众山小，远处大大小小的沙丘像平铺过来的波浪，完全看不到贺兰山，沙漠和地平线衔接起来，以天为盖沙为庐。站在最高处，强势的风沙吹得自己直发抖，仿佛要把自己吹下去。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/stand_in_high.jpg" width="400" height="300" title="站在高峰"></p>
<p>换乘沙漠王者 --
大卡车后，十几个人蹲在上面。大家已经比昨天有勇气，有人站起来，扶着车厢，随着车厢的摆动来拍照，和路两边的徒步者打招呼，say
hello ！大卡车过大沙丘时，有时候有 30
度的左右倾斜，感觉有倾覆的危险，吓得自己赶紧蹲下来，不敢推车子的护栏，担心把车子给推翻了。</p>

<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=839887028&amp;bvid=BV1354y127w6&amp;cid=245438324&amp;page=1" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;"></iframe></div>

<h2 id="怀远夜市吃个够">怀远夜市吃个够</h2>
<p>从沙漠换乘大巴车后，我们大概在 2 点半回到银川火车站。</p>
<p>自己下车时，就是一个小泥人，两天的风沙把自己全身抹上了细小的沙尘，脸上头发里全是沙子。</p>
<p>在附近找个钟点房收拾自己，发现自己随身的东西，无论是暴露在沙漠中的，还是隐藏在行李箱里的衣服，所有东西都沾上了细沙，连电脑的键盘里都有细沙，按起来都不流畅。</p>
<p>收拾干净后，我们先到附近的大润发超市购买了宁夏特产枸杞，虽然价格比外面的要贵一点，但是质量应该可以得到保障。自己乡下来的，看到大润发超市非常非常大，在北京好久没见到这么大的超市了。</p>
<p>如果打算去路边小店，或者市场里购买枸杞，注意要嘱咐商家是自己食用，不需要购买熏蒸过的枸杞；另外还要注意会讲价，才能把价格搞下来，买到性价比高的枸杞。</p>
<blockquote>
<p>购买枸杞注意事项：</p>
</blockquote>
<p>买完枸杞后，XM
询问当地人，"哪里是当地人去吃羊肉串的地方"，他们推荐的怀远夜市，距离银川火车站
3.5 公里，骑着共享电动车就能到。</p>
<!--
骑车带着 XM 已经不知道是多少年前的事情了，XM 紧紧地抱着我，我们这是要把狗粮撒在银川啦！
-->
<p>我们在一家烧烤店点了各种羊肉和当地的特色（西夏啤酒、炒面疙瘩），大快朵颐，羊肉非常鲜美，面食口味也不错，人均消费￥70。推荐过去尝尝当地真正的美食。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/mutton_shashlik.jpg" width="400" height="300" title="怀远夜市的羊肉串"></p>
<p>吃完烤羊肉串后，我们打车回到银川火车站，开始返程之行。</p>
<p>再见，银川；再见，宁夏！</p>
<h1 id="徒步思考">徒步思考</h1>
<p>很开心走到户外，结识这群自虐的人，假期不在家蹲着，不去热门景区休闲，非要赶到沙漠吃沙子。</p>
<p>这次户外，结识到一群各个年龄段，不同阅历的人生。徒步的人群中，印象深刻的有一个年过六旬退休的大叔，开始享受生活，努力融入年轻人的时代；小豇豆似的小学生组成的爬山虎，吵闹着推翻领导的统治；户外的长行客，走在队伍的最前面，翻山越岭；还有刀子嘴的领队，部队退伍的大哥...</p>
<p>沙漠的条件实在苦，随时随地的风沙让你无处躲藏，断网断电让你漫漫黑夜无所适从，吃完热饭喝杯热水都是一件奢侈的事情，就连出门上个厕所都很简陋。</p>
<p>我不喜欢用征服的字眼和大自然串起来，渺小的人类站在一望无际的大漠之中，风餐露宿，哪里敢用得上征服；置身茫茫大漠，能够走出来，只不过是大自然没有把你留下来而已。</p>
<p>记得同行的一个人讲到，当你走到户外时，你会打开一扇新的大门，世界不再局限。这是我第二次徒步，第一次是
17km 的户外徒步，这一次是连续 3
天的徒步，带来的体验是景点观光带不来的。</p>
<p>首先，你会和一群陌生人组成一个队伍，待在一起很久，或多或少会了解到每个人的故事，和不同的人交流。</p>
<p>其次，户外不是一种休闲的方式，是在普通的枯燥的旅途中探索自己的未知，感知自己的渺小，打破自己的偏见，挑战自己的惰性；亲近自然，崇拜自然，发现美。</p>
<p>最后，人在孤独的时候才会思考，在平静时才会发现什么是重要的。户外断网断电，资源匮乏，身体疲惫，不正是净化心灵的好时候吗？</p>
<blockquote>
<p>故天将降大任于是人也，必先苦其心志，劳其筋骨，饿其体肤，空乏其身，行拂乱其所为，所以动心忍性，曾益其所不能。</p>
</blockquote>
<p>最后，能够和最亲密的爱人，做一件有挑战的事情，是最开心的事情啦！附上随行者的一段话。</p>
<blockquote>
<p>短短三天，累是真的，开心也是真的；脸上洗不净的细沙是真的，笑容也是真的。</p>
</blockquote>
<!--
- 老人 被时代有点淘汰，不知道什么缘故，被路人责备；不服老，努力在追赶年轻人的时代
-->
<h1 id="旅行建议">旅行建议</h1>
<h2 id="跟团游-vs-独行">跟团游 vs 独行</h2>
<p>如果是第一次沙漠穿行，我建议跟团游，可以保安全，涨经验；逐渐熟悉后可以慢慢尝试自己徒步游，节奏由自己控制。</p>
<p>我们这次跟的团是 <a href="https://mp.weixin.qq.com/s/TLGntEWBQjRs56lE27krkw">北京松鼠户外 - 远征腾格里 - 五湖连穿</a>，我不推荐这个户外团。</p>
<p>一方面是收费实在有点贵，徒步中也没有提供什么好的服务，吃饭饮水都需要自己付钱，性价比低；另一方面，对徒步安排和规划比较混乱，行程变化随意；最后，这个跟团游，没有提供基本的沙漠装备，需要自己购买或租赁。</p>
<h2 id="必备装备">必备装备</h2>
<ul>
<li>沙套：防止沙子进鞋里。</li>
<li>登山杖：沙漠松软，需要登山杖省力气。</li>
<li>防晒装备 (帽子、魔术头巾、口罩)：把自己脸和脖子捂严实，使用口罩捂住口鼻防沙子效果很好。</li>
<li>墨镜：阳光照在沙上，晃得你睁不开眼睛，戴上墨镜，保护眼睛；近视眼可以购买墨镜夹片。</li>
<li>手电筒：无它，茫茫黑夜如何上厕所呢？</li>
<li>充电宝：沙漠中没有电，给自己的手机充电，越大越好。</li>
<li>自热米饭、水等食物。</li>
<li>现金：沙漠没有网络，无法扫码，使用现金最方便。</li>
<li>厚衣服：沙漠温差大。</li>
</ul>
<h2 id="建议">建议</h2>
<ul>
<li>望远镜：可以望远处的骆驼等。</li>
</ul>
<!--
- [ ] 交通费 550+返回430 980
- [ ] 饮食费 360+10水+10枣 380
- [ ] 旅游费 1300*2 2600 
- [ ] 购物费 58.5 鞋+32.5 登山杖+自热米饭 67.7 羊肉串 147 奶茶9 冰袖 9.8 魔术头巾 18.8 343.3
- [ ] 住宿82 钟点房
- [ ] 特产 枸杞 203 甘草片 34 237

总计 4622.3
学敏出 501.6
彦龙出 4120.7
-->
]]></content>
      <categories>
        <category>Trip</category>
      </categories>
      <tags>
        <tag>Journey</tag>
      </tags>
  </entry>
  <entry>
    <title>第三次剑桥领思考试回忆</title>
    <url>/English/third-linguaskill/</url>
    <content><![CDATA[<p>[toc]</p>
<!--
空调调整到26度，保证室内舒适
-->
<p>免责声明：因为剑桥领思的考试内容和形式存在变化，以下内容仅代表我的个人认知、个人经历和个人观点，不能确保信息完全准确和实时同步，请读者自己辨识。如果有任何错误，请不要将它们归咎于任何其他个人或组织。</p>
<p><a href="http://www.waylon.one/English/linguaskill-introduction/">领思介绍</a><br>
<a href="http://www.waylon.one/English/first-linguaskill/">第一次领思考试回忆</a>
<a href="http://waylon.one/English/second-linguaskill/">第二次领思考试回忆</a></p>
<p>第二次的领思成绩，虽然口语和写作有所进步，但是仍然没有达到自己的目标，自己在
2020 年 8 月 8
日上午，参加了第三次领思考试，三战领思考试，希望能取得好结果吧。</p>
<p>在第三次考试中，自己看到了一些熟悉的题目，也就是在第一次和第二次领思考试中遇到的题目。</p>
<p>在这次考试中，自己又遇到了多次网络断线，以及和客服沟通界面打不开的问题，看来自己的网络是十分脆弱啊。最后，加上中间断网的时间，自己超过系统考试时间
110 分钟才交卷。</p>
<p>期间，自己点击开始考试时，总是
“loading”，然后界面奔溃，无法加载考试项。自己和客服人员沟通很久的情况下，自己甚至想放弃这次考试，好在最后坚持，客服人员和考试机构联系，自己可以重新登录界面，接着之前的考试继续作答。<strong>考试时，不要随意关闭网站，即使网站奔溃，也要先和客服人员联系</strong>。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Third_Linguaskill_Test_Report.jpg"></p>
<p>上面是收到的成绩单，Speaking
分数让自己很吃惊，我原本感觉比第二次的作答要好上很多，结果成绩反而低了不少，现在我实在搞不清楚如何评分，现在的分数基本只是雅思
4.0 ~ 4.5 的水平，和我的雅思成绩差一档。</p>
<p>我自己和英国的剑桥领思机构写信沟通后，现在领思不支持成绩复议（附答复），只能接受这样的结果吧，佛系一点。</p>
<blockquote>
<p>With regards to your score, I am afraid to let you know that our
normal process is that since the Linguaskill is not a certified exam,
but rather an adaptive test, there is no formal Results Enquiry process
for this exam. Therefore we cannot remark your scores.</p>
</blockquote>
<h1 id="speaking">Speaking</h1>
<!--
这一次自己调整做法顺序，为了不被室友影响，自己首先选择了口语，然后是听力和阅读，最后是写作。
-->
<p>在阅读题目和 Think
阶段，自己可以热身，对着题目开始说起来；当听到作答铃声后，立即开始正式的回答。</p>
<h2 id="part-1">Part 1</h2>
<ul>
<li>前面四个老问题，可以预先准备好。 新的题目
<ul>
<li>How often do you use the Internet?
<ul>
<li>没有使用 4 步结构，解释原因或者影响。</li>
</ul></li>
<li>A person who is interesting?</li>
</ul></li>
</ul>
<!--自己没有着重回答为什么有意思，感觉有点跑题了。-->
<h2 id="part-2">Part 2</h2>
<ul>
<li>大声朗读句子，注意断句和发音；前面几个题目不需要那么紧急地作答，把握好自己的节奏。</li>
<li>几个注意点：
<ul>
<li>网站的阅读：www.words.com</li>
<li>vocalbulary /vəˈkæbjələri/n. 词汇；词表</li>
<li> tablets /'tæblɪts/n. [药] 药片</li>
</ul></li>
</ul>
<h2 id="part-3">Part 3</h2>
<ul>
<li>原题： A technology you want to own</li>
</ul>
<h2 id="part-4">Part 4</h2>
<ul>
<li>三个房屋的价格比较，答题模板可以和 “两件 jacket” 的比较类似</li>
</ul>
<h2 id="part5">part5</h2>
<p>Movies Cinema 话题</p>
<ul>
<li>advantage of watching movies in cinemas than TV
<ul>
<li>audio-visual experience</li>
</ul></li>
<li>Will watch movies in cinema be popular in the future</li>
<li>What's kind of cinemas popular among people
<ul>
<li>action， thriller /ˈθrɪlə(r)/</li>
</ul></li>
<li>Why/How movie would change as people get old?</li>
</ul>
<p>注意：自己在思考的时候，应该去素材库中寻找，而不是木讷地不知所措，开始回答时随心所欲。</p>
<h1 id="listing">Listing</h1>
<ul>
<li>因为没有吃早饭，自己做听力已经比较累了，总是精神不集中，容易走神，需要好好休息。</li>
<li>遇到 salmon 渔民 和 mushroom 外观的原题目。</li>
</ul>
<h1 id="reading">Reading</h1>
<ul>
<li>遇到完形填空的一篇原题目，"XX
lake"，后面如果多次考试，尽量考完后回忆下，搞懂题目。
<ul>
<li>is the interest in XX lake that</li>
<li>soon to began</li>
</ul></li>
</ul>
<h1 id="writing">Writing</h1>
<p>根据上次的经验，文章数量多，减少拼写错误，作文的得分还不错。</p>
<h2 id="task-1">Task 1</h2>
<ul>
<li>Email about develivey time
<ul>
<li>作答 180 字</li>
</ul></li>
</ul>
<!--
- 快递员
- hand over
-->
<h2 id="task-2">Task 2</h2>
<ul>
<li>the best journey
<ul>
<li>作答 260 字</li>
</ul></li>
</ul>
<!--
  * 使用猴子的素材。-->
<hr>
<p>如果文章对你有帮助，请为我投票哦！如果有任何疑问，欢迎留言讨论。<br>
If the article helps you, please vote for me. If you have any questions,
please do not hesitate to discuss with me!</p>
]]></content>
      <categories>
        <category>English</category>
      </categories>
      <tags>
        <tag>English</tag>
      </tags>
  </entry>
  <entry>
    <title>tmux 使用</title>
    <url>/Linux/tmux/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="什么是-tmux">什么是 tmux</h1>
<p>tmux 是一个<ruby>终端复用器<rt> terminal
multiplexer</rt></ruby>，它使用户可以在一个终端界面内管理多个
<ruby>会话<rt> session</rt></ruby>、<ruby>窗口 <rt>window</rt></ruby> 和
<ruby>窗格<rt> panel</rt></ruby> 。 *
当窗口意外关闭时，会话并不会终止，后面需要的时候，会话可以再次绑定窗口。尤其当使用 SSH 远程登录计算机时，可以不受断网的影响。
* tmux 采用 client/server 模型。<ruby>服务<rt> server</rt></ruby> 是 tmux
运行的基础服务。
一个服务可以包含多个会话，一个会话可以包含多个窗口，一个窗口可以包含多个窗格。</p>
<figure>
<img data-src="https://pic2.zhimg.com/80/v2-c117e59e1de94709ae889dc59119d6cb_720w.jpg" alt="一个会话的组成">
<figcaption aria-hidden="true">一个会话的组成</figcaption>
</figure>
<h1 id="tmux-使用">Tmux 使用</h1>
<ul>
<li>在远程机器安装 tmux</li>
<li>ssh 登录到远程 server</li>
<li> 终端输入 tmux</li>
</ul>
<h2 id="ubuntu-安装a">Ubuntu 安装 a</h2>
<p>''' # ubuntu 版本下直接 apt-get 安装 sudo apt-get install tmux '''</p>
<h2 id="快捷键">快捷键</h2>
<p>tmux
有大量快捷键，<strong>所有的快捷键都需要通过前缀键唤起，默认的前缀键是
Ctrl+b</strong>。</p>
<ul>
<li>查看创建得所有会话 </li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">tmux ls</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>登录一个已知会话。即从终端环境进入会话 </li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 第一个参数a也可以写成attach，后面的xxx是会话名称。</span><br><span class="line">tmux a[attach] -t xxx</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>列出所有快捷键 </li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">tmux list-keys</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>离开当前会话 </li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">[Ctrl+B] d</span><br></pre></td></tr></tbody></table></figure>
<h2 id="调整窗口">调整窗口</h2>
<ul>
<li>命令行模式下，按下 Alt 和方向键调整窗口大小.</li>
</ul>
<h1 id="references">References</h1>
<ul>
<li><a href="https://www.cnblogs.com/kevingrace/p/6496899.html">Linux 终端复用神器 - Tmux 使用梳理</a></li>
<li><a href="https://www.cnblogs.com/kevingrace/p/6496899.html">tmux 教程</a></li>
<li><a href="https://www.zhihu.com/question/46821110">tmux
新开窗口后保持 ssh 连接</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/137715607">Tmux 的常用快捷键</a></li>
</ul>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
      </tags>
  </entry>
  <entry>
    <title>vim 插件配置</title>
    <url>/Linux/vim-configuration/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="背景">背景</h1>
<ul>
<li><a href="http://www.waylon.one/Linux/advanced-vim-operations/">vim
高阶命令学习</a></li>
</ul>
<p>在终端下使用 vim
进行编辑时，默认情况下编辑的界面上是没有显示行号、语法高亮度显示、智能缩进等功能。为了更好的在 vim 下进行工作，需要手动设置一个配置文件：.vimrc。</p>
<blockquote>
<p>用户在自己的目录下修改 .vimrc
的话，修改内容只对本用户有效。要想全部用户有效，需要修改 /etc/vim/vimrc。Vim 存在多个配置文件 vimrc，比如 /etc/vimrc，此文件影响整个系统的 Vim。还有<sub> /.vimrc，r 此文件只影响本用户的 Vim。而且</sub> /.vimrc 文件中的配置会覆盖 /etc/vimrc 中的配置。这里我们只修改～/.vimrc 文件。</p>
</blockquote>
<p>vim 的插件 (plugin) 安装在 vim 的 run time
path 目录下，你可以在 Vim 命令行下运行 "set
rtp“命令查看。这里我们选择安装在～/.vim 目录，没有就创建一个。</p>
<h1 id="vim-打开中文乱码">vim 打开中文乱码</h1>
<ul>
<li>用 vim 打开 .vimrc 配置文件 ''' vim ~/.vimrc '''<br>
</li>
<li>在.vimrc 中加入如下内容 ''' set termencoding=utf-8 set encoding=utf8
set fileencodings=utf8,ucs-bom,gbk,cp936,gb2312,gb18030 '''
说明：encoding 是 Vim 内部使用的字符编码方式，一般设置为 utf8。termencoding 是 Vim 所工作的终端 (或者
Windows 的 Console 窗口) 的字符编码方式，一般设置为 utf8。fileencodings 是 Vim 自动探测 fileencoding 的顺序列表，启动时会按照它所列出的字符编码方式逐一探测即将打开的文件的字符编码方式。这些设置需要 set 命令来进行设置生效。</li>
<li>执行 :wq 保存退出 vim，再次用 vim 打开文件即可。</li>
</ul>
<h1 id="安装插件管理器-vundle">安装插件管理器 Vundle</h1>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim</span><br></pre></td></tr></tbody></table></figure>
<h2 id="安装一个插件">安装一个插件</h2>
<ul>
<li>打开 vim 输入 :PluginInstall 。
<ul>
<li>:PluginInstall 命令会安装在 .vimrc 文件中列出来的所有插件。</li>
<li>:PluginInstall <plugin-name> 安装指定的插件。</plugin-name></li>
</ul></li>
</ul>
<h2 id="清理未用插件">清理未用插件</h2>
<ul>
<li>打开 vim 输入 :PluginClean 。</li>
</ul>
<h2 id="配置插件">配置插件</h2>
<h3 id="ctrlp">ctrlp</h3>
<p>  ctrlp - Vim 的模糊搜索工具，支持文件，缓冲区，MRU（Most Recently
Used）文件和标签等的搜索，也支持通过正则表达式搜索（Ctrl-r 进行切换）。
<a href="https://blog.csdn.net/demorngel/article/details/69054531">Vim 插件之 ctrlp</a></p>
<h3 id="taglist">Taglist</h3>
<ul>
<li><a href="https://www.cnblogs.com/diegodu/p/7088596.html">vim
中 Taglist 的安装和使用</a></li>
</ul>
<p>Taglist 是 vim 的一个插件，提供源代码符号的结构化视图。</p>
<h3 id="cscope">cscope</h3>
<p>在 Vim 中，通过 cscope 的查询，跳转到指定的地方就像跳转到任何标签；她能够保存标签栈，所以通过合适的键盘映射绑定，你能够在函数向后或向前跳转，就像通常使用的 tags 一样。</p>
<ul>
<li><a href="https://blog.csdn.net/guyue35/article/details/52298536">领略 Vim +
Cscope 的强大魅力</a></li>
</ul>
<!--
### Fswitch 貌似不可行
- [a.vim vs fswitch](https://www.thinbug.com/q/17170902)

- [实现同名文件快速切换](https://vimjc.com/vim-fswitch.html)

- [将vim打造成IDE](http://lazybing.github.io/blog/2016/07/07/how-to-use-vim/#vim-fswitch)
-->
<h3 id="a.vim">a.vim</h3>
<p>实现源文件和头文件之间的切换。</p>
<ul>
<li><a href="https://blog.csdn.net/firebird321/article/details/49722661">a.vim</a></li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Configuration in vundle</span><br><span class="line">Plugin 'vim-scripts/a.vim'</span><br><span class="line"># </span><br><span class="line">nnoremap &lt;leader&gt;a :A&lt;CR&gt; </span><br></pre></td></tr></tbody></table></figure>
<h3 id="rtag">rtag</h3>
<!--
First, you need clang, I used:
sudo apt-get install clang-5.0 lld-5.0
sudo apt-get install libclang-5.0-dev
And then add the bin binary to your path.

Secondly, install rtags https://github.com/Andersbakken/rtags
It comes with emacs support but there are projects supporting other IDEs:
Vim: https://github.com/lyuts/vim-rtags (I used this one)
Sublime Text: https://github.com/rampage644/sublime-rtags (Didn’t try)

For voyager, all I need to do is to force cmake to output compile_commands.json and feed it to rtags.
source /opt/ros/kinetic/setup.bash
./configure
catkin_make -DCMAKE_BUILD_TYPE=RELEASE   --source /your/path/to/voyager -DCMAKE_EXPORT_COMPILE_COMMANDS=1
rc -J build/    <-- This uses the compile_commands.json in the build/ folder. It took some time to complete.
rdm &    <-- Bring up the rtags server.

> 安装成功后，会出现查询时闪红，查询无结果的现象，具体可以参照rdm服务器的输出结果。  
> 需要安装到某个根目录下： sudo make install  
> Fix: rc -J build  
> rdm &  
&emsp;&emsp;那么，可以修复这样的问题，棒棒滴！
-->
<ul>
<li><p>Q: CMake Error at src/CMakeLists.txt:103 (message): Failed to
compile small clang test app.</p>
<p>It's likely that the include file &lt;clang-c/Index.h&gt; could not
be found!</p>
<p>Maybe you need to install the clang development package (delete the
CMakeCache.txt file before trying to run cmake again after
installation)?</p>
<p>See CMakeFiles/CMakeError.log for more info.</p></li>
<li><p>A: sudo apt install llvm-7-dev libclang-7-dev</p>
<ul>
<li>delete the CMakeCache.txt file</li>
</ul></li>
</ul>
<h3 id="youcompleteme">YouCompleteMe</h3>
<p><a href="https://github.com/ycm-core/YouCompleteMe">YouCompleteMe</a>：一个随键而全的、支持模糊搜索的、高速补全的插件。由
google 公司搜索项目组的软件工程师 Strahinja Val Markovic 所开发，YCM
后端调用 libclang (以获取 AST，当然还有其他语言的语义分析库)、前端由 C++
开发 (以提升补全效率)、外层由 python 封装 (以成为 vim
插件)。插件安装非常复杂。</p>
<ul>
<li><p><a href="https://www.cnblogs.com/zhongcq/p/3630047.html">Vim 自动补全插件</a></p></li>
<li><p> Q: The ycmd server SHUT DOWN (restart with ':YcmRestartServer').
YCM core library not detected; you need to compile YCM before using it.
Follow the instructions in the documentation.</p>
<ul>
<li>A:</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd ~/.vim/bundle/YouCompleteMe</span><br><span class="line">python3 install.py --all</span><br></pre></td></tr></tbody></table></figure>
<p>or</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Compiling YCM with semantic support for C-family languages through clangd:</span><br><span class="line"></span><br><span class="line">cd ~/.vim/bundle/YouCompleteMe</span><br><span class="line">./install.py --clangd-completer</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<!--
from https://github.com/ycm-core/YouCompleteMe#linux-64-bit
-->
<ul>
<li><p>Q: NoExtraConfDetected: No .ycm_extra_conf.py file detected, so
no compile flags are available. Thus no semantic support for
C/C++/ObjC/ObjC++. Go READ THE DOCS <em>NOW</em>, DON'T file a bug
report.</p>
<ul>
<li>A: <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd ~/.vim/bundle/YouCompleteMe</span><br><span class="line">sudo bash ./install.sh</span><br></pre></td></tr></tbody></table></figure></li>
</ul></li>
</ul>
<!--
https://github.com/ycm-core/YouCompleteMe/issues/415
-->
<ul>
<li>Q: CMake Error: The source directory
"/home/waylon/.vim/bundle/YouCompleteMe/third_party/ycmd/third_party/cregex"
does not appear to contain CMakeLists.txt. Specify --help for usage, or
press the help button on the CMake GUI. ERROR: the build failed.<br>
NOTE: it is <em>highly</em> unlikely that this is a bug but rather that
this is a problem with the configuration of your system or a missing
dependency.
<ul>
<li><p>A: </p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd ~/.vim/bundle/YouCompleteMe</span><br><span class="line">rm -rf YouCompleteMe/third_party/ycmd/third_party/cregex </span><br><span class="line">cd ~/.vim/bundle/YouCompleteMe/third_party/ycmd/third_party</span><br><span class="line">git submodule update --init --recursive</span><br></pre></td></tr></tbody></table></figure><p></p></li>
<li><p>当使用 git clone 下载的工程中带有 submodule
时，初始的时候，submodule
的内容并不会自动下载下来的，此时，只需执行如下命令：</p></li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">git submodule update --init --recursive</span><br></pre></td></tr></tbody></table></figure>
即可将子模块内容下载下来后工程才不会缺少相应的文件。</li>
</ul>
<!--
NOTE: it is *highly* unlikely that this is a bug but rather
that this is a problem with the configuration of your system
or a missing dependency. Please carefully read CONTRIBUTING.md
and if you're sure that it is a bug, please raise an issue on the
issue tracker, including the entire output of this script
and the invocation line used to run it.

https://blog.csdn.net/Xiao_CangTian/article/details/89506674 

-->
<h3 id="taghighlight">TagHighlight</h3>
<p>  TagHighlight: Extra highlighting of typedefs, enumerations etc
(based on ctags), 可以让 typedef 的类型，还有枚举，宏等都高亮。</p>
<h3 id="ctags">ctags</h3>
<p>  产生标记文件以帮助在源文件中定位对象。<br>
<a href="https://blog.csdn.net/yockie/article/details/51090644">在 Vim 中使用 ctags</a></p>
<h3 id="leaderf"><a href="https://github.com/Yggdroot/LeaderF">LeaderF</a></h3>
<p>一款模糊查找插件 —— LeaderF，无论是从性能还是匹配精度上，都远远超越
ctrlp。</p>
<p>LeaderF 是一个用 Python 写的 vim
插件，可以在成千上万数十万个文件中，通过模糊查找的方式，快速找到目标文件。它还有很多衍生功能：快速打开或定位某个
buffer、最近使用的文件（mru）、tags（包括函数、类、变量等）、命令历史、文件中的某一行、vim
的 help、marks 等等。<br>
<a href="https://blog.csdn.net/archofortune/article/details/80131444">让人相见恨晚的 vim 插件：模糊查找神器 LeaderF</a></p>
<!--
> 莫名其妙，会报错。但是升级到vim 8.1,解决问题不报错。 
-->
<h3 id="tagbar">Tagbar</h3>
<h3 id="vim-tag">Vim tag</h3>
<p>tag 是什么？一个位置，它记录了关于一个标识符在哪里被定义的信息，比如
C 或 C++ 程序中的一个函数定义。这种 tag
聚集在一起被放入一个 tags 文件。这个文件可以让 Vim 能够从任何位置起跳达到 tag 所指示的位置－标识符被定义的位置。</p>
<p>对于程序来说，Tag 文件中保存了诸如函数、类、结构、宏等的名字，它们所处的文件，以及如何通过 Ex 命令跳转到这些标签。它是一个纯文本文件，因此你可以手工的编辑它，也可以使用脚本对其进行操作。通常我们使用名为 ctags 的程序来生成这样的 tag 文件。vim 能直接使用 ctags 程序所生成的 tag 文件。在 UNIX 系统下的 ctags 功能比较少，所以一般我们使用 Exuberant
Ctags (在大多数
Linux 系统上，它是缺省的 ctags 程序)，它能够支持多达 33 种程序语言，足以满足我们开发的需要了。</p>
<p>tags
文件的产出最简单的方法是在需要生成 tags 的工程项目的根目录下执行 ctags
-R 命令，
这会调用 tags 递归的扫描当前目录以及所有子目录中可以被 tags 识别的文件所以文件数据信息都会汇集到 tags 文件中。</p>
<p>Tagbar 依赖 ctags，所以需要先安装 ctags。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt-get install ctags</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Q: 打开 vim 时提示，“ Please check your g:tagbar_ctags_bin setting.
”
<ul>
<li>A: <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt install ctags</span><br></pre></td></tr></tbody></table></figure></li>
</ul></li>
</ul>
<!--

[vim插件ctags的安装和使用](https://blog.csdn.net/G_BrightBoy/article/details/16830395)

-->
<ul>
<li>Q: Tagbar: Exuberant ctags not found at '/usr/bin/ctags'! Please
check your g:tagbar_ctags_bin setting.</li>
<li>A: sudo apt install exuberant-ctags
<ul>
<li>exuberant-ctags: build tag file indexes of source code
definitions</li>
</ul></li>
</ul>
<h3 id="nerd-tree"><a href="https://github.com/preservim/nerdtree">NERD-tree</a></h3>
<p>NERDTree 的作用就是列出当前路径的目录树，一般 IDE 都是有的。可以方便的浏览项目的总体的目录结构和创建删除重命名文件或文件名。</p>
<ul>
<li><p><a href="https://www.jianshu.com/p/eXMxGx">NERDTree 插件</a></p></li>
<li><p>:NERDTreeFind 找到当前文件的目录 </p></li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Ctrl + F to find the file's directory</span><br><span class="line"># Configure in ~/.vimrc .</span><br><span class="line">map &lt;C-f&gt; :NERDTreeFind&lt;CR&gt;</span><br></pre></td></tr></tbody></table></figure>
<h1 id="设置快捷键">设置快捷键</h1>
<ul>
<li><p><a href="https://blog.csdn.net/u012291393/article/details/78650512">Vim 中的自定义快捷键</a></p></li>
<li><p><a href="https://www.cnblogs.com/nucdy/p/5251659.html">Ubuntu 终端常用的快捷键</a></p></li>
</ul>
<h2 id="vim-配置">vim 配置</h2>
<p><a href="https://stackoverflow.com/questions/15685729/vim-what-is-the-difference-between-let-g-let-b-etc">VIM
: What is the difference between let g:, let b:</a><br>
  :set is for setting options, :let for assigning a value to a variable.
ps. vim 专用</p>
<h3 id="vimrc-文件配置">.vimrc 文件配置</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 文件编码</span><br><span class="line">set encoding=utf-8</span><br><span class="line"># 显示行号</span><br><span class="line">set number</span><br><span class="line"># 取消换行</span><br><span class="line">set nowrap</span><br><span class="line"># 显示光标当前位置</span><br><span class="line">set ruler</span><br><span class="line"># 设置缩进</span><br><span class="line">set cindent</span><br><span class="line">set tabstop=2</span><br><span class="line">set shiftwidth=2</span><br><span class="line"># 突出显示当前行</span><br><span class="line">set cursorline</span><br><span class="line"># 查找</span><br><span class="line">set ic</span><br><span class="line">set hls</span><br><span class="line">set is</span><br><span class="line"># 左下角显示当前 vim 模式</span><br><span class="line">set showmode</span><br><span class="line"># 代码折叠</span><br><span class="line">set nofoldenable</span><br><span class="line">主题</span><br><span class="line">syntax enable</span><br><span class="line">set background=dark</span><br><span class="line">colorscheme solarized</span><br></pre></td></tr></tbody></table></figure>
<p><a href="https://www.cnblogs.com/yangjig/p/6014198.html">vim 使用技巧_快捷键</a></p>
<h1 id="references">References</h1>
<ul>
<li><a href="https://www.jianshu.com/p/1839f1fb3f08">vim 插件管理器
Vundle 安装与配置</a></li>
<li><a href="https://www.cnblogs.com/zhangsf/archive/2013/06/13/3134409.html">将 Vim 改造为强大的 IDE—Vim 集成</a><br>
</li>
<li><a href="https://blog.csdn.net/firebird321/article/details/49722661">安装若干
VIM 插件</a></li>
</ul>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Programming</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>解读 Waymo Public Road Safety Performance Data</title>
    <url>/AV/waymo-safety-report-2020/</url>
    <content><![CDATA[<p>[toc]</p>
<p>在 2018 年 3 月的亚利桑那州坦佩市，一辆 Uber
自动驾驶汽车撞死一名行人的事件至今让人们心有余悸，安全问题自那次事件之后饱受争议。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/Uber_hit_cyclist.png" alt="Uber 自动驾驶撞死行人事故">
<figcaption aria-hidden="true">Uber 自动驾驶撞死行人事故</figcaption>
</figure>
<p>2020 年 10 月 末，自动驾驶领域的领跑者 -- Waymo，在其 <a href="https://waymo.com/safety">官网</a>
首次公开披露了其在凤凰城运营自动驾驶汽车的里程和碰撞数据，本文基于这份报告，提炼一些观点和数据。</p>
<p>报告传送门：<a href="https://storage.googleapis.com/sdc-prod/v1/safety-report/Waymo-Public-Road-Safety-Performance-Data.pdf">Public
Road Safety Performance Data</a></p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/waymo_fleet.png" alt="Waymo 自动驾驶车队">
<figcaption aria-hidden="true">Waymo 自动驾驶车队</figcaption>
</figure>
<p>在这份总结了过去 21 个月（2019 年全年和 2020 年前 9
个月）凤凰城郊区自动驾驶汽车运营报告中，Waymo 承认其自动驾驶汽车卷入了
18 起碰撞事故，还有 29 次是 “差点出事故”（在模拟器中），并表示
“几乎所有” 这些碰撞事件都是人类司机或行人的过错，而且没有造成任何 “严重或危及生命的伤害。</p>
<p>报告将碰撞方式分为 “单车事件” 和 “多车辆事件”，其中单车事件包含： 1.
涉及道路偏离、与道路环境 / 基础设施或其他固定对象接触的事件； 2.
涉及机动车辆行驶的事件，碰到行人或骑自行车的人； 3.
车辆被行人或骑自行车的人撞到的事件。</p>
<p>前两种情况相加，能占到致命碰撞贡献率的 60%。</p>
<p>多车辆事件则包括：</p>
<ol type="1">
<li>倒车碰撞</li>
<li>侧擦碰撞</li>
<li>正面碰撞</li>
<li>或对方逆行、追尾碰撞</li>
<li>在十字路口或拐角处的碰撞等等。</li>
</ol>
<p>在论文中，Waymo case by case 地概述了其他人类驾驶员的 “违反道路规则”
是如何导致 “严重” 碰撞的。</p>
<h1 id="专业名词介绍">专业名词介绍</h1>
<ul>
<li>automated vehicles (AVs)</li>
<li>automated driving system (ADS)</li>
<li>operational design domain (ODD)</li>
</ul>
<!--
- conflict-avoidance or collision-avoidance
- the Waymo vehicle was stopped or traveling straight in a designated lane at or below the speed limit.
- above the posted speed limit
- a dedicated left turn lane
- traffic controls or traffic conditions
- relative contact speeds 相对碰撞速度
- a speed bump
- slip lanes
- failed to obey the applicable traffic control device
-->
<h1 id="abstract">Abstract</h1>
<ul>
<li><p>这份报告总结了 Waymo 在凤凰城 (Phoenix) 测试区域的 610
万英里的自动驾驶测试数据，包括有车上安全员监管 ( trained operator behind
the steering wheel) 的自动驾驶，和 65000 英里的没有安全驾驶员无人驾驶
(driverless operation)。 &gt; The data presented in this paper
represents more than 6.1 million miles of automated driving in the
Phoenix, Arizona metropolitan area, including operations with a trained
operator behind the steering wheel from calendar year 2019 and 65,000
miles of driverless operation without a human behind the steering wheel
from 2019 and the first nine months of 2020.</p></li>
<li><p> 报告中承认，这段测试期间 Waymo 自动驾驶汽车卷入了 18
起真实的碰撞事故和 29
次仿真事故 (被安全驾驶员及时接管，但是在模拟器中发生碰撞事故)，所幸<strong>均没有造成致命伤害</strong>。
&gt; There were 47 contact events that occurred over this time period,
consisting of 18 actual and 29 simulated contact events, none of which
would be expected to result in severe or life-threatening
injuries</p></li>
<li><p>Waymo
表示，绝大多数事故都和人类驾驶员的不守规则和其他错误相关；由其他司机不谨慎行为诱发的事故频率清楚地提醒人们，只要自动驾驶汽车与人类司机共享道路，避免碰撞就是一大挑战。
&gt; Nearly all the events involved one or more road rule violations or
other errors by a human driver or road user. &gt; The presence of
collisions that resulted from challenging situations induced by other
drivers serves as a reminder of the limits of AV collision avoidance as
long as AVs share roadways with human drivers.</p></li>
<li><p> 在 Waymo
看来，报告不只是向公众公开测试里程和事故，更是做了一个向公众分享自动驾驶行驶安全的一个例子。
&gt; The long-term contributions of this paper are not only the events
and mileages shared, but the example set by publicly sharing this type
of safety information.</p></li>
</ul>
<p>目前，很多自动驾驶的公司可能都在努力创造一个 “黑匣子”，仅在最受控制的环境下向公众展示其技术领先性、跑了多少里程、拿了多少牌照，很少像
Waymo 这样向外界详细披露自动驾驶汽车在现实生活中短板，开始直面问题。</p>
<h1 id="introduction">Introduction</h1>
<ul>
<li>报告的目的是公开更多数据，来尽力提高公众对自动驾驶车辆的信心和接受程度
(acceptance)。 &gt; The purpose of this paper is to make available
relevant data to promote awareness and discussions that ultimately
foster greater public confidence in AVs.</li>
</ul>
<h2 id="public-road-testing">Public Road Testing</h2>
<ul>
<li>在测试初期，为了保证 AVs
在公开道路测试时的安全和行为合理，会有经过培训的驾驶员坐在驾驶员的位置，随时准备接管车辆。
&gt; In order to perform initial public road testing of AVs in a safe
and responsible manner, trained vehicle operators are seated in the
driver’s seat and can take over the driving task at any time.</li>
</ul>
<h2 id="the-role-of-counterfactual-what-if-simulation">The Role of
Counterfactual (“What If”) Simulation</h2>
<p>Waymo
统计了经过培训的安全驾驶员控制车辆以避免碰撞的事件，然后工程师们会模拟如果驾驶员没有接管车辆自动驾驶系统的话会发生什么，从而产生一个反事实或
“假设”
出来的推断情景。他们利用这些事件来不断检验调整汽车的临场决策反应，然后利用这些数据改进其自动驾驶软件。</p>
<ul>
<li><p>反现实的仿真用来预测自车在接管后的一段时间内的表现，给我们提供如果安全员没有接管，那么自车会发生什么的视角。
&gt; Counterfactual disengagement simulation is used to represent the
predicted vehicle response for a brief period (seconds) after
disengagement, and the simulation outcome provides insight into what
could have happened had the trained operator not intervened. &gt; MC:
只能提供极短时间的仿真，否则容易和真实世界背离。另外，需要有精细的模型，可以预期如果没有接管发生，交通参与者的行为。</p></li>
<li><p>反事实的接管仿真可以独立使用 (individually) 也可以聚合使用 (in
aggregate)。 &gt; The outcomes of counterfactual disengagement
simulations are used both individually and in aggregate.</p>
<ul>
<li>独立仿真时间：场景库的虚拟仿真，可以作为评估软件开发的测试集。 &gt;
Individual counterfactual disengagement simulation: If the simulation
outcome reveals an opportunity to improve the behavior of the ADS, then
the simulation is used to develop and test changes to software
algorithms. The disengagement event is also added to a library of
scenarios, so that future software can be tested against the scenario.
&gt;
在细分领域，自动驾驶的策略会随着接管场景而发生调整和变化，容易造成回滚，而这些场景集合可以作为软件的回滚测试的一部分。</li>
<li>聚合使用：评估 AVs 的路测表现。 &gt; At an aggregate level, Waymo
uses results from counterfactual disengagement simulations to produce
metrics relevant to the AV’s on-road performance.</li>
</ul></li>
<li><p> 软件进化带来的仿真不可复现性问题 &gt; Waymo’s models will
continue to evolve, and even for these brief simulations, future models
may result in different simulated outcomes.</p></li>
</ul>
<!--
> 甩锅句子，仿真如何和描述不符，那是算法更新导致的。
-->
<h2 id="aims-and-contributions-of-this-paper">Aims and Contributions of
this Paper</h2>
<ul>
<li><p>报告包括在 610 万英里测试中的事故总计和事故描述
(包括真实的事故和实际接管但发生仿真事故)。这部分里程，相当于美国普通持证司机
500 多年的驾驶里程。 &gt; This paper includes safety data in the form of
event counts and event descriptions from over 6.1 million miles of
driving conducted in the Waymo Driver’s driverless ODD. This mileage
figure represents over 500 years of driving for the average U.S.
licensed driver.</p></li>
<li><p> 本文提供了两种信息：一种是在或无安全驾驶员情况下的真实碰撞（actual
contact
event）；一种是驾驶员接管，但是在后续的仿真中发生碰撞的，但是因为安全员接管实际没有发生碰撞。
&gt; For these miles, this paper provides information regarding</p>
<ol type="1">
<li>every actual contact event that vehicles were involved in during
driverless operation with and without trained operators, as well
as<br>
</li>
<li>events in which the vehicle’s trained operator disengaged and
subsequent counterfactual simulation resulted in any contact between the
AV and the other agent, had the disengagement not occurred</li>
</ol></li>
</ul>
<p>在 2019 年 1 月至 12 月期间，Waymo 在自动驾驶模式下行驶了 610
万英里。从 2019 年 1 月到 2020 年 9 月期间，Waymo 在无人驾驶模式下行驶了
6.5 万英里。该公司表示，综合来看这相当于 “美国普通持证司机 500
多年的驾驶时间”。</p>
<h1 id="methods">Methods</h1>
<h2 id="data-sources">Data sources</h2>
<ul>
<li>Waymo 自动驾驶软件的最高速度是 45 英里每小时，换算成公里数是
72.4km/h。除了大雨和沙尘暴天气，会在白天和夜间进行无人驾驶测试。 &gt;
The ODD includes roadways with speed limits up to and including 45 miles
per hour. Driverless operations occur at all times day and night, except
during inclement weather including heavy rain and dust storms.</li>
</ul>
<!--

45 miles/h =  72.4km/h

-->
<p>报告分享的数据来源于两方面： - 无人驾驶（Driverless
operation），即车上没有驾驶员，在整个过程中由自动驾驶系统 (automated
driving system) 控制车辆。 &gt; Driverless operation, in which the
automated driving system controls the vehicle for the entire trip
without a human driver behind the wheel or otherwise being available to
<strong>assume</strong> any part of the driving task.<br>
&gt; MC: 这种模式下，在 2019 年初到 2020 年九月底的测试里程是 6.5
万英里。</p>
<ul>
<li>由驾驶员的自动驾驶（Self-driving with trained
operators）：虽然由自动驾驶系统控制车辆，但是车上有安全驾驶员可以随时接管车辆。
&gt; Self-driving with trained operators , in which the automated
driving system controls the vehicle but there is a trained vehicle
operator in the driver’s seat who can disengage and take over the
driving task.<br>
&gt; MC: 这种模式下，2019 年全年的测试里程是 6.1
百万里程。提供一整年的测试数据，可以控制和规避潜在的季节影响
(controlling for potential seasonality
effects)。在评估自车表现时，不能忽略季节影响，比如秋天有落叶误感，方向盘急打要比冬季严重。</li>
</ul>
<h2 id="data-from-actual-collisions-and-minor-contacts">Data from Actual
Collisions and Minor Contacts</h2>
<ul>
<li>数据包括自动驾驶 (self-driving with trained operators mode)
或无人驾驶 (driverless mode) 模式下每一个真实碰撞 (actual collision)
和小事故 (minor contact event)，甚至包括行人撞上静止自车的事故。 &gt;
This definition encompasses not only every severity of collision, but
also events such as a pedestrian walking into the side of the stationary
AV.</li>
</ul>
<!--
- 难以相信，怎么还有行人撞上静止自车的情况呢？
-->
<h2 id="data-from-counterfactual-what-if-simulation">Data from
Counterfactual (“What If”) Simulation</h2>
<h3 id="simulation-of-the-av-motion-post-disengagement">Simulation of
the AV motion post-disengagement</h3>
<ul>
<li>接管后的仿真 (post-disengage simulation) 第一步，就是仿真自车的表现
(AV’s counterfactual post-disengage
motion)。这样的仿真比较简单，容易快速实现。 &gt; The first step in
post-disengage simulation is therefore to simulate the AV’s
counterfactual post-disengage motion. &gt; This is performed by
providing a simulation running Waymo self-driving software with the AV’s
pre-disengage position, attitude, velocity, and acceleration along with
the AV’s recorded sensor observations and simulating the response of the
software and resulting motion of the Waymo vehicle.</li>
</ul>
<!--

条件状bai语从句中的虚拟语du气，对过去zhi的虚拟，had提前dao，省掉if
- (If sb) had done sth, sb would have not done.
  * 如果某人做了bai...，某人就不会...，例句：
- If he had taken my advice, he wouldn't have failed. 

or

- Had he taken my advice, he wouldn't have failed.

-->
<ul>
<li><p> 检测是否和其他交通参与者有碰撞，重叠的位置 (overlapping
positions) 意味着有潜在的碰撞 (potential collision)。 &gt; Overlapping
positions indicate a potential collision. After the AV’s post-disengage
motion is simulated, a check is performed to determine if the simulated
positions of the AV overlap at any point with the recorded positions of
other agents.</p></li>
<li><p> 仿真第二步：在接管和仿真两种情况下，自车的行为存在不一致
(比如位置和速度不一样)，那么就会影响其他参与者的行为，所以做仿真时，参与者的行为可能和实际不符，需要为其他交通参与者重新建模
(modeling the behavior of other
agents)。这是比较困难的，需要有比较丰富的模型和交互设计。 &gt; This may
not be <strong>realistic</strong> in cases where the other agents would
likely have responded differently to the AV’s counterfactual simulated
motion than they did to the AV’s actual post-disengage motion. In such
cases, further simulation is required.</p></li>
<li><p> 总结一下，接管后的仿真，不仅需要使用恰当的软件，仿真自车的行为，也需要仿真其他交通参与者的行为，而这是比较困难的。</p></li>
</ul>
<h3 id="modeling-of-other-agents">Modeling of other agents</h3>
<ul>
<li><p>为其他交通参与者长时间建模是比较有挑战性的，但是在接管后的短时间内建立冲突避免
(conflict-avoidance) 或避障行为 (collision-avoidance) 是可行的做法。
&gt; While modeling agent behavior over long periods of time is
challenging, understanding plausible conflict-avoidance or
collision-avoidance behavior over the short time horizon following a
disengagement is a more feasible task.</p></li>
<li><p>Waymo 使用人类避障行为模型 (human collision avoidance behavior
models)
来反映短期内障碍物的表现；可以使用离散的多因素 (反应时间、刹车和打方向盘的力度) 来反映交通参与者可行的反应空间
(the space of plausible reactions)。 &gt; Waymo expresses short-term
agent responses using human collision avoidance behavior models. &gt;
These models aim to capture the responses of human drivers,
motorcyclists, cyclists, and pedestrians to collision avoidance
situations, such as braking by a lead vehicle or being cut-off by
another agent who fails to yield right-of-way. &gt; Because only the
agent’s short-term response needs to be modeled, the space of plausible
reactions to such stimuli can be defined using <strong>a discrete set of
factors</strong> such as response times to specific inputs and brake or
swerve ability.</p></li>
<li><p> 因为上述的多因素因环境因人而异 (比如反应时间)，Waymo 在开发和评估
AV 行为时，使用一个范围来表示可能的人类驾驶表现 (a broad spectrum of
potential human driving performance).
为了透明度和简单性，本文使用确定的模型 (deterministic model)
来对一个给定的输入产生给定的输出。 &gt; Waymo considers a broad spectrum
of potential human driving performance in developing and evaluating the
AV, but for transparency and simplicity, the results reported in this
paper are based on deterministic models that generate a single response
to a given input.<br>
&gt; Other methods can be used to capture a range of possible human
responses, such as probabilistic counterfactual outcomes, but they are
more complex.</p></li>
</ul>
<!--
- 他碰上我不应该；就算我的行为不合理，他有避碰的动机和趋势
-->
<ul>
<li><p>Waymo 独有的人类避碰模型是基于现在已有的道路使用者的行为模型
(road user behavior modelling frameworks)，并基于人类自然的避碰模型
(naturalistic human collision) 和差点碰撞的数据 (near-collision)
来校正。 &gt; Waymo’s proprietary human collsion avoidance behavior
models are based on existing road user behavior modelling frameworks and
calibrated using naturalistic human collision and near-collision
data.</p></li>
<li><p> 交通参与者的反应被其刹车和转向性能所限制。Waymo
针对不同类型的交通参与者以及不同的触发场景 (different
stimuli)，使用不同的模型。 &gt; The agent’s response is further
constrained by human braking and steering limitations. Waymo uses
different models for different types of agents, including <strong>heavy
trucks</strong>, pedestrians, and cyclists, and for different stimuli
such as a forward agent braking or an agent emerging from behind an
occlusion.<br>
&gt; MC:
如果单车智能比较高，贴近于人类驾驶员的表现，那么是否可以使用自动驾驶软件的算法模拟车辆的行为；也就是说其他车和自车的表现拟合度比较高，能否使用自车模型来仿真其他车的表现呢？</p></li>
</ul>
<!-- 

参考这些文献，可以用于自己的开发工作中
  
[7] Engström J, Bärgman J, Nilsson D, et al. Great expectations: a predictive processing account of automobile driving, Theoretical Issues in Ergonomics Science , 2018; 19:2, 156-194, DOI: 10.1080/1463922X.2017.1306148
[8] Markkula G, Engström J, Lodin J, Bärgman J, Victor T. A farewell to brake reaction times? Kinematics-dependent brake response in naturalistic rear-end emergencies. Accident Analysis & Prevention , 2016; 95, 209-226.
-->
<ul>
<li>人类避碰模型的使用场合和条件：当仿真接管后的 AV
轨迹和交通参与者的实际轨迹有重叠，那么就会在接管后的仿真中使用人类避障模型
(human collision avoidance behavior models)。 &gt; Human collision
avoidance behavior models are employed for disengagements in which there
is overlap between the simulated post-disengage trajectory of the AV and
the actual post-disengage trajectory of another agent.<br>
&gt; In these cases, instead of using the agent’s recorded
post-disengage trajectory, the post-disengage trajectory of the other
agent is determined by applying the relevant human collision avoidance
behavior model.</li>
</ul>
<h3 id="contact-analysis-of-simulated-collisions">Contact analysis of
simulated collisions</h3>
<ul>
<li>Waymo
仿真分析表明，接管很少会造成实际上的碰撞 (大部分是防御性接管)。事实上，超过
99% 的接管没有仿真的接触 (simulated contact) 发生。 &gt; Our simulation
analysis indicates that disengagements would rarely result in contact.
In fact, in more than 99.9% of disengagements, no simulated contact is
found to occur.<br>
&gt; MC: 因为 Waymo
的软件开发程度比较高，才可以有这样的把握；对于初创期的软件，没有充分的道路测试，切不可使用这样的结论。</li>
</ul>
<p>Waymo
根据伤害可能性、碰撞物体、撞击速度和撞击几何结构分析，以确定某些事故的严重性，。</p>
<ul>
<li>如何碰撞发生，那么如何确定碰撞的严重程度 (event severity) 呢？Waymo
根据碰撞障碍物的类型 (collision object)，相对速度 (impact velocity)
和碰撞位置 (impact geometry) 来确定可能的伤害程度 (likelihood of
injury)。Waymo 使用国家碰撞数据库 (national crash databases)
来为事故严重程度分级 (event severity
category)，事件的统计等级分为预计无伤害 (S0) 到可能的严重伤害 (S1、S2 和
S3)。 &gt; This determination categorizes collisions based on likelihood
of injury and is based on the collision object (e.g., other vehicles,
static objects, or vulnerable road users such as pedestrians or
cyclists), impact velocity, and impact geometry.<br>
&gt; Waymo’s methods for determining event severity category are
developed using national crash databases and are periodically refined to
reflect updated data.</li>
</ul>
<h1 id="results-collisions-and-minor-contacts">Results: Collisions and
Minor Contacts</h1>
<figure>
<img data-src="http://www.waylon.one/downloads/images/blog/classification_of_waymo_collisions.PNG" alt="Collision Categories">
<figcaption aria-hidden="true">Collision Categories</figcaption>
</figure>
<p>上表中的碰撞类型<strong>列</strong>分类 (collision typology)
是根据美国国家机构的专业分类 (using the Manner of Collision categories
from National Highway Traffic Safety Administration (NHTSA) collision
databases such as the Fatality Analysis Reporting System);
碰撞程度<strong>行</strong>分类是基于国际标准 ISO 26262
来评估碰撞的严重程度，从没有伤害的 S0 (no injury expected)
到有关键伤害的 S3 (possible critical injuries
expected)，碰撞的伤害逐渐增大。 &gt; categorized in rows according to
their collision typology using the <strong>Manner of Collision</strong>
categories from National Highway Traffic Safety Administration (NHTSA)
collision databases such as the Fatality Analysis Reporting
System.<br>
&gt; columns categorized by estimated event severity using the ISO 26262
severity classes: S0, S1, S2, and S3, ranging from no injury expected
(S0) to possible critical injuries expected (S3). * MC:
虽然中美两国的交通法规和驾驶习惯不同，但是这样的交通事故分类是可以拿来参考的。</p>
<p>Waymo 报告中的碰撞事故中，没有 S2 或 S3 级别事故发生，最严重的事故是
S1 级别 (airbag-deployment-level)，有 3 次保护气囊弹出。 &gt; There were
no actual or predicted S2 or S3 events. One actual event involved
deployment of another vehicle’s frontal airbags and the Waymo vehicle’s
side airbags.</p>
<p>Waymo
通过和人类的事故相比较，来表明其自动驾驶软件在减少人员伤亡上的可能性。
&gt; Comparison between these human collision statistics and Waymo event
counts provides insight into the Waymo Driver’s opportunity for reducing
injuries and fatalities due to collisions.</p>
<ul>
<li>In total, the Waymo vehicle was involved in 20 events involving
contact with another object and experienced 27 disengagements that
resulted in contact in post-disengagement simulation, for a total of 47
events (actual and simulated).
<ul>
<li>我的困惑点：上述表格中统计的实际碰撞是 18 次，仿真碰撞是 29 次，这和
Waymo 的文字描述是不统一的 (实际碰撞 20 次，虚拟碰撞 27
次)；那么是有数据修正吗，还是我粗心搞错了呢？</li>
</ul></li>
</ul>
<p>报告以图片形式 (diagrams have been provided)，重点关注了 3
个和弱势交通群体的交互事故，以及 8 个有安全气囊弹出的严重事故。 &gt;
Specifically, diagrams have been provided for every actual or simulated
event in which a pedestrian or cyclist was involved (three events) and
every event with actual or simulated airbag deployment for any involved
vehicle (eight events).</p>
<h2 id="single-vehicle-events">Single Vehicle Events</h2>
<p>根据 Manner of Collision 的分类标准，交通事故可以分为单车事故 (single
vehicle events) 和多车事故 (multiple-vehicle events)。 &gt; The Manner
of Collision categories within the NHTSA crash database can be broadly
classified as either single vehicle events, which involve a single
motorized vehicle in transport, or multiple-vehicle events, which
involve the impact of at least two motorized vehicles in transport.</p>
<!--
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[single-vehicle Manner]-\\-&gt;B(events that involve road departure, contact with the roadway environment/infrastructure or other fixed objects, or single-vehicle rollover)</span><br><span class="line">A-\\-&gt;C(events involving the motorized vehicle striking a pedestrian or bicyclist)</span><br><span class="line">A-\\-&gt;D(events involving the motorized vehicle being struck by a pedestrian or bicyclist)</span><br></pre></td></tr></table></figure>
<p>--&gt;</p>
<!---->
<p>Waymo 自动驾驶车辆没有发生偏离车道 (road departure)
和撞上行人的单车事故 (struck a pedestrian or
cyclist)；而这类事故在人类驾驶数据中占比约为 60%。 &gt; The Waymo Driver
did not have any events (actual or simulated) in this data that involved
road departure, contact with the roadway environment/infrastructure or
other fixed objects, or rollover. There were also no collisions (actual
or simulated) in which the Waymo Driver struck a pedestrian or
cyclist.</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Waymo_safety_1.jpg"></p>
<p>Waymo 在减速或者静止时，被行人或滑板车从右侧撞上。 &gt; In each
instance, the Waymo Driver decelerated and stopped, and a pedestrian or
cyclist <strong>made contact with</strong> the right side of the
stationary Waymo vehicle while the pedestrian or cyclist was traveling
<strong>at low speeds</strong>. *
MC：我怀疑自车突然急刹，行人来不及反应而撞上去。</p>
<h2 id="multiple-vehicle-events-reversing-reversing">Multiple Vehicle
Events: Reversing Reversing</h2>
<p>倒车碰撞 (reversing collisions)
事故经常发生在停车场，很少出现在交警报告数据库中。 &gt; Reversing
collisions (e.g., rear-to-front, rear-to-side, rear-to-rear) are usually
associated with parking lot events or occur on local ( ≤ 25 mph)
roadways and do not frequently appear in databases of police-reported
crashes.</p>
<p>In both scenarios, the Waymo vehicle was <strong>stopped or traveling
forward</strong> at low speed and the other vehicle was reversing at a
speed of less than 3 mph at the moment of contact to the side of the
Waymo vehicle.</p>
<h2 id="multiple-vehicle-events-same-direction-sideswipe">Multiple
Vehicle Events: Same Direction Sideswipe</h2>
<p>同方向剐蹭 (sideswipe) 主要发生在变道 (lane changing) 和并道 (lane
merging) 行为时。 &gt; These events are typically experienced during
lane changing or merging maneuvers.<br>
&gt; The Waymo Driver was involved in <strong>ten simulated</strong>
same direction sideswipe collisions.</p>
<h3 id="other-vehicle-changing-lanes-waymo-vehicle-straight">Other
vehicle changing lanes, Waymo vehicle straight</h3>
<p>The other vehicle <strong>changed lanes into</strong> the area
occupied by the Waymo vehicle, which resulted in simulated or actual
<strong>sideswipe collisions</strong>.</p>
<h3 id="other-vehicle-straight-waymo-vehicle-changing-lanes">Other
vehicle straight, Waymo vehicle changing lanes</h3>
<p>In both of these simulations, the Waymo Driver made a <strong>lateral
movement</strong> in front of a vehicle traveling straight <strong>in an
adjacent lane</strong>.</p>
<h2 id="multiple-vehicle-events-head-on-or-opposite-direction-sideswipe">Multiple
Vehicle Events: Head-on or Opposite Direction Sideswipe</h2>
<p>对头碰撞极易发生严重的交通事故 (high severity)。 &gt; Head-on
collisions have the potential for high severity outcomes.</p>
<p>不能期待驾驶员是理性的，或者一定会有避碰动作：道路情况复杂，你永远不知道司机是什么状态，可能是车辆失控
(impaired) 或疲劳驾驶 (fatigued) 等异常情况。 &gt; <strong>The absence
of simulated collision avoidance movement by the other vehicle</strong>
reflects our assumption based on driving behavior and circumstances that
the other driver was significantly impaired or fatigued.</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Waymo_safety_2.jpg"></p>
<p>如何区别示意图中哪部分是真实，哪部分是仿真的：actual collisions are
represented in color, while simulated ones feature a black and white
background. Solid trajectory lines represent those observed in real
life, while dashed trajectories and shaded poses represent simulated
conditions. Diagrams are intended for visual reference only, and are not
drawn to scale.</p>
<h2 id="multiple-vehicle-events-rear-end">Multiple Vehicle Events: Rear
End</h2>
<p>追尾碰撞 (rear end collisions) 是最常见的人类驾驶员的碰撞行为。 &gt;
Rear End collisions are the most common collision type in human-driven
collisions.<br>
&gt; The Waymo Driver was involved in fourteen actual and two simulated
rear end collisions</p>
<!--
- 自车被后方超速车辆追尾
- 自己右转时，避让交通参与者，被后方车辆追尾
-->
<h3 id="rear-end-struck-event-group-waymo-vehicle-stopped-or-gradually-decelerating-for-traffic-controls-or-traffic-ahead-while-traveling-straight">Rear
end struck event group, Waymo vehicle stopped or gradually decelerating
for traffic controls or traffic ahead while traveling straight</h3>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Waymo_safety_3.jpg"></p>
<p>上面的事故，是唯一一个发生在没有安全驾驶员的无人驾驶模式下
(driverless mode)。 &gt; Sole collision in driverless mode, without a
trained operator in the driver’s seat.</p>
<h3 id="rear-end-struck-event-group-waymo-vehicle-moving-slower-while-traveling-straight">Rear
end struck event group, Waymo vehicle moving slower while traveling
straight</h3>
<p>In the other collision, the Waymo vehicle, traveling straight at the
speed limit, was struck by a vehicle traveling 23 (57-35) mph
<strong>over the posted speed limit</strong>.</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Waymo_safety_4.jpg"></p>
<h3 id="rear-end-struck-event-group-in-right-turning-maneuvers">Rear end
struck event group in right turning maneuvers</h3>
<p>These collisions occurred while the Waymo was stationary or near
stationary waiting for crossing traffic to clear after <strong>having
gradually slowed to account for this traffic</strong>.</p>
<h3 id="rear-end-struck-event-with-braking-of-lead-vehicle-during-left-turn">Rear
end struck event with braking of lead vehicle during left turn</h3>
<ul>
<li>自车在路口左转急刹停 (a deceleration to a near
stop)，后面车辆跟车距离不够来不及刹车。 &gt; The remaining rear end
struck collision involved a deceleration to a near stop by the Waymo
Driver while making a left turn in an intersection with a following
vehicle that was traveling at a speed and <strong>following distance
that did not allow for the following driver</strong> to successfully
respond to the Waymo Driver’s braking.</li>
</ul>
<h3 id="rear-end-striking-event">Rear end striking event</h3>
<p>背景车有挑衅行为 (antagonistic
motive)，在前方没有障碍物的情况下，故意插入 (cut in) 自车前方后急刹
(braked hard
immediately)，自车来不及急刹，从后方撞上。这是唯一一起在仿真中，自车追尾其他车的事故。
&gt; The single simulated event in this grouping involved a vehicle that
<strong>swerved into</strong> the lane in front of the Waymo and braked
hard immediately after cutting in despite lack of any obstruction ahead
(consistent with antagonistic motive).</p>
<h2 id="multiple-vehicle-events-angled">Multiple Vehicle Events:
Angled</h2>
<p>Angled collisions, those that are typically seen at intersections and
involve crossing or turning vehicles, account for approximately
<strong>one quarter</strong> of all human-driven collisions and a
similar fraction of the contribution to all human-driven fatalities.</p>
<h3 id="angled-event-group-with-the-other-vehicle-not-yielding-to-waymo-right-of-way">Angled
event group with the other vehicle not yielding to Waymo
right-of-way</h3>
<p>The collisions in this grouping (ten simulated, one actual) involve
<strong>the Waymo vehicle traveling straight in a designated
lane</strong> at or below the speed limit. In all scenarios, the
turning/crossing other vehicle either disregarded traffic controls or
otherwise <strong>did not properly yield right-of-way</strong>.</p>
<p>路权的定义： &gt; Right-of-way is determined based on <strong>the
positions of vehicles prior to contact</strong> with respect to the
<strong>intersection geometry</strong>, roadway markings, and the status
of traffic control devices. Right-of-way is useful as a means of
categorizing some events, but <strong>it can be insufficient to
determine collision responsibilities</strong> since it does not reflect
all road rule violations (e.g. speeding), nor does it provide
information regarding collision avoidability.</p>
<p>为了减少碰撞风险，Waymo 车辆即使在有路权时也会让行 (yielding)。 &gt;
In order to avoid collisions, the Waymo Driver recognizes that
<strong>yielding even when the Waymo vehicle is entitled to right-of-way
may be more appropriate to decrease the risk of collision</strong>, for
example when encountering an incautious other agent.</p>
<p>In both instances, when the simulated Waymo Driver became aware of
the other vehicle's intention to enter the travel lane, the simulated
Waymo Driver initiated braking in an attempt to avoid/mitigate impact. *
如果检查到其他车不让行，那么 Waymo 自车会开始刹车来避免碰撞。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Waymo_safety_5.jpg"></p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Waymo_safety_6.jpg"></p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Waymo_safety_7.jpg"></p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Waymo_safety_8.jpg"></p>
<p>上面这个碰撞不常见，需要认真思考下。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/Waymo_safety_9.jpg"></p>
<p>左转车辆应该礼让直行车辆，如果不礼让，怎么办呢？ Waymo
目前的做法也只能是安全员接管。 &gt; The simulated collision in Figure 9
(Event H) depicts a vehicle making a left turn across the Waymo
vehicle’s travel path. The Waymo Driver’s simulated response to the
vehicle’s action was the initiation of braking just prior to entering
the intersection.</p>
<p>这是最严重的一类碰撞事故 (the most severe collision)。 &gt; It is the
most severe collision (simulated or actual) in the dataset and
approaches the boundary between S1 and S2 classification.</p>
<!--
- Based on the vehicle masses and simulated vehicle speeds and **geometry at impact**, this event is categorized as S1 with expected airbag deployment.

In sum, the collisions in this angled event grouping (ten simulated, one actual) were characterized by the other vehicle failing to yield right-of-way to the Waymo vehicle, and they involved the Waymo vehicle traveling straight with the right-of-way, with a speed at or below the speed limit.
-->
<h2 id="angled-event-group-with-waymo-vehicle-crossing-another-vehicles-path">Angled
event group with Waymo vehicle crossing another vehicle’s path</h2>
<p>The collisions in this grouping involve <strong>four</strong>
simulated collisions, where the Waymo Driver was making a right turn
from a rightmost lane that was either splitting to an additional lane,
or had been the result of two lanes merging to one.</p>
<p>Waymo
向右变道时和右侧车道的直行车辆发生碰撞，类似于国内的自车右转，与自行车道的交互。
&gt; In each event, a passenger vehicle attempted to pass the Waymo
vehicle on the right while the Waymo Driver was slowing to make the
right turn <strong>with the right turn signal activated</strong>.</p>
<h1 id="discussion">Discussion</h1>
<p>这份报告的目的是：供工业界，政策制定者和公众学习；促进关注和讨论，以及加快公众对自动驾驶的接受程度。
&gt; The goal of this transparency is to contribute to broad learning
with the industry, policymakers, and the public; promote awareness and
discussions; and foster greater public confidence in automated
vehicles.</p>
<p>Of the fifteen angled events, eleven events were characterized by the
other vehicle failing to properly yield right-of-way to the Waymo
vehicle traveling straight at or below the speed limit. &gt; MC:
针对自车有路权，其他车辆不让行的情况，Waymo
也依赖安全驾驶员及时接管。</p>
<h2 id="collision-avoidance-management-of-human-driver-related-contributing-factors">Collision
Avoidance: Management of Human-Driver-Related Contributing Factors</h2>
<ul>
<li><p>人类驾驶行为的不稳定性和不安全性，导致了绝大多数的碰撞。几乎所有的事故都是因为其他交通参与者违背交通规则或者交通表现有偏差。
&gt; Humans exhibit a large variation of driving behaviors including
<strong>deviations from traffic rules and safe driving
performance</strong> that can lead to collisions.<br>
&gt; Nearly all events summarized above involved one or more road rule
violations or other driving performance deviations by another
<strong>road user</strong>.</p></li>
<li><p>Waymo
在努力实现不因为自身原因造成碰撞的同时，也尽量减少因为人类走神
(inattention)，激进驾驶 (aggressive driving) 和超速 (speeding)
带来的可能碰撞。 &gt; In addition to Waymo's key focus on not causing
collisions, Waymo also works to mitigate possible collisions due to
human behaviors such as inattention, aggressive driving, and
speeding.</p></li>
<li><p>Although many of these situations would not be present in a
future with a high proportion of AVs, we envision sharing roads with
human drivers for the foreseeable future. <strong>The rare contact
events described in this paper are used to develop enhanced collision
avoidance to improve traffic safety</strong>, and we will continue to
focus on enhancing avoidance of human-induced collisions. &gt;
这些场景在道路上不常见，但是也无法避免，自动驾驶同行可以反思遇到的这些
corner cases.</p></li>
<li><p>Waymo 在努力减少事故发生的可能性
(likelihood)，而不仅仅是避免碰撞。自车的行为，要能够被其他交通参与者
(other road users) 可判断 (interpretable) 和可预测 (predictable)。 &gt;
Beyond collision avoidance, Waymo also continually investigates
improvements to the Waymo Driver’s behaviors to reduce the likelihood of
conflict with human-driven vehicles and other road users.<br>
&gt; This illustrates a key challenge faced by AVs operating in a
predominantly human traffic system and <strong>underscores the
importance of driving in a way that is interpretable and predictable by
other road users</strong>.</p></li>
<li><p> 相比于人类，Waymo
的自动驾驶能力是可以不断提升的，适用到整个车队上。 &gt; Unlike human
drivers, who primarily improve through <strong>individual
experience</strong>, the learnings from an event experienced by a single
AV can be used to permanently improve the safety performance of
<strong>an entire fleet of AVs</strong>.</p></li>
</ul>
<h2 id="aggregate-safety-performance">Aggregate Safety Performance</h2>
<p>Waymo 车辆在单车表现 (single-vehicle collision typology) 和 追尾问题
(rear-end collisions) 上的良好表现，已经优于人类。 &gt; The Waymo Driver
experienced zero actual or simulated events in the “road departure,
fixed object, rollover” single-vehicle collision typology, reflecting
the system's ability to navigate the ODD in a highly reliable
manner.<br>
&gt; In addition, while rear-end collisions are one of the most common
collision modes for human drivers, the Waymo Driver only recorded
<strong>a single front-to-rear striking collision</strong> (simulated)
and this event involved an agent cutting in and immediately braking
without allowing for adequate separation distance (consistent with
antagonistic motive).</p>
<h3 id="lower-severity-collision-risk">Lower-severity collision
risk</h3>
<p>无论是人类驾驶员，还是自动驾驶车辆，轻微事故 (lower-severity events)
发生的频率要高于严重事故 (higher-severity) 的发生频率。 &gt; In both
human-driven and automated vehicles, lower-severity events (S0 and S1)
occur at significantly higher frequency than higher-severity (S2 and S3)
events. As a result, fewer miles are needed to draw statistical
conclusions about S0 and S1 rates.<br>
&gt; When comparing driving data, the mileage needed to reveal
<strong>statistically significant differences also depends on the
magnitude of the differences in the actual rates</strong> being
compared.</p>
<p>For a given metric, the larger the difference in performance, the
fewer miles that are required to establish <strong>statistical
confidence</strong> in a hypothesis of non-inferiority or
superiority.</p>
<p>如何统计和判责 &gt; low-severity data, when evaluated in the context
of each event’s collision geometry, may be informative of high-severity
risk.</p>
<p>现有的道路公开测试，可以为 S0 or S1 提供统计上的支持 (sufficient
statistical signal)。 &gt; The 6.1 million miles in self-driving with
trained operators mode underlying the data in Section 3 <strong>provide
sufficient statistical signal to detect moderate-to-large differences in
S0 and S1 event frequencies</strong>, and Waymo makes use of these event
rates for tracking longer-term improvements to the Waymo Driver.</p>
<h3 id="higher-severity-collision-risk">Higher-severity collision
risk</h3>
<p>现有的道路公开测试，无法为 S2 or S3 提供强有力的统计支持。 &gt; 6.1
million miles does not provide statistical power to draw meaningful
conclusions about the frequencies of events of severity S2 or S3.<br>
&gt; MC：目前的测试里程，可以为 Lower-severity
提供支持，但是不能为偶发的 Higher-severity 提供支持，里面有统计噪声
(statistical noise)。<br>
&gt; At this mileage scale, the statistical noise is extremely large and
zero or low event counts only provide <strong>performance
bounds</strong>, which necessitates the consideration of other metrics
to fully assess the safety of the Waymo Driver.</p>
<ol type="1">
<li><p>通过仿真和封闭场测试来评估高风险的表现. &gt; Waymo uses other
methods to evaluate the higher-severity performance, including both
simulation-based and closed-course scenario-based collision-avoidance
testing.</p></li>
<li><p> 从低风险事故中发掘高风险事故的信息。 &gt; Low-severity data, when
evaluated in the context of each event’s collision geometry, may be
informative of high-severity risk.</p></li>
</ol>
<h3 id="comparison-benchmarks">Comparison benchmarks</h3>
<p>Human driver collision rates have been widely discussed as providing
a benchmark for AVs.</p>
<p>警方统计的交通事故可能会忽略一部分低风险事件 (non-police-reportable
contact)，所以 police-reported 不足以代表人类的真实事故发生频率。 &gt;
By including low-speed events involving non-police-reportable contact
(e.g. a less than 2 mph vehicle-to-vehicle contact or a pedestrian
walking into the side of a stationary vehicle), <strong>the scope of
events is considerably greater than the scope of police-reported or
insurance-reported collisions commonly used to generate performance
baselines</strong>. <strong>As such, comparing the data presented in
this paper to police-reported collision numbers is not an apt
comparison</strong>.</p>
<p>Obtaining reliable event counts that include such minor events
typically requires <strong>analysis of naturalistic driving
data</strong>.</p>
<h2 id="limitations-and-future-work">Limitations and Future Work</h2>
<p>Limitations related to the statistical power of the mileages reported
have been discussed in the above section on aggregate collision
frequencies. &gt; 即，目前的测试里程，可以为 Lower-severity
提供支持，但是不能为偶发的 Higher-severity 提供支持，里面有统计噪声
(statistical noise)。</p>
<h3 id="limitations-of-counterfactual-simulations">Limitations of
counterfactual simulations</h3>
<ul>
<li><p>反事实仿真只是预测，但不是绝对的准确。 &gt; Due to the nature of
human agent behavior, disengagement simulations are not definitive:
counterfactual simulations predict what could have occurred, but cannot
definitively predict exactly what would have occurred.<br>
&gt; As a result, had the driver not disengaged, some of the reported
simulated collisions may not have actually occurred (e.g. other agents
may have behaved differently). Conversely, other events that, in
simulation did not result in contact, may have actually resulted in
collisions (e.g. if the other agent had been distracted at the critical
moment).</p></li>
<li><p>Waymo therefore takes <strong>a cautious approach</strong> to
interpreting both the outcomes of individual collisions and aggregate
performance metrics, and <strong>considers them in the context of other
indicators of AV performance</strong>.</p></li>
</ul>
<h3 id="secondary-collision-in-simulated-events">Secondary collision in
simulated events</h3>
<p><strong>The severities ascribed to the simulated collisions are based
on the single impact depicted in the simulation</strong>. Owing to
complexities in accurately modeling post-impact vehicle dynamics (which
may or may not involve subsequent steering and braking maneuvers from
the other vehicle), the outcome of any secondary collisions that might
occur subsequent to the simulated event are not explicitly modeled.</p>
<p>Waymo
的第一次碰撞，可以包含绝大多数的严重事故，二级事故不是很重要；二次碰撞需求显得不是那么紧迫。
&gt; In Waymo’s ODD, the vast majority of primary vehicle-to-vehicle
collisions (99% for all collisions, 95% for fatal collisions)
<strong>included in police-reported crash databases involve either a
single vehicle-to-vehicle collision event or a subsequent collision
event of equal or lesser severity</strong>.</p>
<h3 id="interpreting-disengage-performance">Interpreting disengage
performance</h3>
<p>Waymo 安全驾驶员的避障表现，不代表人类驾驶员的避障表现。 &gt; Care
should be taken in drawing conclusions based on the collision-avoidance
performance of Waymo’s trained operators during disengagements, which
for the reasons described below, is not predictive of the
collision-avoidance performance of the overall population of human
drivers.</p>
<p>Waymo 驾驶员和普通人类驾驶员的区别在哪里呢？</p>
<ol type="1">
<li>受过专业培训： Waymo vehicle operators are selected from a subset of
the driving population with good driving records and receive instruction
specific to Waymo AVs, <strong>defensive driving</strong> training, and
education regarding fatigue.</li>
<li> 避免被打扰：When operating a vehicle, strict rules are in place
regarding handheld devices including cell phones and operators are
continually monitored for signs of drowsiness.</li>
<li> 注意力更集中：Unlike drivers in human-driven vehicles, while the AV
is in self-driving mode, Waymo’s trained operators do not execute
navigation, path planning, or control tasks, but instead are focused on
monitoring the environment and the Waymo Driver’s response to it.</li>
</ol>
<p>Trained vehicle operators are therefore able to focus their full
attention on being ready to disengage and execute collision avoidance,
and <strong>their performance at this task is expected to be superior to
that of a human in a traditional driving role</strong>.</p>
<h3 id="future-work">Future work</h3>
<p>We expect and invite other safety researchers to review the events
and mileages presented here and make their own findings regarding the
safety performance of Waymo’s operations demonstrated in this data.</p>
<!--
总体感觉羞羞答答，不给全部的数据，告诉你做也不合理，该自己充分的解释余地。
-->
<h1 id="conclusion">Conclusion</h1>
<p>Taken together, these 47 lower severity (S0 and S1) events (18 actual
and 29 simulated, one during driverless operation) show
<strong>significant contribution from other agents</strong>, namely
human-related deviations from traffic rules and safe driving
performance.</p>
<p>The frequency of challenging events that were induced by incautious
behaviors of other drivers serves as a clear reminder of <strong>the
challenges in collision avoidance so long as AVs share roadways with
human drivers</strong>.</p>
<p>由其他司机不谨慎行为诱发的事故频率清楚地提醒人们，只要自动驾驶汽车与人类司机共享道路，避免碰撞就是一大挑战。只要和人类共享道路
(share roads)，完全安全的自动驾驶是不可行的，需要降低过高的期望
(inflated expectations)。 &gt; Statistics regarding the high percentage
of human collisions that are attributed to human error may lead to
inflated expectations of the potential immediate safety benefits of AVs.
AVs will share roads with human drivers for the foreseeable future, and
significant numbers of collisions due to human driver errors that are
simply <strong>unavoidable</strong> should be expected during this
period.</p>
<ul>
<li><p>和人类现有数据比较，碰撞分布发生变化；可以认清楚自动驾驶的优点
(机器稳定以及不知疲倦) 以及劣势，优点可以及早加以利用，但是如何规避缺点却是一个难点。
&gt; Due to the typology of those collisions initiated by other actors
as well as the Waymo Driver’s proficiency in avoiding certain collision
modes, the data presented shows <strong>a significant shift</strong> in
the relative distributions of collision types as compared to national
crash statistics for human drivers.</p></li>
<li><p> 这是业界首次发布百万英里自动驾驶中的碰撞事故。评估自动驾驶汽车安全性没有标准的方法，Waymo
作为行业领头羊的担当，希望通过公布这些数据，推动政策制定者、研究人员甚至其他公司承担制定通用框架的任务。
&gt; This is the first time that information on every actual and
simulated collision or contact has been shared for millions of miles of
automated driving.<br>
&gt; The most significant long-term contributions of this paper will
likely not be the actual data shared, but the example set by publicly
sharing this type of safety performance data and the dialogs that this
paper fosters.</p></li>
</ul>
<h1 id="references">References</h1>
<ul>
<li><a href="https://mp.weixin.qq.com/s/PI0W_bJJ_Jwc2YncOJgexA">新智驾
Waymo 路测报告</a></li>
<li><a href="https://mp.weixin.qq.com/s/fxHBBZG51b7yS4dBfcY39g">Waymo “自曝家丑”，首发最详细自动驾驶报告</a></li>
</ul>
]]></content>
      <categories>
        <category>AV</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Robotics</tag>
        <tag>Paper</tag>
      </tags>
  </entry>
  <entry>
    <title>如何反转 vector (有源码)</title>
    <url>/Programming/vector-reverse/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="stdreverse"><a href="https://cplusplus.com/reference/algorithm/reverse/">std::reverse</a></h2>
<ul>
<li>Reverses the order of the elements in the range [first,last).</li>
</ul>
<h3 id="demo">Demo</h3>
<figure class="highlight c"><figcaption><span>全部反转_demo++</span><a href="/downloads/code/vector_clear.cpp">view raw</a></figcaption><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Method2_erase</span><span class="params">()</span> {</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt; data = ConstructVector();</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight c"><figcaption><span>部分反转_demo++</span><a href="/downloads/code/vector_clear.cpp">view raw</a></figcaption><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 再次打印更新后 vector 容器的大小和容量</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="源码">源码</h1>
<h2 id="源码下载">源码下载</h2>
<p><a href="http://www.waylon.one/downloads/code/vector_reverse.cpp">源码下载</a></p>
<h2 id="编译">编译</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd 文件下载目录</span><br><span class="line">g++ vector_reverse.cpp -o test --std=c++14</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>Programming</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Programming</tag>
        <tag>C Plus Plus</tag>
      </tags>
  </entry>
  <entry>
    <title>C++ vector 清空元素的三种方法 (有源码)</title>
    <url>/Programming/vector-clear/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="clear">clear</h2>
<ul>
<li>A reallocation is not guaranteed to happen, and the vector capacity
is not guaranteed to change due to calling this function.</li>
</ul>
<h3 id="测试">测试</h3>
<figure class="highlight c"><figcaption><span>clear demo++</span><a href="/downloads/code/vector_clear.cpp">view raw</a></figcaption><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Method1_clear</span><span class="params">()</span> {</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt; data = ConstructVector();</span><br><span class="line">  <span class="comment">// 打印 vector 容器的大小和容量</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"original: size = "</span> &lt;&lt; data.size()</span><br><span class="line">            &lt;&lt; <span class="string">" ; capacity = "</span> &lt;&lt; data.capacity() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">  data.clear();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 再次打印更新后 vector 容器的大小和容量</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"new: size = "</span> &lt;&lt; data.size()</span><br><span class="line">            &lt;&lt; <span class="string">" ; capacity = "</span> &lt;&lt; data.capacity() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="输出">输出</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">Method 1</span><br><span class="line">original: size = 5 ; capacity = 5</span><br><span class="line">new: size = 0 ; capacity = 5</span><br></pre></td></tr></tbody></table></figure>
<h2 id="erase">erase</h2>
<ul>
<li><p>Removes from the vector either a single element (position) or a
range of elements ([first,last)).</p></li>
<li><p>An iterator pointing to the new location of the element that
followed the last element erased by the function call.</p></li>
</ul>
<h3 id="测试-1">测试</h3>
<figure class="highlight c"><figcaption><span>erase demo++</span><a href="/downloads/code/vector_clear.cpp">view raw</a></figcaption><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Method2_erase</span><span class="params">()</span> {</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt; data = ConstructVector();</span><br><span class="line">  <span class="comment">// 打印 vector 容器的大小和容量</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"original: size = "</span> &lt;&lt; data.size()</span><br><span class="line">            &lt;&lt; <span class="string">" ; capacity = "</span> &lt;&lt; data.capacity() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">auto</span> iter = data.begin(); iter != data.end();) {</span><br><span class="line">    iter = data.erase(iter);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 再次打印更新后 vector 容器的大小和容量</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"new: size = "</span> &lt;&lt; data.size()</span><br><span class="line">            &lt;&lt; <span class="string">" ; capacity = "</span> &lt;&lt; data.capacity() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt; data1 = ConstructVector();</span><br><span class="line">  data1.erase(data1.begin(), data1.begin() + <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"new: size = "</span> &lt;&lt; data1.size()</span><br><span class="line">            &lt;&lt; <span class="string">" ; capacity = "</span> &lt;&lt; data1.capacity() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="输出-1">输出</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">Method 2</span><br><span class="line">original: size = 5 ; capacity = 5</span><br><span class="line">new: size = 0 ; capacity = 5</span><br><span class="line">new: size = 3 ; capacity = 5</span><br></pre></td></tr></tbody></table></figure>
<h2 id="swap">swap</h2>
<ul>
<li><p>Exchanges the content of the container by the content of x, which
is another vector object of the same type. Sizes may differ.</p></li>
<li><p>After the call to this member function, the elements in this
container are those which were in x before the call, and the elements of
x are those which were in this. All iterators, references and pointers
remain valid for the swapped objects.</p></li>
</ul>
<h3 id="测试-2">测试</h3>
<figure class="highlight c"><figcaption><span>erase demo++</span><a href="/downloads/code/vector_clear.cpp">view raw</a></figcaption><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Method3_swap</span><span class="params">()</span> {</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt; data = ConstructVector();</span><br><span class="line">  <span class="comment">// 打印 vector 容器的大小和容量</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"original: size = "</span> &lt;&lt; data.size()</span><br><span class="line">            &lt;&lt; <span class="string">" ; capacity = "</span> &lt;&lt; data.capacity() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;().swap(data);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 再次打印更新后 vector 容器的大小和容量</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"new: size = "</span> &lt;&lt; data.size()</span><br><span class="line">            &lt;&lt; <span class="string">" ; capacity = "</span> &lt;&lt; data.capacity() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="输出-2">输出</h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">Method 3</span><br><span class="line">original: size = 5 ; capacity = 5</span><br><span class="line">new: size = 0 ; capacity = 0</span><br></pre></td></tr></tbody></table></figure>
<h1 id="区别">区别</h1>
<ul>
<li>vector 内存占用空间只会增长，不会减小。比如你首先分配了 10,000
个字节，然后 erase 掉后面 9,999
个，则虽然有效元素只有一个，但是内存占用仍为 10,000 个。所有空间在
vector 析构时回收。</li>
<li>如果想清空原来数据占用的空间，我们可以通过交换技术
swap, 就是通过交换函数 swap ()，使得 vector
离开其自身的作用域，从而强制释放 vector 所占的内存空间.</li>
</ul>
<h1 id="源码">源码</h1>
<h2 id="源码下载">源码下载</h2>
<p><a href="http://www.waylon.one/downloads/code/vector_clear.cpp">源码下载</a></p>
<h2 id="编译">编译</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd 文件下载目录</span><br><span class="line">g++ vector_clear.cpp -o test --std=c++14</span><br></pre></td></tr></tbody></table></figure>
<h1 id="reference">Reference</h1>
<ul>
<li><a href="https://www.cnblogs.com/zhanggaofeng/p/9338681.html">C++
vector 清空元素的三种方法</a></li>
</ul>
]]></content>
      <categories>
        <category>Programming</category>
      </categories>
      <tags>
        <tag>Weekly Blogs</tag>
        <tag>Programming</tag>
        <tag>C Plus Plus</tag>
      </tags>
  </entry>
  <entry>
    <title>西安三日行</title>
    <url>/Trip/xian-trip-2023/</url>
    <content><![CDATA[<p>[toc]</p>
<p>2023 年元旦假期，新冠疫情刚刚肆虐过，疫情的恐惧还没有消散。</p>
<p>作为率先走出家门的人，我们在西安逗游三天。我们去西安的初衷，是希望可以尽可能多地了解华夏五千年的历史，所以我们整个旅行的侧重点是历史遗迹和文物欣赏。</p>
<span id="more"></span>
<p>2022 年 12 月 30
日下班后，我们背着两个小包，轻装简行，从北京出发，乘坐高铁当天深夜抵达西安。</p>
<h2 id="旅行建议">旅行建议</h2>
<ul>
<li><p>酒店选在钟鼓楼附近，此处到西安景点距离都比较近。</p></li>
<li><p>陕西历史博物馆 和 大唐芙蓉园
需要提前预约门票，大唐不夜城是开放式步行街，不需要提前预约。</p></li>
<li><p>陕西历史博物馆在负一楼有食堂，逛累了可以不出馆补充下能量。</p></li>
<li><p>在经济条件许可情况下，人工讲解体验会更好。</p></li>
<li><p>兵马俑毕竟是陪葬物品，不要在兵马俑合照，不适合购买兵马俑，更不适合送人。</p></li>
</ul>
<h2 id="第一天">第一天</h2>
<h3 id="陕西历史博物馆">陕西历史博物馆</h3>
<p>我们到西安的第一站，就是<a href="https://www.sxhm.com/">陕西历史博物馆</a>，主要是陕西古代史陈列。</p>
<p>我们从上午 11 点开始参观，在下午 5
点博物馆闭馆时才出来，中午饭在馆内的负一楼餐厅解决，所以基本是全天在馆内接受历史熏陶，但是展品实在太多，很多都是粗略看一看。</p>
<p>大概是元旦假期，展馆内非常拥挤，丝毫感受不到疫情的影响。我们预约不上导游，所以租借馆内讲解器，30
元 / 人，每个设备只有一个耳机，不能够多人共享；同时因为场馆人声鼎沸，讲解器声音音量就显得比较小，经常听不清楚；同时讲解器还需要输入展品编号来听取内容，体验很不好。</p>
<p>陕西历史博物馆基本展厅共分三个。</p>
<p><strong>第一个展厅</strong>主要是介绍从先前 (约数十万年前)
到仰韶文化，再到周朝，直至秦朝的历史。</p>
<ul>
<li><p>先民遗存部分主要是陶器展览。在远古时代没有开化时，主要的文物是陶器，这部分陶器和饮食居住紧密相关，非常有生活气息看着陶器你能够感受到古人的创意和文明的曙光。</p></li>
<li><p>周朝主要是青铜器展览，可以看到高超的青铜铸造技术。</p></li>
<li><p>秦朝主要是兵马俑展览，在现场可以感受到 “兵马俑军阵” 的磅礴的气势和鲜明的军事特征。</p></li>
</ul>
<p><img data-src="/downloads/images/IMG_3421.JPG" alt="IMG_3421" style="zoom:50%;"></p>
<p>这个展厅给我的一个直观感受是，古人非常懂得审美，比如在陶罐上绘制图案，陶器也因为用途而形状各异。我们现在有很多历史文创，为什么这部分造型优美的瓷器就没有考虑在内呢？我也感受到文明的延续性，可以感受到文明和制度是如何逐渐演变和完善的。</p>
<p><strong>第二展厅</strong>主要是汉朝的历史，通过一件件文物，你可以感受到汉代繁荣的经济和文化，以及开始对外开放与交往。</p>
<ul>
<li>秦砖汉瓦，汉朝新增了瓦当的文物。</li>
</ul>
<p><strong>第三个展厅</strong>是隋唐历史，重点介绍大都会长安，以及丝绸之路。因为时间关系，自己后续参观的比较快，有点走马观花，同时文物审美也比较累了。</p>
<ul>
<li><p>唐朝新增的文物主要有钱币、服装、娱乐等，比如唐三彩等。</p></li>
<li><p>遗憾的是，唐朝后陕西就告别了帝都，但作为西部重镇，依然独具魅力的文化创造和精神传承。</p></li>
</ul>
<p><img data-src="/downloads/images/IMG_3422.JPG" alt="IMG_3422" style="zoom:50%;"></p>
<p>我们自行参观时没有侧重点，不清楚哪部分历史和文物有分量，自己更多是在欣赏文物的美，了解文物背后的故事，感慨古人的智慧。</p>
<h3 id="大唐芙蓉园">大唐芙蓉园</h3>
<p>从博物馆出来，天色已经暗下来，我们乘车前往大唐芙蓉城。大唐芙蓉园是围绕湖而建设的仿古建筑群，复现唐代皇家园林式样，里面最知名的有御苑门、紫云楼。</p>
<p>因为我们已经提早预约到票，入园不需要额外购票。如果暂时没有抢到票，可以抽空多刷刷，说不定就可以刷到一张释放的票。</p>
<p>园区环湖而建，非常大。因为是冬季，树木凋零，没有觉得非常有特色，我们从御苑门入门，简单在园区内走一走。</p>
<p>在登顶紫云楼时，灯光逐渐打开，这是让自己开心的事情。我们爬上紫云楼 4
层俯瞰，环绕周围的建筑都可以看到，在灯光的装饰下非常美丽。</p>
<p><img data-src="/downloads/images/IMG_3423.JPG" alt="IMG_3423" style="zoom:50%;"></p>
<p>因为时间关系，我们更想早点去大唐不夜城，所以我们直接出园。</p>
<ul>
<li><p>没有灯光的芙蓉城看起来就是仿唐古建筑群，灯光会给芙蓉城增加不少的特点。</p></li>
<li><p>大唐芙蓉城环湖非常大，环湖走下来大概需要一两个小时，我们只是去最精华的紫云楼看一下。</p></li>
<li><p>在大唐芙蓉园有很多穿唐装的小姐姐们，冒着寒冷在拍照。</p></li>
</ul>
<h3 id="大唐不夜城">大唐不夜城</h3>
<p>大唐芙蓉园和大唐不夜城相隔不远，我们从 大唐芙蓉城 直接步行到
大唐不夜城。大唐不夜城其实是开放式步行街，步行街两边是以盛唐文化为背景的大型仿唐建筑群，不需要预约和门票。</p>
<p>我们沿着步行街逛逛，往返两圈，街区陆陆续续有音乐演艺、行为艺术表演和水舞光影秀等，我们还偶遇 “不倒翁小姐姐”，但是表演时非常拥挤，根本挤不到里面，只能在远处看；沿途的小吃味道实在不敢恭维。</p>
<p>我们顺着 大唐不夜城
街道居然不知不觉走到大雁塔，但是大雁塔最近不对外开放，只能够远处拍照。</p>
<p><img data-src="/downloads/images/IMG_3424.JPG" alt="IMG_3424" style="zoom:50%;">大雁塔旁边就有大悦城商场。因为是跨年时候，商场也比较热闹，很多小吃店都卖光或者缺货，店铺非常拥挤，感觉商家也是刚从疫情恢复过来，一下子适应不了这么大的人流量，我们也是折腾比较久才吃上饭。</p>
<p>在跨年的一刻，我们呆在酒店里，但是可以听到此起彼伏的烟花声响。虽然有禁放令，但是西安可能对燃放烟花要求不严格，时常有人燃放烟花，这弥散的火药味和热闹的爆竹声，非常有过节的感觉。</p>
<!--唉，其实这个时刻，已经透漏出各地对烟花的态度，而自己却不能预先感知到。-->
<h2 id="第二天">第二天</h2>
<h3 id="秦始皇兵马俑博物馆">秦始皇兵马俑博物馆</h3>
<p>兵马俑博物馆不在市区，我们从西安市区出发，地铁转公交可以直达秦陵，交通还是比较便利。</p>
<p>我们在 11 点 20 分到达秦始皇帝陵博物馆，在门口拼野导游，每人 20
元的讲解费用。</p>
<p>在导游的安排下，我们依次游览了一号坑、三号坑和二号坑。</p>
<ul>
<li>一号厅就是我们在历史课本上看到的那张图，主要是陶俑和陶马，但是面积非常大，一眼望不到边。站在秦朝军阵面前，气势恢宏的尚武文化扑面而来。
<ul>
<li>在现场可以看到没有发掘的，有点支离破碎的陶俑，同时还有文物在修整，暂时没有进入军列中。</li>
</ul></li>
<li>三号坑的规模较小，属于未完工的指挥厅。</li>
</ul>
<p>从三号坑出来后，我们被导游带去一个内部的钱币博物馆，那是导游带着我们购物。虽然知道不太值，我们还是花费购买了两张纪念钞票
— 秦始皇帝陵博物馆 30
周年纪念，199 元 / 张。我实在想不明白，一个钱币博物馆，为什么会开在景区内部呢？</p>
<p><img data-src="/downloads/images/IMG_3426.JPG" alt="IMG_3426" style="zoom:25%;"></p>
<p>我们接着参观二号坑，基本没有怎么发掘，有一部分特色的兵马俑供大家近距离拍照和参观，这比一号俑坑的兵种更齐全。导游在这个景点只是简单绕一下，没有认真讲解，所以唯一一个能够长时间参观的就是一号坑。</p>
<p><img data-src="/downloads/images/IMG_3425.JPG" alt="IMG_3425" style="zoom:50%;"></p>
<ul>
<li><p>讲解员导游为了让内容更有趣，往往加入不少的野史，讲解内容并不规范。人工导游是可以撑起来一大片经济，相比之下讲解仪器就要差一点。</p></li>
<li><p>现在的导游都是软消费，在讲解时会穿插后续的购物需求，比如导游在浏览时会反复强调某个景点好，都是在给未来推销，让你消费时提前埋点，输入软消费信息，让你不知不觉就愿意购物和消费。</p></li>
<li><p>导游介绍说，兵马俑毕竟是陪葬物品，尽量不要和兵马俑合照，不适合购买兵马俑复制品送人。</p></li>
</ul>
<p>秦始皇帝陵没有进一步的发掘打算，所以我们有生之年是无法获知里面的设计的。</p>
<h3 id="丽山园">丽山园</h3>
<p>我们 120 元的门票，还包含 “秦始皇帝陵博物院・
丽山园”。参观完秦始皇兵马俑博物馆后，免费乘坐景区的免费大巴车，可以直接抵达秦始皇的丽山园。</p>
<p>这个园区非常大，所以有免费的导游和摆渡车，我们在里面参观了 k9901
(1999 年 1 月发掘)
陪葬坑、铜车博物馆，在这里可以远远遥望秦始皇帝陵封土。</p>
<ul>
<li><p>k9901 陪葬坑非常有特点，里面有百戏陶俑等，更偏娱乐性质。</p></li>
<li><p>丽山园区非常大，景点之间即使乘坐摆渡车，也需要走比较长的距离，非常不建议离队步行。</p></li>
<li><p>讲一个有意思的事情，导游说今天是他最近第二天上班，之前因为疫情一直呆家里，第一天上班有点不熟悉讲解内容，容易卡住，今天就比较顺利一点。</p></li>
</ul>
<p>因为在这里耽误时间比较久，我们大概是 5
点多才出来，出来时路过一个购物场所，我购买一本未出版的书 — 秦始皇帝陵探秘，属于科普和收藏性质。我回到家后，也没有花时间阅读这一本书，反而是一直放在书架上。</p>
<h3 id="洒金桥">洒金桥</h3>
<p>大概在晚上 7
点返回市区，我们直接去洒金桥小吃街。从洒金桥地铁站出来随着人流就会走到洒金桥步行街。</p>
<p>这边回民本地人比较多，没有被过分商业化，我们在里面购买牛肉饼、酸菜饺子等，味道还不错，要远远好于大唐不夜城的小吃。</p>
<h3 id="回民街">回民街</h3>
<p>从洒金桥离开后，大概在晚上 10
点多，我们去酒店旁边的鼓楼逛逛，意外发现鼓楼后面就是热闹的回民街。虽然是夜里
10
点，但是路上依然是人挤人，自己沿着回民街，然后拐到西羊市，路过大西碗，最后转圈回到钟楼。钟楼在灯光映衬下，非常的美丽和大气。据说钟楼最佳观景位是开元商城五楼的观景平台，但是因为时间晚，自己没有过去。</p>
<p><img data-src="/downloads/images/IMG_3427.JPG" alt="IMG_3427" style="zoom:50%;"></p>
<p>再建议一下，酒店尽量安排在钟鼓楼附近，到哪里都比较近。</p>
<h2 id="第三天">第三天</h2>
<h3 id="钟楼">钟楼</h3>
<p>我们大概在 10 点半登上钟楼，30
元 / 人，钟楼共两层，钟楼的每一层都陈列一些历史介绍和展览。</p>
<p>钟楼位于市中心，临近中午，我们坐在钟楼的第一层，看着四通八达、川流不息的车辆；任由阳光洒在身上，非常的惬意，这一刻的阳光是留给我们两个人。</p>
<h3 id="碑林博物馆">碑林博物馆</h3>
<p>下午，徒步到<a href="http://www.beilin-museum.com/">西安碑林博物馆</a>，主要陈列历代碑石、墓志及石刻造像。门票是
50 / 人，共有七个展室和几个艺术馆，内容非常详实，如果时间充足，这里面足够观看一天时间的。</p>
<p>我不太懂石刻欣赏，所以租借讲解器，30
元 / 人，但是我发现讲解器还是不如导游，因为导游可以现场指出来哪部分文字比较好，互动性更好，讲解器就显得很生硬，后续如果有机会，还是请导游比较好。</p>
<p>碑林博物馆文物特别多，文字碑石居多，需要静下心花时间才能够欣赏，而自己因为赶时间，没有时间慢慢欣赏，算是粗略看一遍就出来了。</p>
<p>在这里，你会发现碑林不再是局限于文字，还有绘画、墓志铭等。漫步在一排排碑林中，你仿佛漫游在历史长河中，深感历史之悠久。</p>
<p><img data-src="/downloads/images/IMG_8841.JPG" alt="IMG_8841" style="zoom:50%;"></p>
<p>除了碑林，其他内容也很丰富，比如石刻、佛像、墓志铭等，也有一部分陵墓里面的东西挖出来供游人参观。</p>
<h3 id="西安城墙">西安城墙</h3>
<p>从碑林博物馆出来后，徒步到永宁门城墙。</p>
<p>因为我参观时比较晚，自己在城墙上没有骑车，只是在夕阳照耀下漫步在城墙上。在城墙上单纯走着不是非常有意思，城墙之间的相似度非常高，反而有点枯燥，我于是在下一个层楼 — 含光门，打算从这里下去。</p>
<p><img data-src="/downloads/images/IMG_8855.JPG" alt="IMG_8855" style="zoom:50%;"></p>
<p>非常巧的是，含光门内部有一个博物馆，陈列明城墙包裹唐城墙的文物考古。</p>
<ul>
<li>在抗战时期，西安曾经把城墙打孔做防空洞，后来做回填工作。</li>
</ul>
<p>我们从城墙下来，差不多是下午 4 点半，然后在路边小店品尝了 羊肉串 和
手撕羊肉泡馍，感觉味道一般般。</p>
<p>自己之前旅游时总是贪心，抱着最后一次去的心态，恨不得把所有的时间用上，去浏览所有的景点，所以旅游时没有享受到感觉，只是在拼命跑，非常累。反观这三天的西安行，熏陶在历史中，自己能够慢下来脚步，静静感受时间的流逝，是非常愉快的事情。</p>
]]></content>
      <categories>
        <category>Trip</category>
      </categories>
      <tags>
        <tag>Journey</tag>
      </tags>
  </entry>
  <entry>
    <title>北京飞厦门三日游</title>
    <url>/Trip/xiamen-trip-2020/</url>
    <content><![CDATA[<!--
file name: xiamen_trip_2020
-->
<p>[toc]</p>
<p>这是一次说走就走的旅行，从决定要去到出发一共不到两天。</p>
<p>偶然刷到北京飞厦门的便宜机票，从北京到厦门的往返机票不到 1k
(相对于高铁票单程
800+，便宜不少)。和女朋友一商量，决定来一次说走就走的厦门 3
日游，给我们的一项 ToDo List 打钩。</p>
<h1 id="总览">总览</h1>
<h2 id="路线特点">路线特点</h2>
<ul>
<li><p><a href="https://m.ctrip.com/webapp/you/journeys/travelschemeshare/10960523.html?autoawaken=close&amp;popup=close&amp;s_guid=866D1038-0C70-4B86-80FB-693DD83C0CB3">我的旅行路线</a></p></li>
<li><p>旅行时间：9 月初的 3 天 (周五 + 周末)</p></li>
<li><p> 花费：两人全部花费 &lt;= 5000 元。</p></li>
<li><p>旅游地点：厦门岛的南部、鼓浪屿，全是热门景点。</p></li>
<li><p>整体特点：3 天基本逛遍厦门的热门景点，行程有张有弛。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/xiamen_hot.jpg" width="400" height="300" title="热门景点分布"></p></li>
</ul>
<h2 id="厦门印象">厦门印象</h2>
<ul>
<li>在植物园和海底世界见到了前所未见、不敢想象的热带植物和神奇的鱼。</li>
<li>在鼓浪屿的露天阳台上，享受了凌晨惬意的海风，看了看睡着的小岛，感叹这是生活中少有的惬意。</li>
<li>在路边摊，品尝了沙茶面、土笋冻、海蛎煎、花生汤、姜母茶等各类特色小吃。</li>
<li>在当地人的大排档，大快朵颐地品尝了各类海鲜。</li>
</ul>
<h1 id="初识厦门">20200904 初识厦门</h1>
<h2 id="北京---厦门">北京 -&gt; 厦门</h2>
<p>在早晨 6 点半，从<strong>北京</strong>乘坐上飞机，直飞厦门。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0904_airborne_trip.jpg" width="400" height="300" title="兴奋的空中旅行"></p>
<p>经过将近 3
小时的飞行，终于到达了厦门岛的高崎机场。一下飞机，铺面而来的就是厦门的热浪，以及随地可见的棕榈树。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0904_xiamen_first_impression.jpg" width="400" height="300" title="厦门第一印象"></p>
<h2 id="厦门岛内游">厦门岛内游</h2>
<p>我们乘公交和地铁去旅行第一站植物园，现在比较方便的是，通过支付宝，可以直接乘坐厦门的地铁和公交。</p>
<p>一路上，我们两个北方人新奇地向外张望，发现这里突出地引人注意的一点是建筑：有大量比较旧的楼宇，且楼宇间隙较小；这边建筑风格我们之前也没见过，一般有居民楼的玻璃比较多和密，远远望过去会有点密集恐惧症。</p>
<p>我们在中山路附近吃了个沙茶面，发现当地人说话，我们一点也听不懂，糊里糊涂地点了招牌沙茶面和海鲜沙茶面。后来发现当地人进来后，是点个面再加几种菜品，才了解到原来沙茶面更像是麻辣烫的点菜方式。</p>
<p>去一座城市旅游，如果不赶时间，建议选择乘坐公交，除了景点，也多去非景点走一走，这样可以更深入地了解一个城市和当地人的生活。</p>
<h3 id="新奇的园林植物园">新奇的园林植物园</h3>
<blockquote>
<p>厦门园林植物园，俗称 “万石植物园”，园内的热门景点有
“仙人掌世界”、“雨林世界 (喷雾限时开放)”。</p>
</blockquote>
<p>我们游览了沙漠景观、热带雨林、百花园、棕榈植物区、天界寺 (疫情期间关闭)、多肉植物区、仙人掌植物展馆。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/xiamen_botanical_garden_1.jpg" width="300" height="400" title="大王棕"></p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/xiamen_botanical_garden_3.jpg" width="400" height="300" title="沙漠景观"></p>
<p>园林植物园实在有点大，且十分闷热，两个北方人有点受不住，且对于一些园区不是很感兴趣，我们半程匆匆走过。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/xiamen_botanical_garden_2.jpg" width="300" height="400" title="奇怪的植物在这里并不稀奇"></p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/xiamen_botanical_garden_4.jpg" width="400" height="300" title="神奇的多肉"></p>
<p>在时间有限，又不想让自己的旅行变为 “一种纯粹走走走的体力活” 时，没得感情的暴走机器。在游览植物园时，建议有所取舍。因为并非所有的园区都值得去观赏，可以只游览具有特色的或自己感兴趣的园区。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/xiamen_botanical_garden_5.jpg" width="400" height="300" title="你是来搞笑的吗"></p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/xiamen_botanical_garden_6.jpg" width="400" height="300" title="头上顶朵花"></p>
<p>以下是游览植物园的一些小小建议：</p>
<ul>
<li>建议从景区西门购票进入，不需要绕很远的路就可以走到热门的景点。</li>
<li>检票处可以索取景区导游图，根据时间和体力推荐旅游路线和景点，这在园内找景点、导航很有帮助。</li>
<li>推荐万岩水库附近的棕榈植物区，有从小到大、从高到低、从粗到细的各类棕榈树，刷新了我这个北方人对高大笔直棕榈树的刻板印象。</li>
<li>推荐沙漠景观，有比人高的仙人掌，有萌萌的多肉植物 (展览馆内)，新奇的多肉植物应接不暇。</li>
<li>热带雨林下午 3 点会喷雾，请安排好自己的时间，非喷雾时间去，体验比较差。</li>
<li>园区内饮水和卖水的地方不多，并且售价翻倍；加上园内气候比外面闷热，饮水量会比较大，建议从外面多带饮用水。</li>
</ul>
<h3 id="虔诚的南普陀寺">虔诚的南普陀寺</h3>
<p>我们从 “园林植物园” 出来后，我们直接去了附近的
“南普陀寺”，我们俩对南普陀寺的印象很好。</p>
<ul>
<li>南普陀寺门票免费，在里面可以免费领一只香，还有有免费的凉茶和净手区。</li>
<li>因为目前山后维修，五老峰没有办法直接从寺庙走过去，网上评价风景不错。</li>
<li>寺庙整体比较新，部分在维护中，无法进入；寺庙内特别安静、有序；闽南信众崇奉观音菩萨，香火鼎盛，礼佛的人非常虔诚，专心诵经祈祷，完全忽略游客的存在。</li>
<li>寺庙内有很多义工，他们或在诵经祈祷，或为游客提供凉茶、赠香、引导服务，身穿统一的服饰。</li>
<li>寺庙不要拍照。</li>
</ul>
<p>虽然南普陀寺和厦门大学靠得非常近，但是因为厦大
在疫情期间游客不能入校参观，所以这一次算是遗憾了。</p>
<h3 id="吃在中山路">吃在中山路</h3>
<p>从寺庙出来后，我们骑行 3 公里来到
中山路步行街。因为之前在网上做过攻略，我们是直奔推荐的小店去的，在那里品尝了
局口捞面 和 莲欢海蛎煎。这两家店靠的非常近，但都在窄巷里，不好找。</p>
<ul>
<li><p>局口捞面：我本来是不打算吃的，但是尝过女朋友点的面那么好吃，果断来一碗，配着汤，真香。</p></li>
<li><p>莲欢海蛎煎：没有想象的那么好，味道有点淡，一直吃会有点腻，也可能我们吃不惯。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0904_oyster_omelette.jpg" width="400" height="300" title="莲欢海蛎煎"></p></li>
</ul>
<p>有以下注意的事项：</p>
<ul>
<li>厦门岛的共享单车 (像青桔、哈啰、美团) 等都
不支持随地停车，必须要停到固定停车点，否则会扣款 20
元。固定停车点会离景区比较远，找停车点给旅行带来很大的不方便。</li>
<li>如果只看热门推荐，奔着热门小店去，虽然能避免采坑，但是这也失去了旅游探索的趣味吧。</li>
</ul>
<h3 id="骑行在环岛路">骑行在环岛路</h3>
<p>在女朋友的提议下，我们从中山路步行街，夜骑自行车到黄厝海滩住宿。</p>
<p>前半段是在市内道路上，我们骑着共享单车穿梭在拥挤的大街小巷，道路上下起伏，电动车速度太快，好久次差点被撞到，体验比较差。</p>
<p>后半段在环岛旅游观光大道上，临近大海，停放单车的点也比较多，随时随地可以停下来吹吹海风。这边的道路有个特点：起伏较多，基本上一个长长的上坡接着一个长长的下坡路，上坡是真累，下坡也是真的爽，总体还是挺考验体力的。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0904_around_island.jpg" width="400" height="300" title="环岛夜骑行"></p>
<p>大概骑行一小时，加上在海边逗留半小时，我们到达民宿已经 8 点半。</p>
<h3 id="曾厝垵">曾厝垵</h3>
<p>在民宿稍作休息后，我们继续夜游 <ruby>曾<rt> zeng</rt></ruby>
<ruby> 厝<rt> cuo</rt></ruby> <ruby> 垵<rt> an</rt></ruby>。</p>
<p>曾厝垵，专门为游客打造的小吃步行街。虽然街道比较多，但是品类特别雷同，基本是无骨鸡爪、鲜榨果汁和土笋冻等几类。</p>
<ul>
<li>整体而言，自己对曾厝垵有点失望，小吃趋同，有特色的店并不多，小吃价格很贵，弥漫着宰客的味道。</li>
<li>曾厝垵不用花费太多的时间游览，半小时就能出来。</li>
</ul>
<p>我们住在携程推荐的一家民宿，设施简陋、性价比低，体验不好，照骗。这里就不推荐了。</p>
<h1 id="露天阳台的啤酒">20200905 露天阳台的啤酒</h1>
<h2 id="早上的海滩">早上的海滩</h2>
<p>为了避开人流和太阳，我们 8 点 (貌似还是晚) 去附近的
黄厝海滩。这片海滩不收费，我们来的时间还比较早，天还有点小雨，游人还是比较少的，但是远处已经有当地人在采海蛎了。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0905_sandbeach.jpg" width="400" height="300" title="早起的海滩"></p>
<p>因为这一片不是旅游热点地区，附近生态不错，可以在大岩石上观察到小螃蟹，在沙滩上捡到还活着的贝壳。</p>
<p>女朋友特别喜欢在海边捡贝壳，捡了满手的贝壳，自己陪着她在沙滩上边走边捡，也是很有趣。</p>
<ul>
<li>厦门中午天气比较热，建议早点出发去室外玩，中午可以安排室内的游玩。</li>
</ul>
<p>厦门的天气也是变化很快。早晨还有点下小雨，中午已经是大太阳了。</p>
<p>我们沿着昨天的环岛路线，逆向骑行，看到了黑夜里看不到的景色；如果不是天气比较热的话，我比较推荐白天绕着环岛骑行，因为看的比较远，新奇很舒畅。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0905_around_island.jpg" width="400" height="300" title="第二次环岛路骑行"></p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0905_around_island_bridge.jpg" width="400" height="300" title="演武大桥"></p>
<h2 id="出发去鼓浪屿">出发去鼓浪屿</h2>
<p>中午，我们从轮渡码头乘坐轮渡去鼓浪屿。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0905_boat_see_land.jpg" width="400" height="300" title="小的名字都没有"></p>
<blockquote>
<p>鼓浪屿是一个步行岛，无其他交通工具。鼓浪屿小岛的中心位置是叫做 “街心公园”，岛上的超市、药店、小吃街都在街心公园；街心公园处于岛中央，离各个景点的距离也适中，大概步行
5 - 10 分钟。</p>
</blockquote>
<ul>
<li>去鼓浪屿的往返轮渡票是 30
元 / 人，需要提前在 “厦门轮渡 +” 小程序预约购票。</li>
<li>如果希望去海滩玩，建议乘坐 “邮轮中心厦鼓码头 - 内厝澳码头”，距离景区的海滩都比较近。</li>
<li>如果选择在鼓浪屿住一晚，建议住在街心公园附近。景点玩累了，回酒店修整很方便。</li>
<li>我们在鼓浪屿入住的民宿是 “鼓浪屿 WHITE 居易民宿”，位于永春路 10 号，是厦门民宿的一个连锁店吧。感觉这个民宿还不错，向大家推荐一下。</li>
<li>鼓浪屿岛内的价格都很贵，一瓶冰可乐居然要 6 元钱；别担心，后面会告诉你我们发现的一个秘密：请在街心公园寻找：夏商民兴超市。</li>
</ul>
<p>我们沿着环岛路线，把鼓浪屿南边的沙滩逛完后，感觉整体不错的是
<strong>港仔后沙滩</strong>，海水比较干净，海滩比较大，沙比较细，当然游客也最多啦。</p>
<p>没到鼓浪屿之前，我假想海滩边会有很多人在游泳，类似于北戴河那样，所以我们原本规划下午在沙滩游泳。</p>
<p>不知是不是来的不是时候，鼓浪屿沙滩中游泳的人不多，主要是在海边拍拍照，玩玩水。虽然海滩边下水的人并不多，但是难以抵挡我们的期待，在酒店换好衣服后，我们在海水里玩了两个小时。</p>
<h2 id="鼓浪屿的夜">鼓浪屿的夜</h2>
<p>天黑以后，岛对面的景观灯会打开，对面的演武大桥就像一条丝带坐落在海上，横亘你的视野；厦门的双子塔灯光全开，在女朋友眼中那是帆船，在我眼中却是两把菜刀，审美高下不容争辩。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0905_warship.jpg" width="400" height="300" title="战舰出海"></p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0905_light_belt.jpg" width="400" height="300" title="厦门岛的景观夜景"></p>
<p>在海边逛累后，我们去街心公园的 龙头路小吃街
吃饭。因为这边的小吃街实在太多，选择比曾厝垵丰富，我们光是吃路边的小吃就基本饱了，比如好评比较高的沈家肠粉、叶氏糍粑、卢阿嬷花生汤、麦当劳的榴莲味甜筒等，没有吃正餐。</p>
<p>插播一个有趣的事情。因为岛内普普通通的冰可乐都要 6 元钱，特别特别贵。女朋友分析，岛内有长住居民，需要买菜和日用品，那么肯定在岛内有一个当地人买东西便宜的地方。我们最后在小吃街上发现了一家超市
-- 夏商民兴超市，价格特别便宜，一瓶冰可乐只有 3.2
元，不到岛内其他地方物价的一半，强烈推荐来这里打卡补货。</p>
<p>逛完小吃街后，晚上 10 点才是鼓浪屿下半场的开始。</p>
<p>我们在街心公园挑选了一家网红酒吧 --
好久不见。我们点了两杯鸡尾酒 (80 元 / 杯)，味道特别淡，水加的太多了；酒吧内除了有现场演奏外，没有其他吸引我的地方。
* 我们还去一家叫 “星宿密码”
的酒吧看了看，属于清吧，氛围不热闹，适合喜欢清静的人，但是位置较少。 *
整体而言，岛内的物价都比较贵，品质也不好，一锤子买卖，略微有点宰客嫌疑。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0905_long_time_no_see_club.jpg" width="400" height="300" title="好久不见酒吧"></p>
<h2 id="露台对饮-惬意的夜晚">露台对饮 - 惬意的夜晚</h2>
<p>回到住处后，发现这个宝藏 —— 五楼居然有露天阳台，上面摆放了各种桌椅，而且没有其他人。</p>
<p>我们立刻决定在这晚上 11
点去四处买吃的，打算在露天阳台上欣赏美丽的夜色。因为大多数店都关门了，最后只买来两瓶啤酒和一盒炒花蛤。</p>
<p>一切准备停当，我们坐在五楼露天阳台上，观看夜景，。晚上的凉风配一瓶啤酒，看着对岸厦门岛的沿岸灯火，很是惬意，我们一直待到凌晨 1 点才恋恋不舍地下去。</p>
<ul>
<li>再次安利一波酒店，鼓浪屿 WHITE 居易民宿。</li>
</ul>
<h1 id="畅快淋漓的大排档">20200906 畅快淋漓的大排档</h1>
<h2 id="被联票带着走">被联票带着走</h2>
<p>今天是厦门之行的最后一天；因为昨天睡得比较晚，我们没有早早起来逛岛，出门就遇到一个大太阳。</p>
<p>我们买了联票，早上起来后，依次参观日光岩 -&gt; 菽庄花园 -&gt;
钢琴博物馆 -&gt; 皓月园 -&gt; 风琴博物馆。</p>
<ul>
<li><p>日光岩：推荐爬上去看一看，站在小岛的最高处，可以俯瞰鼓浪屿全岛，顶部还有一个军事碉堡。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0906_summit.jpg" width="400" height="300" title="站在岛内最高处"></p></li>
<li><p>菽庄花园：风景不错的一个园子，里面的十二洞天可以找找自己的生肖，可能会绕晕哦。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0906_monkey.jpg" width="400" height="300" title="十二洞天的生肖猴"></p></li>
<li><p>皓月园：主题是纪念郑成功，有一个巨大的郑成功石刻雕像。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0906_hero.jpg" width="400" height="300" title="郑成功"></p></li>
</ul>
<!--
  * 一个知识点，郑成功去世时年纪39岁。英雄不在年高。
-->
<ul>
<li><p>钢琴博物馆、风琴博物馆：钢琴和风琴的展览，自己没有音乐的素养，不同的藏品在我面前都是一样的，不做评价。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0906_piaino.jpg" width="400" height="300" title="钢琴博物馆轮廓"></p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0906_organ.jpg" width="400" height="300" title="硕大的风琴"></p>
<ul>
<li>携程上一张联票 85 块钱，包含日光岩 (门票 50 元)、菽庄花园 (门票 30
元)、皓月园 (门票 10 元) 等 5
个景点。如果不是对这几个地方都感兴趣，就不建议买联票，它会使本应悠闲的旅行变得疲于奔波，这几个地方除了日光岩，其他感觉较一般。</li>
<li>鼓浪屿是一个神奇的地方，好多处可以看到曾经和对岸对质时的碉堡，现在基本荒废了。</li>
<li>在店里吃饭时，结账时注意下账单，网上攻略有人提到店里会多算钱，我也遇到一次。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0906_blockhouse.jpg" width="400" height="300" title="守望的碉堡"></p></li>
</ul>
<h2 id="海底世界看一看">海底世界看一看</h2>
<p>上午逛完景点后，因为天气比较热，我们去岛上的厦门海底世界，在那里见到了抹香鲸的标本和各种神奇的鱼，在海底隧道和鲨鱼邂逅，自己的认知又被扩展了。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0906_haimu.jpg" width="400" height="300" title="变色海母"></p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0906_transparent_fish.jpg" width="400" height="300" title="骨络惊奇"></p>
<p>因为时间还比较多，女朋友特别想去
“贝壳梦幻世界” 看看，这家店打着免费的招牌招揽游客，进门口时却被告知门票
50 元 / 人。我很讨厌这种欺骗揽客的行为，果断不去了。</p>
<h2 id="当地大排档">当地大排档</h2>
<p>下午五点，我们乘船回到了对岸。在滴滴司机的推荐下，我们去小眼镜大排档吃海鲜，那是当地人常去的地方。</p>
<p>我们两个人吃海鲜吃饱后，一共花费了 200
元，性价比要比其他店高，味道也不错。</p>
<h2 id="厦门---北京">厦门 -&gt; 北京</h2>
<p>晚上 8 点半，直飞北京，晚上 11
点半到达北京，不妨碍第二天继续工作。</p>
<p><img data-src="http://www.waylon.one/downloads/images/travel/0906_leave_xiamen.jpg" width="400" height="300" title="再见厦门"></p>
<h1 id="整体印象">整体印象</h1>
<p>从金门炮击中了解到厦门这一座靠海的城市，从朋友圈中看到了鼓浪屿的浪漫和美丽。然而，不到厦门，我不知道这座城市的故事，对 “郑成功” 的怀念，思明区、演武大桥；不到厦门，感受不到这座城市的创伤和崛起。
-
厦门是一个很美丽的海滨城市，是我目前到过的最南边的城市，热带气息比较浓。
-
厦门各个景点都有拍婚纱照的地方，从沙漠景观，到海岛风情，主题变换的可能性很多，也是适合拍照。
-
无论何地，宰客在所难免。我不太推荐在景区小吃街消费太多，深入这个城市，去当地人常去的店铺，那味道才是正宗吧。
-
可以多和当地人聊聊。网上说不要坐路边出租车，因为可能会把你带去其他景点来拿提成。我在厦门主要是打滴滴，司机师傅没有给我拉 “偏”。</p>
]]></content>
      <categories>
        <category>Trip</category>
      </categories>
      <tags>
        <tag>Journey</tag>
      </tags>
  </entry>
  <entry>
    <title>《我想和这个世界不一样》摘录</title>
    <url>/Reading/wo-xiang-he-zhe-ge/</url>
    <content><![CDATA[<p>我想和这个世界不一样（在喜欢的城市醒过来）</p>
<figure>
<img data-src="/downloads/images/%E6%88%91%E6%83%B3%E5%92%8C%E8%BF%99%E4%B8%AA%E4%B8%96%E7%95%8C%E4%B8%8D%E4%B8%80%E6%A0%B7.jpeg" alt="我想和这个世界不一样">
<figcaption aria-hidden="true">我想和这个世界不一样</figcaption>
</figure>
<p>这是一本 Kindle
上偏游记的快消书，我已经不记得阅读动机了。作者的辞藻华丽，文字优美，但是言语中透漏出年轻人固有的阅历尚浅，对生活的体验不深刻，仅仅是城市的过客。</p>
<hr>
<h1 id="摘录">摘录</h1>
<ul>
<li><p>细雨里，坐在塞纳河岸仰望铁塔，有多少恋人相拥亲吻，就有多少心碎的孤影心痛拭泪。</p></li>
<li><p>哀愁的并不是异国他乡孤身一人，而是回忆汹涌来袭的时候，站不稳脚，一不小心就被浪卷了进去浑身湿透。</p></li>
<li><p>吐着烟圈姿态优雅的法国女人</p></li>
<li><p> “是不是抽烟和阅读是巴黎人热爱的两件事情？”</p></li>
<li><p> 读书，的确是喜欢的，而且还有一个功能，就是不需要和人面对面坐着的时候眼睛不知道往哪里放了。”</p></li>
<li><p> 在巴黎的各大书店结账处，还能看见各式各样不透明的包书纸。</p></li>
<li><p>荷兰法律规定，不可以在街上喝酒，甚至是超市买了酒，不能拿在手上要放在袋里，不然会被警察抓住罚款。</p></li>
<li><p>城市永远不会变老，而只有我们，在不断行走不断经历，无时无刻不在细微地老去。无论曾经在这里挣扎也罢，厌弃也罢，始终，这里占据了我最青春最自由的一段时光。</p></li>
<li><p>我会怀念那些孩子坐在自行车前的篮筐，母亲在后面骑着送去上学，感觉那些孩子可以论斤来买。</p></li>
<li><p>没有什么是理所当然的，只要一点点任性，一点点珍惜，幸福就容易了。</p></li>
<li><p>香港的狭小空间教会人不去浪费，更学会生活，不断做减法题，最后拥有的，都是最需要的东西。蜗居，对于人生是一种很有趣的练习。</p></li>
<li><p>舒国治认定的 “家”，不过是睡觉冲凉和大便的地方，意即一张床一个卫生间足矣；三毛向往的 “家”，万水千山走遍，仅需一个灯泡下和爱的人吃饭；乔布斯的 “家”，简简单单没有摆设，一张放电脑的矮桌，照片里他就坐在地上。</p></li>
<li><p>也许喜欢想象你，多于得到你。</p></li>
<li><p>想清楚了，没有一个人，没有一座城市，注定是我们最后的归宿，也就习惯漂泊。</p></li>
<li><p>也许喜欢怀念你，多于看见你。也许喜欢想想你，受不了真的在一起。</p></li>
<li><p>没有城市是我最终的家，没有人是我一生的陪伴，于是，我才学会了珍惜此刻。</p></li>
<li><p>为了那随时的告别，我总是做好了准备。谁叫我们都不过是这世界暂住的过客呢？</p></li>
<li><p>一个地方对于一个人的深刻意义，不仅仅是歇脚。家乡可能慢慢看着你长大，而有些地方，是注定要看你的跳跃性改变的。</p></li>
<li><p>夏天乘坐热气球，西班牙的小镇，可能在地球仪上面只是无名的小点，却仍有阳光慷慨地来。</p></li>
<li><p>自行车，一个全身运动服两手搭胸口书包背上，朝四川北路走去。</p></li>
<li><p>假笑里还真有些幸福。</p></li>
<li><p>天没亮，外滩的敲钟人已经醒来，地铁开始穿梭，打通这座城市每一个穴位。</p></li>
<li><p>在荷兰，你要是说去 coffee
shop，他人的意会往往是抽大麻。语言能描述的，并不准确，人的意识不同，得到的信息也千差万别。</p></li>
<li><p>是啊是啊，我 90
年代的时候走了非洲很多地方，然后还去过七次西藏，这次冬天去了印度刚回来，就开店了。我拍了很多路上的照片，很想办一个影展呢！</p>
<ul>
<li>拍摄照片，开家店，顺手做个影展。</li>
</ul></li>
<li><p>我问 Lily，怎么可以说开就开的，许多人梦想了一辈子，但从来没去做过，因为现实总有这样那样的理由阻挠啊。她回答道：“出去也是要花钱的，那就开一家自己的店，社交时候，可以开开户外俱乐部的派对，沙发客聚集，分享路线，定期办沙龙、画廊、摄影展览…… 我们这里还有投影仪，能开小型会议。大家开心，进来就都是朋友。</p></li>
<li><p>相信是特别的体验，尤其是高管这类的外国人士，给同事或朋友做一道家乡菜，创意和诚意十足。</p></li>
<li><p>一定要现在去做，因为不知道几年以后有了能力，还会不会有这热情。不知道可以走多远开多久，但都无所谓了。</p></li>
<li><p>真的是，你是什么性格，喜欢什么，就能开出怎样的咖啡店。</p></li>
<li><p>她要的，是青春岁月最美时候的样子都给你。她没错。你要的，是为了梦想开花，现在沉默积累。</p></li>
<li><p>就好像麦太曾带着麦兜去机场转了一圈，去体验一把 “即将飞往马尔代夫” 的幸福。</p></li>
<li><p>机场的一楼和二楼，是世界上最遥远的两层楼。一楼欢快奔腾，是新生活的开始。二楼哽咽压抑，是旧生活的离别。</p></li>
<li><p>离开的人始终可以过新生活，留下的人，竟然会感到无路可走。</p></li>
<li><p>钻进一个宁静的角落，在咖啡香气的缭绕里，也许还有一点舒适的音乐，你可以把整袋的新书翻完。</p></li>
<li><p>只有亲自坐在台北的咖啡店，你才会顿悟：这里咖啡馆卖的其实不是咖啡，它更像一个温馨的客厅，每家店都有它的独特气味和摆设，甚至有一个主题色彩。</p></li>
<li><p>一家真正的咖啡馆，它教会你：朋友需要彼此花时间陪伴，来一杯温度刚好的咖啡，人和人之间的关系维持在这样也最好。</p></li>
<li><p>对于行者，天气是无关的。心在云层之上，阳光就一直在。</p></li>
<li><p>直到有一次，在刮着大风下着大雨的荷兰起飞，当飞机冲破云层的时候，光芒万丈。我突然才领悟，原来太阳每天都在那里，它从来没有放弃过地球任何一个角落，只是有时候被云朵遮住了而已。</p></li>
<li><p>有时我们只是喜欢给自己寻找不去行动的理由。</p></li>
<li><p>中国最北端 —— 漠河北极村，这里的七月，白天有太阳时，晒得脸发烫，天很蓝，云朵成块。</p></li>
<li><p>玩摄影的朋友告诉我，看一个地方，越淳朴，就越是乐意让你给他们拍照。</p></li>
<li><p>从来没有遗憾，只是不必要的固执。没碰到，不过是缘分不到。</p></li>
<li><p>只能活那么一次，每次的呼吸都是生命的倒计时。所有事前的不安和猜测，只是在折磨自己。切实发生时，一丝一毫地去体验，竟然发现完全是两回事了。那些流走的时间，猜测带来的苦恼，成为浪费。</p></li>
<li><p>上海是有些清朝时期的老弄堂被作为文化遗产留下来的，更有田子坊这一带，是将老上海的面目融合了商业与西洋被捏了出来。</p></li>
<li><p>《Sex and
city》里的纽约，的确是令所有凯莉们血脉贲张的。它是实现小女孩梦想的舞台，穿不完的漂亮衣服，为自己个性 “量身定做” 的工作，还有源源不断的白马王子。</p></li>
<li><p>我们在城市指南里读那些以偏概全的简介，在历史书里对城市的前世今生了若指掌，可最终，我们自己就会成为城市的立体说明书，言行举止间透露着和它交换灵魂的故事。</p></li>
<li><p>长大，就是一件遥不可及的事情。</p></li>
<li><p>一个阳光照得马路都快裂开的八月下午，祖父心静自然凉，连电扇都不开，安静地读着他的报纸。</p></li>
<li><p>昏黄的路灯照着门前的那棵树，树影歪歪的，它还在睡觉，我不能打扰它。</p></li>
<li><p>大城市的夜，是看不到星空的。</p></li>
<li><p>大概就是这样，有时候往往离开后在回忆里，才能知道自己有多喜欢一座城市。这样的遗憾，就如同我们常常无法确定自己是不是爱上了一个人，往前走一步，缺少勇气，更害怕受到伤害；往后退一步，骂自己懦弱，就这样可惜了幸福。唯独事后，才清醒而痛苦。</p></li>
<li><p>荷兰经历过一段时间的严重饥荒，最后居然要靠食郁金香求生，因此一代代都养成了珍惜食物的好习惯。</p></li>
<li><p>各位吃客们，虽说在阿姆斯特丹吃的文化未有什么盛名，但所谓的特色饮食就是 “过了这个村，就没那个店”，照此想来，这里还有那么些独到佳肴的。首先就是市中心广场可以找到的鱼车，也就是卖海鲜的移动小摊。这样的鱼车门口，可以看见络绎不绝的荷兰人，最为特色的是一种用盐腌制的事前挑走鱼骨的鲱鱼，称作 Haring，伴着洋葱颗粒，味道鲜美，奇怪的是一点腥气都无，嘴里一直留有一股余味。吃的时候姿势也有讲究，用手指拿着鱼尾，嘴巴张到最大去吞食。除了生食，他们还有炸鱼，表皮松脆，里面的鱼肉丝滑。配上他们独有的调味粉，口感十足。</p></li>
<li><p>也极力推荐一下荷兰的薯条。有过一个网络调查，全世界哪里的薯条最好吃，众网友纷纷投票荷兰，倒不是名气问题而是它的好吃实至名归，的确令人上瘾。</p></li>
<li><p>城市白日的光景，宛若恋爱初期，人生初见，对方总是想象中最完美最光鲜的样子；夜幕降临，恰似恋人日渐熟悉，相处越久越是看见对方最真实却也最疲惫最不堪的狼狈相。</p></li>
<li><p>中午走出了世界第一的大集市，周边的小吃饭店都是典型开给游客的，英文大字无处不在，生怕大家不知道这里卖的是 “土耳其特色美食”。</p></li>
<li><p>这是一座立刻被人遗忘、过度开发的旅游城市。我问自己，这次的旅行在追求什么呢？对一座城市，是应该有那么大的期待吗？又况且奥尔罕的《伊斯坦布尔》一书中，常常提到 “东方特点” 与 “西方事物” 这两个字眼，足可见伊斯坦布尔也对于自己的身份充满了疑惑。</p></li>
<li><p>老师说，这里没有人是真正赚钱走的，来到了赌场就要做好全部钱都花完的准备。最赚的，就是容易上瘾的。赌场，是一个锻炼人收手的地方。</p></li>
<li><p>既然，一座平凡的小镇，能孕育出一支震撼世界的乐队。</p>
<ul>
<li>利物浦的甲壳虫</li>
</ul></li>
<li><p>我不要绚丽却不持久的彩虹，所以不在乎输赢。</p></li>
<li><p>昨天还在训刚进来的小王：“没事别给我揽活儿，同情心泛滥吃亏的是自己，做得越多越是傻瓜。坐稳座位，不管事别出岔子，捧着铁饭碗到退休。”</p></li>
<li><p> 外面的包装会在一定程度上决定我们在别人心底投射下的价值，可是有眼之人，自然会来辨识。有质量的，仍然可以成为抢手货，低廉的倒也脚踏实地平易近人。</p></li>
<li><p>至于一流二流三流大学，也不过是一套套不同价位的化妆品，你到底是什么人，会成为什么人，化妆品怎么会决定呢？</p></li>
<li><p>哈尔滨有马迭尔，长春有长春饭店小奶油，沈阳还有中街大果。</p></li>
<li><p>路灯凄凉地在寒风细雨中站立。</p></li>
<li><p>藏而不露，是性感的真正所在。</p></li>
<li><p>我给当地工作的朋友出点子，你就在这里包船吧！在两国的围绕下，向女朋友求婚，喇叭里播放浪漫音乐，三米开外的俄国人民也会感动的，这样都不嫁，实在太难。</p></li>
<li><p>看起来过得去，经常运动，自自然然，干干净净，阳光下咧开嘴朝你笑，这一类 “汗衫 + 牛仔裤基本款” 男生，不刻意打扮，其实也不会难看到哪里去。</p></li>
<li><p>大概天底下，情侣出行，能吵到分手的，原因不外乎在一系列改造失败后，对未来突然没了信心。和喜欢的另一半出外旅行，欣赏风景成为其次，最重要的则是 “用户体验” 和 “优劣分析” 了。</p></li>
</ul>
]]></content>
      <categories>
        <category>Reading</category>
      </categories>
      <tags>
        <tag>Reading</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo 上 Next 主题配置文章投票功能 / How to add the voting function in next theme</title>
    <url>/website/website-voting/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="背景">背景</h1>
<p>大多数读者比较害羞，不喜欢留言，这样子就不方便自己从读者角度评价博客文章的质量，希望在网站增加投票的功能，方便读者留下评价和反馈。</p>
<p>多平台维护不易，最新文章更新于 <a href="http://www.waylon.one/website/website-voting/">个人网站</a>，欢迎访问和留言。</p>
<p>网站的 NexT 主题，已默认集成 <strong>WidgetPack</strong> 的 Rating
widget，在主题文件夹下的 _config.yml 的 rating
字段就可见相关默认配置。</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"># Star rating support to each article.</span><br><span class="line"># To get your ID visit https://widgetpack.com</span><br><span class="line">rating:</span><br><span class="line">  enable: false</span><br><span class="line">  id:     #<span class="tag">&lt;<span class="name">app_id</span>&gt;</span></span><br><span class="line">  color:  fc6423</span><br><span class="line"># ---------------------------------------------------------------</span><br></pre></td></tr></tbody></table></figure>
<p>总体而言，NexT 已经默认集成了 WidgetPack 的 Ratingwidget，要启用 Ratingwidget，只需要在 WidgetPack.com 注册后添加站点，获得 ID 后，修改 NexT 主题配置文件 rating 字段内容即可。目前，WidgetPack 对个人用户提供了部分免费功能，可以满足个人博客网站的需求。</p>
<h1 id="什么是-widgetpack">什么是 WidgetPack</h1>
<p><a href="https://widgetpack.com/">Widget Pack</a> makes it easy to
add website widgets like comments, reviews, rating to your Blog, Online
Shop or Website in minutes.</p>
<blockquote>
<p>While using this Site, you may need to feed-in personal information
that can be used to contact or identify you (“Personal Information”).
Personal Information may include, but is not limited to, some unique
characteristics that disclose your personality, such as: name, email,
photo, likes and dislikes. WidgetPack web-servers automatically track
and store Site usage data. This information is liable to include, but is
not limited to, your computer’s IP. Along other sites, WidgetPack also
uses “cookies” to collect such information. A cookie is an essential
data file that is stored on your computer hard drive for record-keeping
purposes allowing saving your registration ID and login password for
prospective logins to WidgetPack Site; “session ID cookies” enable
certain features of the Site providing authentication, identification of
a user session, session contents and some other preferences. You can
tweak your browser by changing its options to stop accepting cookies or
to prompt you before accepting a cookie from the websites you visit. If
you do not accept cookies, however, you may not be able to use some of
the Site’s features or all the functionalities of our services.</p>
</blockquote>
<p>简而言之，Widget
Pack 会在得到授权的情况下，自动跟踪和存储你在某些网站上留下的个人信息 (邮箱、IP、cookies) 等，方便快捷地为一些博客、购物网站提供评价、留言和投票等小插件功能。</p>
<p>目前，WidgetPack 对个人用户提供了部分免费功能，一个网址和一个 moderator，可以满足个人博客网站的需求。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/voting_price_plan.jpg"></p>
<h1 id="配置过程">配置过程</h1>
<h2 id="获取id">获取 ID</h2>
<ul>
<li>点击 <a href="https://widgetpack.com/star-rating-widget">Widgetpack.com</a>
链接注册，可以获得获取用户 ID。</li>
<li>在 “Add new site” 中，填入网站地址和名称，会生成 Rating
Widget 安装代码，如下所示。</li>
</ul>
<p><img data-src="http://www.waylon.one/downloads/images/blog/add_new_site.jpg"></p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wpac-rating"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line">wpac_init = window.wpac_init || [];</span><br><span class="line">wpac_init.push({widget: 'Rating', id: your_id}); # your_id 为注册生成的ID</span><br><span class="line">(function() {</span><br><span class="line">    if ('WIDGETPACK_LOADED' in window) return;</span><br><span class="line">    WIDGETPACK_LOADED = true;</span><br><span class="line">    var mc = document.createElement('script');</span><br><span class="line">    mc.type = 'text/javascript';</span><br><span class="line">    mc.async = true;</span><br><span class="line">    mc.src = 'https://embed.widgetpack.com/widget.js';</span><br><span class="line">    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);</span><br><span class="line">})();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://widgetpack.com"</span> <span class="attr">class</span>=<span class="string">"wpac-cr"</span>&gt;</span>Star Rating WIDGET PACK<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>以上安装代码已默认集成到
/hexo/themes/next/layout/_third-party/rating.swig
文件中，所以除了确认下 <strong>ID</strong>，或者使用默认的
<strong>theme.rating.id</strong>, 不需要其他操作。</p>
<h2 id="设置投票方式">设置投票方式</h2>
<p>在网站上，在侧边栏可以选择统计 Rating 的方式。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/set_rating_display.jpg"></p>
<p>目前网站有三种方式可选，目标读者是国内的话，建议采用 Device，我是选择
IP Address。 - Social - IP Address - Device (Cookie)</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/vota_setting.jpg"></p>
<h2 id="hexo-配置">Hexo 配置</h2>
<p>NexT 主题配置文件 _config.yml 中 rating 的默认设置如下：</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">rating:</span><br><span class="line">  enable: false</span><br><span class="line">  id:     #<span class="tag">&lt;<span class="name">app_id</span>&gt;</span></span><br><span class="line">  color:  fc6423</span><br></pre></td></tr></tbody></table></figure>
<p>仅需要将设置 enable 改为 true，把 #&lt;app_id&gt; 替换为
widgetpack.com 上生成的 ID。</p>
<h1 id="网站效果预览">网站效果预览</h1>
<ul>
<li><p>桌面浏览器效果 <img data-src="http://www.waylon.one/downloads/images/blog/voting_demo.jpg"></p></li>
<li><p>手机浏览器效果 <img data-src="http://www.waylon.one/downloads/images/blog/rating_demo_phone.png"></p></li>
</ul>
<h1 id="投票监控">投票监控</h1>
<p>登录你的网站后，可以监控投票反馈情况，以及对某些投票进行管理，示意如下:</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/voting_monitor.jpg"></p>
<h1 id="reference">Reference</h1>
<ul>
<li><a href="https://www.jianshu.com/p/61d9d46935e3">Hexo 上 NexT 主题配置 WidgetPack 的 Rating
widget 文章投票功能</a></li>
</ul>
<hr>
<p>如果文章对你有帮助，请为我投票哦！如果有任何疑问，欢迎留言讨论。<br>
If the article helps you, please vote for me. If you have any questions,
please do not hesitate to discuss with me!</p>
]]></content>
      <categories>
        <category>website</category>
      </categories>
      <tags>
        <tag>Website</tag>
      </tags>
  </entry>
</search>
