<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.waylon.one","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":false,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"manual","top_n_per_article":5,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="sharing daily progress and life">
<meta property="og:type" content="website">
<meta property="og:title" content="One&#39;s Way">
<meta property="og:url" content="http://www.waylon.one/page/7/index.html">
<meta property="og:site_name" content="One&#39;s Way">
<meta property="og:description" content="sharing daily progress and life">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Nobody">
<meta property="article:tag" content="Autonomous Driving &amp; Robotic">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://www.waylon.one/page/7/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/7/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>One's Way</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">One's Way</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Dare to create</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Nobody</p>
  <div class="site-description" itemprop="description">sharing daily progress and life</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">94</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">38</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/waylondotone" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;waylondotone" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:yanlong.wangchn@gmail.com" title="E-Mail → mailto:yanlong.wangchn@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.waylon.one/USV/Mercator-projection/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="One's Way">
      <meta itemprop="description" content="sharing daily progress and life">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | One's Way">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/USV/Mercator-projection/" class="post-title-link" itemprop="url">简明版墨卡托投影坐标系(原理到实现)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-02-08 16:49:10" itemprop="dateCreated datePublished" datetime="2020-02-08T16:49:10+08:00">2020-02-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-19 20:12:32" itemprop="dateModified" datetime="2023-05-19T20:12:32+08:00">2023-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/USV/" itemprop="url" rel="index"><span itemprop="name">USV</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>1.4k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>5 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>[toc]</p>
<h1 id="前言">前言</h1>
<p>FYI 本博客初稿完成于2017年，内容更新于 <a
href="http://www.waylon.one/USV/Mercator-projection/">个人网站 -
简明版墨卡托投影坐标系</a>，请移步阅读最新内容。</p>
<p>本文讲述了墨卡托投影坐标系的基本原理和实现，但是因为地球非标准椭圆，经纬度和米坐标的转换复杂，本文提供的算法存在较大误差，仅适用于初步验证。</p>
<h1 id="墨卡托投影坐标系">墨卡托投影坐标系</h1>
<p>墨卡托投影(Mercator
Projection)是一种“等角正切圆柱投影”，荷兰地图学家墨卡托(Mercator)在1569年拟定：假设地球被围在一个中空的圆柱里，其赤道与圆柱相接触，然后再假想地球中心有一盏灯，把球面上的图形投影到圆柱体上，再把圆柱体展开，这就是一幅标准纬线为零度（即赤道）的“墨卡托投影”绘制出的世界地图。<br />
墨卡托投影在今天对于航海事业起着极为重要的作用，目前世界各国绘制海洋地图时仍广泛使用墨卡托投影，国际水路局(IHB)规定：“除特殊情况外，各国都要用墨卡托投影绘制海图”。国际水路局发行的《大洋水深总图》是把全世界分成24幅编辑的，在南北纬72度之间就是使用墨卡托投影绘成的。</p>
<h1 id="墨卡托投影性质">墨卡托投影性质</h1>
<p>由于墨卡托投影的经纬线离开赤道逐渐以相同倍数伸长，所以又称为渐长投影，由于它是具有等角性质的圆筒投影，所以也叫做等角圆筒投影。<strong>注意：这种投影不适合高纬地区，通常纬度60度以上区域，不用此投影</strong>。</p>
<p><img data-src="/downloads/images/blog/Mercator_1.png" /></p>
<p><img data-src="/downloads/images/blog/Mercator_2.png" /></p>
<p>墨卡托投影有一个特别的特性：所有罗盘等角线，或称斜航线（就是与所经过的所有经线形成相同角度的航线，也称恒向航线）在墨卡托投影下都是直线。这使得在航海领域这个投影非常重要。
注意：经纬线的伸长与纬线的正割成比例变化，随纬度增高极具拉伸，到极点成为无穷大；面积的扩大更为明显，在60度的地方面积要扩大四倍。如下图所示，地理上等半径圆在高纬度面积明显扩大。</p>
<p><img data-src="/downloads/images/blog/Mercator_3.png" /></p>
<p>墨卡托投影是按等角条件修改透视圆筒投影而得到的投影，等角（也称为保形）
是指当地图上任何一点的各方向具有相同的比例，称为局部保形，透视圆筒投影如图1所示。从墨卡托投影图上可以看出，经线间隔的经度如果相等，则经线是等距平行的直线，
纬线也是平行的直线，而且经纬线是相互垂直的。墨卡托投影对透视圆筒投影改造点：要使圆筒投影称为等角的性质，必须使由赤道向两极经线逐渐伸长的倍数与经线上各点相应的纬度扩大的倍数相同。</p>
<p><img data-src="/downloads/images/blog/Mercator_4.png" /></p>
<p><img data-src="/downloads/images/blog/Mercator_5.png" /></p>
<p>透视圆筒投影</p>
<p><img data-src="/downloads/images/blog/Mercator_6.png" /></p>
<h1 id="墨卡托投影方程式">墨卡托投影方程式</h1>
<p>墨卡托投影以整个世界范围，赤道作为标准纬线，本初子午线作为中央经线，两者交点为坐标原点，向东向北为正，向西向南为负。南北极在地图的正下、上方，而东西方向处于地图的正右、左。由于墨卡托投影在两极附近是趋于无限值，因此它并没完整展现了整个世界，地图上最高纬度是85.05度（通过纬度取值范围ys反解计算可得到纬度值为85.05112877980659）。为了简化计算，我们采用球形映射，而不是椭球体形状。</p>
<p>公式推导具体见文献 <a
target="_blank" rel="noopener" href="http://new.oversea.cnki.net/kcms/detail/detail.aspx?filename=LNSZ198001001&amp;dbcode=CJFQ&amp;dbname=CJFD1980&amp;v=">墨卡托投影与大圆投影的构成及其在定航线计算航程与航向方面的应用_程光举</a>。</p>
<p><img data-src="/downloads/images/blog/Mercator_7.png" /> <img data-src="/downloads/images/blog/Mercator_8.png" /></p>
<p>利用等角条件m=n来讨论具体公式，具体分为三步： 1.
根据m=n得到地球表面投影到平面上的微积线段的关系式。<br />
2. 把地球视为球体：
设地球表面A点经纬坐标为（λ，Φ），对应的投影坐标为（x,y）,基准纬线设置为赤道，则R为地球半径；</p>
<p>墨卡托投影方程式为：</p>
<p><img data-src="/downloads/images/blog/Mercator_9.png" /></p>
<ol start="3" type="1">
<li>把地球视为旋转椭球体</li>
</ol>
<p>墨卡托投影正反解公式：</p>
<p><img data-src="/downloads/images/blog/Mercator_10.png" /></p>
<p><img data-src="/downloads/images/blog/Mercator_11.png" /></p>
<p>公式推导具体见文献 <a
target="_blank" rel="noopener" href="http://new.oversea.cnki.net/kcms/detail/detail.aspx?filename=LNSZ198001001&amp;dbcode=CJFQ&amp;dbname=CJFD1980&amp;v=">墨卡托投影与大圆投影的构成及其在定航线计算航程与航向方面的应用_程光举</a>。</p>
<h1 id="程序实现">程序实现</h1>
<p>最新版见 <a
target="_blank" rel="noopener" href="https://github.com/wylloong/-GeographyCoordinateTransform/blob/master/Mercator">Geography
Coordinate Transform Lite/Mercator</a></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Lite版，仅适用于初步验证</span></span><br><span class="line"><span class="comment">//把地球视为球体实现经纬度和墨卡托投影的函数</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">double</span> x;</span><br><span class="line">	<span class="type">double</span> y;</span><br><span class="line">&#125;WayPoint;</span><br><span class="line"></span><br><span class="line"><span class="comment">//经纬度转墨卡托</span></span><br><span class="line">WayPoint <span class="title function_">lonLat2Mercator</span><span class="params">(WayPoint lonLat)</span></span><br><span class="line">&#123;</span><br><span class="line">	WayPoint mercator;</span><br><span class="line">	<span class="type">double</span> x = lonLat.x * <span class="number">20037508.34</span> / <span class="number">180</span>;</span><br><span class="line">	<span class="type">double</span> y = <span class="built_in">log</span>(<span class="built_in">tan</span>((<span class="number">90</span> + lonLat.y) * Pi / <span class="number">360</span>))/(Pi / <span class="number">180</span>);  </span><br><span class="line">	y = y * <span class="number">20037508.34</span> / <span class="number">180</span>;</span><br><span class="line">	mercator.x = x;</span><br><span class="line">	mercator.y = y;</span><br><span class="line">	<span class="keyword">return</span> mercator;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//墨卡托转经纬度</span></span><br><span class="line">WayPoint <span class="title function_">Mercator2lonLat</span><span class="params">(WayPoint mercator)</span></span><br><span class="line">&#123;</span><br><span class="line">	WayPoint lonLat;</span><br><span class="line">	<span class="type">double</span> x = mercator.x / <span class="number">20037508.34</span> * <span class="number">180</span>;</span><br><span class="line">	<span class="type">double</span> y = mercator.y / <span class="number">20037508.34</span> * <span class="number">180</span>;</span><br><span class="line">	y = <span class="number">180</span> / Pi * (<span class="number">2</span> * <span class="built_in">atan</span>(<span class="built_in">exp</span>(y * Pi / <span class="number">180</span>)) - Pi / <span class="number">2</span>);</span><br><span class="line">	lonLat.x = x;</span><br><span class="line">	lonLat.y = y;</span><br><span class="line">	<span class="keyword">return</span> lonLat;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="reference">Reference</h1>
<ul>
<li>程光举.
墨卡托投影与大圆投影的构成及其在确定航线、计算航程与航向方面的应用[J].
辽宁师院学报(自然科学版),1980(01):13-28.</li>
<li><a
target="_blank" rel="noopener" href="http://download.csdn.net/detail/wylloong/9813502">墨卡托投影与经纬度转换源代码及原理文献</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.waylon.one/Python/python-interactive-mode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="One's Way">
      <meta itemprop="description" content="sharing daily progress and life">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | One's Way">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/Python/python-interactive-mode/" class="post-title-link" itemprop="url">基于 interactive mode 实现 matplotlib 动态更新图片(交互式绘图)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-02-08 16:27:36" itemprop="dateCreated datePublished" datetime="2020-02-08T16:27:36+08:00">2020-02-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-19 20:12:32" itemprop="dateModified" datetime="2023-05-19T20:12:32+08:00">2023-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>816</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>3 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>[toc]</p>
<p>最近在研究动态障碍物避障算法，在 Python
语言进行算法仿真时需要实时显示障碍物和运动物的当前位置和轨迹，利用
Anaconda 的 Python 打包集合，在 Spyder 中使用 Python3.5 语言和
matplotlib 实现路径的动态显示和交互式绘图(和Matlab功能类似)。</p>
<p>本博客初稿完成于2017年，多平台维护不易，内容更新于 <a
target="_blank" rel="noopener" href="https://www.yanlongwang.net/Python/python-interactive-mode/">个人网站</a>，请移步阅读最新内容。</p>
<h1 id="背景知识">背景知识</h1>
<h2 id="anaconda">Anaconda</h2>
<p><a target="_blank" rel="noopener" href="https://www.anaconda.com/">Anaconda</a> 是一个用于科学计算的
Python 发行版，支持 Linux, Mac, Windows
系统，提供了包管理与环境管理的功能，可以很方便地解决多版本 python
并存、切换以及各种第三方包安装问题。</p>
<p>Anaconda 利用工具/命令 conda 来进行 package 和 environment
的管理，并且已经包含了 Python 和相关的配套工具。</p>
<h2 id="matplotlib">matplotlib</h2>
<p><a target="_blank" rel="noopener" href="http://matplotlib.org/">matplotlib</a> 是 python
最著名的绘图库，它提供了一整套和 matlab 相似的命令
API，十分适合交互式地进行制图。而且也可以方便地将它作为绘图控件，嵌入
GUI 应用程序中。其中，matplotlib 的 pyplot 子库提供了和 matlab
类似的绘图 API，方便用户快速绘制2D图表，它的文档相当完备，并且 Gallery
页面中有上百幅缩略图，打开之后都有源程序。</p>
<h1 id="matplotlib-交互式绘图">matplotlib 交互式绘图</h1>
<h2 id="原理">原理</h2>
<p>在调研 matplotlib 动态绘制曲线方法中，和 matlab 相似有 animation
方法和交互式绘图，但是 animation
方法灵活性不高，不太适合路径的实时动态显示，本文最后采用交互式绘图模（interactive
mode）-- <a target="_blank" rel="noopener" href="http://matplotlib.org/users/shell.html">Using
matplotlib in a python shell</a>。</p>
<blockquote>
<p>The interactive property of the pyplot interface controls whether a
figure canvas is drawn on every pyplot command. If interactive is False,
then the figure state is updated on every plot command, but will only be
drawn on explicit calls to draw(). When interactive is True, then every
pyplot command triggers a draw.</p>
</blockquote>
<h2 id="实践">实践</h2>
<p>当绘图语句中加入pl.ion()时，表示打开了交互模式。此时python解释器解释完所有命令后，给你出张图，但不会结束会话，而是等着你跟他交流交流。如果你继续往代码中加入语句，run之后，你会实时看到图形的改变。当绘图语句中加入pl.ioff()时或不添加pl.ion()时，表示打关了交互模式。此时要在代码末尾加入pl.show()才能显示图片。python解释器解释完所有命令后，给你出张图，同时结束会话。如果你继续往代码中加入语句，再不会起作用，除非你关闭当前图片，重新run。</p>
<h1 id="example">Example</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Created on Sat Mar 25 23:28:29 2017</span></span><br><span class="line"><span class="string">@author: wyl</span></span><br><span class="line"><span class="string">original link: https://www.yanlongwang.net/Python/python-interactive-mode/</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.patches <span class="keyword">import</span> Circle</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line">    </span><br><span class="line">plt.close()  <span class="comment">#clf() # 清图  cla() # 清坐标轴 close() # 关窗口</span></span><br><span class="line">fig=plt.figure()</span><br><span class="line">ax=fig.add_subplot(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">ax.axis(<span class="string">&quot;equal&quot;</span>) <span class="comment">#设置图像显示的时候XY轴比例</span></span><br><span class="line">plt.grid(<span class="literal">True</span>) <span class="comment">#添加网格</span></span><br><span class="line">plt.ion()  <span class="comment">#interactive mode on</span></span><br><span class="line">IniObsX=<span class="number">0000</span></span><br><span class="line">IniObsY=<span class="number">4000</span></span><br><span class="line">IniObsAngle=<span class="number">135</span></span><br><span class="line">IniObsSpeed=<span class="number">10</span>*math.sqrt(<span class="number">2</span>)   <span class="comment">#米/秒</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;开始仿真&#x27;</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">180</span>):</span><br><span class="line">        <span class="comment">#障碍物船只轨迹</span></span><br><span class="line">        obsX=IniObsX+IniObsSpeed*math.sin(IniObsAngle/<span class="number">180</span>*math.pi)*t</span><br><span class="line">        obsY=IniObsY+IniObsSpeed*math.cos(IniObsAngle/<span class="number">180</span>*math.pi)*t</span><br><span class="line">        ax.scatter(obsX,obsY,c=<span class="string">&#x27;b&#x27;</span>,marker=<span class="string">&#x27;.&#x27;</span>)  <span class="comment">#散点图</span></span><br><span class="line">        <span class="comment">#ax.lines.pop(1)  删除轨迹</span></span><br><span class="line">        <span class="comment">#下面的图,两船的距离</span></span><br><span class="line">        plt.pause(<span class="number">0.001</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> err:</span><br><span class="line">    <span class="built_in">print</span>(err)</span><br></pre></td></tr></table></figure>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/python_interactive_mode_example.png" /></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.waylon.one/website/Introduce-AdSense-to-website/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="One's Way">
      <meta itemprop="description" content="sharing daily progress and life">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | One's Way">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/website/Introduce-AdSense-to-website/" class="post-title-link" itemprop="url">How to bring in google AdSense to Hexo website / Hexo网站承接google AdSense广告</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-02-08 08:44:20" itemprop="dateCreated datePublished" datetime="2020-02-08T08:44:20+08:00">2020-02-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-19 20:12:32" itemprop="dateModified" datetime="2023-05-19T20:12:32+08:00">2023-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/website/" itemprop="url" rel="index"><span itemprop="name">website</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>1.9k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>7 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>[toc]</p>
<p>FYI 本博客实时更新于 <a
target="_blank" rel="noopener" href="https://www.yanlongwang.net/website/Introduce-AdSense-to-website/">个人网站
- Hexo网站引入google AdSense</a>，请移步阅读最新内容。</p>
<h1 id="前言">前言</h1>
<p>个人网站 <a href="www.yanlongwang.net">www.yanlongwang.net</a>
已经运营近一年，每日的浏览量不断上升，现在维持在两位数，打算承接一点广告赚睡后收入，用来维持网站的日常运营，希望能覆盖网站的服务器和域名开销。</p>
<p>目前，自己通过 Google AdSense
在个人网站的广告位承接广告，下面主要讲解从注册 Google
AdSense，到审核通过后设置广告的基本操作。</p>
<p>点击 <a href="www.yanlongwang.net">www.yanlongwang.net</a>
测试体验，如下图。在侧边栏下部应该可以看到 AdSense
推送的广告，如果看不到，查看浏览器是否安装了 AdBlock
等广告屏蔽插件，请暂时关闭这些插件。</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/AdSense_sidebar_ad_example.jpg" /></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 系统</span><br><span class="line">- Next Theme</span><br><span class="line">// 在 hexo 目录下, 输入 “hexo version” 可以查看 Next 及依赖的版本</span><br><span class="line">- hexo: 3.8.0</span><br><span class="line">- hexo-cli: 1.1.0</span><br><span class="line">- ...</span><br></pre></td></tr></table></figure>
<h1 id="广告联盟选择">广告联盟选择</h1>
<p>在国内，比较知名的广告联盟都要求网站备案，比如<a
target="_blank" rel="noopener" href="http://union.baidu.com/customerLogin.html">百度广告联盟</a>，否则无法承接广告，而自己的小网站暂时没有备案，所以只能选择国外的广告联盟。</p>
<p>国外的广告联盟，毫无疑问会选择 Google
AdSense，申请门槛相对较低。网站一般运营几个月，有十几篇文章，是比较容易通过审核的。并且，AdSense
的广告相比百度联盟的还是比较优质的，所以最后选择 google AdSense
联盟。</p>
<h1 id="注册-adsense-账号">注册 AdSense 账号</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.google.com/adsense/start/#">注册网站</a>
搬梯子登录</li>
<li>点击右上角 Get started 进行注册；如有 google 账号，可以直接点击 sign
in 进行登录。</li>
</ul>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/adsense_sign_up.jpg" /></p>
<ul>
<li>填写完信息之后，页面会生成一段代码，要求你放置到你的网站的
<head>
标记中。注意，当审核通过后，这一段代码在开启“自动广告”后，会自动推送广告。
<ul>
<li>针对 Next Theme，可以复制代码到 themes\_partials.swig
中任意一个script块下。 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- layout example in head.swig --&gt;</span></span><br><span class="line">&#123;% if theme.google_site_verification %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;google-site-verification&quot;</span> <span class="attr">content</span>=<span class="string">&quot;&#123;&#123; theme.google_site_verification &#125;&#125;&quot;</span> /&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">data-ad-client</span>=<span class="string">&quot;ca-pub-612**56&quot;</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">&quot;https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% if theme.bing_site_verification %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;msvalidate.01&quot;</span> <span class="attr">content</span>=<span class="string">&quot;&#123;&#123; theme.bing_site_verification &#125;&#125;&quot;</span> /&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li>在你添加完成之后，在 google AdSense
上点击确认，谷歌会到你的网站上进行核查和验收。</li>
<li>博主是2020.02.05上午申请，2020.02.06上午收到申请通过的邮件。</li>
</ul>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/AdSense_check_pass.jpg" /></p>
<h1 id="配置广告位">配置广告位</h1>
<p>在收到审核通过的邮件后，可以登录 google AdSense
在自己的网站上进行广告位置的筛选和设计了，目前 google AdSense
主要提供了自动广告和广告单元两种形式的广告添加方式。</p>
<h2 id="自动广告">自动广告</h2>
<p>自动广告是 google AdSense
近来提供的一种广告形式，它能够通过分析你的博客布局结构，自定义的在你的网站中插入合适的广告，无论是内容，还是广告尺寸，都是完全契合网站内容本身的，算是一种比较高质量的广告。</p>
<p>打开 AdSense
首页，然后转到广告。您可以在概览中为各个网站设置自动广告。</p>
<p>如果您的网站已经启用自动广告，在审核通过的几个小时内，您便会在网站上看到相关的广告，并开始累积收入(之前插入的检验代码，接入了
google AdSense 的自动广告)。</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/AdSense_Autonomous_Ads.jpg" /></p>
<p>这种广告投放的几率比较小，在PC端效率比较低，如果你的网站支持移动端查看的话，会自动投放移动端自适应的广告。</p>
<h2 id="广告单元">广告单元</h2>
<p>为了能够最高效的利用自己博客的广告位，AdSense提供了三种固定广告位。</p>
<ul>
<li>文字广告和展示广告(即侧边栏，评论区之类的固定广告位)</li>
<li>信息流广告(插入在信息流内容的广告位置)</li>
<li>文章内嵌广告(主要是插入在每篇文章内部的开始，中间，结尾部分，展示次数比较多，强烈推荐)</li>
</ul>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/AdSense_blocks.jpg" /></p>
<p>由于本人的是博客网站，所以第二种信息流广告没有投入使用，第三种影响阅读体验，所以博主现在主要采用第一种方式，在侧边栏展示广告。</p>
<p>具体的操作流程是，在网站上，选择广告单元-&gt;新建广告位-&gt;选择对应的广告类型-&gt;生成对应的广告代码。</p>
<h3 id="广告单元插入">广告单元插入</h3>
<p>博主启用了自动广告，广告单元仅使用了第一种方式，在网站的侧边栏和评论区展示广告，但下面会提供几种针对
Hexo 的 Next Theme 广告单元代码位置的插入。</p>
<h4 id="插入评论区">插入评论区</h4>
<p>将广告单元生成的广告代码插入 _partials.swig 中的末尾即可。
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  &#123;% elseif theme.valine.appid and theme.valine.appkey %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;comments&quot;</span> <span class="attr">id</span>=<span class="string">&quot;comments&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Insert google ad blocks --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">&quot;https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Comment_Below --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ins</span> <span class="attr">class</span>=<span class="string">&quot;adsbygoogle&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">style</span>=<span class="string">&quot;display:block&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-ad-client</span>=<span class="string">&quot;ca-pub-61***56&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-ad-slot</span>=<span class="string">&quot;83***73&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-ad-format</span>=<span class="string">&quot;auto&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-full-width-responsive</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">     (adsbygoogle = <span class="variable language_">window</span>.<span class="property">adsbygoogle</span> || []).<span class="title function_">push</span>(&#123;&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="插入侧边栏">插入侧边栏</h4>
将代码插入\_macro.swig 文件中
<div class="”sidebar-inner”">

</div>
<p>的最下侧。 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">      &#123;% if theme.sidebar.b2t %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;back-to-top&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-arrow-up&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          &#123;% if theme.sidebar.scrollpercent %&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;scrollpercent&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span>%<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          &#123;% endif %&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Insert google ad blocks --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">&quot;https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Comment_Below --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ins</span> <span class="attr">class</span>=<span class="string">&quot;adsbygoogle&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">style</span>=<span class="string">&quot;display:block&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-ad-client</span>=<span class="string">&quot;ca-pub-6129496365361356&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-ad-slot</span>=<span class="string">&quot;8323610673&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-ad-format</span>=<span class="string">&quot;auto&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">data-full-width-responsive</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">     (adsbygoogle = <span class="variable language_">window</span>.<span class="property">adsbygoogle</span> || []).<span class="title function_">push</span>(&#123;&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">&#123;% endmacro %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h4 id="插入文章头部">插入文章头部</h4>
<p>在\_custom 目录下，新建 google_adsense.swig，并将 AdSense
提供的广告代码放入其中，然后将 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include &#x27;../_custom/google_adsense.swig&#x27; %&#125;</span><br></pre></td></tr></table></figure></p>
<p>插入到 \_macro.swig 文件中。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">        &#123;% else %&#125;</span><br><span class="line">          &#123;% if post.type === &#x27;picture&#x27; %&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;&#123; url_for(post.path) &#125;&#125;&quot;</span>&gt;</span>&#123;&#123; post.content &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          &#123;% else %&#125;</span><br><span class="line">            &#123;&#123; post.content &#125;&#125;</span><br><span class="line">          &#123;% endif %&#125;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">      &#123;% else %&#125;</span><br><span class="line"><span class="comment">&lt;!-- Insert google ad blocks --&gt;</span></span><br><span class="line">        &#123;% include &#x27;../_custom/google_adsense.swig&#x27; %&#125;</span><br><span class="line"></span><br><span class="line">        &#123;&#123; post.content &#125;&#125;</span><br><span class="line">      &#123;% endif  %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;#####################&#125;</span><br><span class="line">    &#123;### END POST BODY ###&#125;</span><br><span class="line">    &#123;#####################&#125;</span><br></pre></td></tr></table></figure>
<p><strong>我不建议在一个网页中布置多个广告，广告内容雷同，会严重影响用户阅读体验。在页面的侧边布置一个广告，难道不香吗？</strong></p>
<h1 id="注意事项">注意事项</h1>
<p>在成功接入 AdSense 后，google
会根据几种方式和数据判断广告点击是否作弊，从而注销你的账号，所以不要心存侥幸心理，好好发原创文章，提高网站的质量才是王道。</p>
<ul>
<li>作弊广告点击者的IP地址与你Adsense账户登录IP地址相同</li>
<li>作弊广告点击的CTR数据太高</li>
<li>作弊广告点击者的IP地址来自同一个地理区域</li>
<li>根据Cookies判断作弊Adsense广告点击</li>
<li>作弊广告点击者页面停留时间太短</li>
<li>直接访问者的广告点击率过高</li>
<li>流量小但广告点击率高</li>
<li>在网页上用文字提示请求鼓动点击广告</li>
</ul>
<!--
copy from [hexo个人next主题博客接入谷歌广告](http://www.darylliu.cn/archives/6a1f6623.html)
-->
<h1 id="last-but-not-least">Last but not least</h1>
<p>现在通过 AdSense
能赚到的收入本身并不高，尤其是博客类的网站更是如此，但在有空余的地方放置一点广告还是能起到丰富博客的作用。</p>
<p>既然大家愿意花时间和精力去搭建个人博客，除了钱以外，肯定还有其他的目的，希望大家不忘初心，更不要舍本逐末，忘记了自己搭建博客的初衷，毕竟广告收入这个事情，有当然好，没有也不用气馁，尽力就好～</p>
<h1 id="references">References</h1>
<ul>
<li><a
target="_blank" rel="noopener" href="http://www.darylliu.cn/archives/6a1f6623.html">hexo个人next主题博客接入谷歌广告</a></li>
<li><a
target="_blank" rel="noopener" href="https://juejin.im/post/5c95d230e51d45124e35cef6">hexo博客next主题添加google
adsense(亲测可用)</a></li>
<li><a
target="_blank" rel="noopener" href="https://blog.csdn.net/stormdony/article/details/85608944">Hexo接入Google
adsense广告</a></li>
</ul>
<hr />
<p>坚持原创技术分享，您的支持将鼓励我继续创作！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.waylon.one/USV/colregs-paper/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="One's Way">
      <meta itemprop="description" content="sharing daily progress and life">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | One's Way">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/USV/colregs-paper/" class="post-title-link" itemprop="url">A COLREGs-based obstacle avoidance approach for unmanned surface vehicles</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-02-02 22:15:10" itemprop="dateCreated datePublished" datetime="2020-02-02T22:15:10+08:00">2020-02-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-19 20:12:32" itemprop="dateModified" datetime="2023-05-19T20:12:32+08:00">2023-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/USV/" itemprop="url" rel="index"><span itemprop="name">USV</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>973</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>4 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!--2019-10-22 22:15:10-->
<p>[toc]</p>
<p>  Unmanned surface vehicles (USVs) are autonomous marine vessels that
can execute multiple tasks in a variety of cluttered marine environments
without human supervision. The future progress of USVs depends on the
development of full autonomy, which would enable USVs to work in any
unstructured or unpredictable environment without human
intervention.<br />
  One of the main challenges in enhancing USV autonomy is the
simultaneous detection and avoidance of obstacles in either open or
confined waters. Local obstacle avoidance for USVs is used to avoid
static and dynamic obstacles by adopting a timely avoidance manoeuvre.
Local obstacle avoidance algorithms are of two types: path
searching-based local path planning, which can generate appropriate
trajectories or waypoints followed by the vehicle, and the
behaviour-based reactive obstacle avoidance method, which can generate
the guidance angle and guidance velocity realized by the navigation
controller in real time.<br />
  A novel path searching-based algorithm called the local normal
distribution-based trajectory (LNDT) is proposed in this paper to
address the local obstacle avoidance problem of USVs in complicated
encounter situations. The design and implementation of LNDT has been
published in <a
target="_blank" rel="noopener" href="https://www.sciencedirect.com/journal/ocean-engineering">Ocean
Engineering</a> with <a
target="_blank" rel="noopener" href="https://www.sciencedirect.com/science/article/pii/S0029801818317475?via%3Dihub">reference
link</a>. Besides, there is <a
target="_blank" rel="noopener" href="https://www.yanlongwang.net/download/papers/A_COLREGs-based_obstacle_avoidance_approach_for_unmanned_surface_vehicles.pdf">a
copy</a> only for personal research purpose.<br />
  The following sections mainly discuss the implementation principle of
the algorithm and provide some critical information to facilitate the
following researchers. About the detailed information, you can refer my
master thesis - <a
target="_blank" rel="noopener" href="https://www.yanlongwang.net/download/papers/Research_on_the_Technology_of_Path_Planning_for_Unmanned_Surface_Vehicle.pdf">Research
on the Technology of Path Planning for Unmanned Surface Vehicle</a>,
while it is written in Chinese. The LNDS method is mainly extracted from
my master thesis and polished in simulation.</p>
<h1 id="abstract">Abstract</h1>
<p>英文在中文之后 / English follows Chinese<br />
  本文讲述了一种新型的、遵守COLREGs规则的无人水面艇(USV)自动避障方法的初步研究结果。这个方法本质上是一种基于路径搜索的算法，称为局部正态分布轨迹法，该算法可以在存在静态和动态障碍物的情况下规划出可行的避障轨迹。算法可以根据正态分布的钟形曲线生成符合COLREGs的次优轨迹，并提取航路点以供导航控制器安全操纵USV。此外，我们讨论了构成钟形曲线的三个关键参数，并提出了一种轨迹重新规划策略，以提高该方法的安全性和灵活性。我们在实验中模拟了常见的超车、交叉和正面碰撞情况来验证算法，仿真表明该方法考虑了多个因素，可以规划出能够安全、平滑地避开障碍物的路径。此外，该方法还和另一种遵守COLREGs规则的反应式避障方法做了比较。<br />
  This paper reports the preliminary research results of a novel
automatic obstacle avoidance approach based on the COLREGs for unmanned
surface vehicles (USVs). The approach presented is essentially a path
searching-based algorithm called the local normal distribution-based
trajectory, which plans viable avoidance trajectories in the presence of
both static and dynamic obstacles. The proposed algorithm can generate a
COLREGs-compliant suboptimal trajectory based on the bell-shaped curve
of normal distribution and extract waypoints for the navigation
controller to steer USVs safely. In addition, we discuss three key
parameters and present a trajectory replanning strategy to improve the
safety and flexibility of our approach. The common overtaking, crossing
and head-on collision scenarios are each simulated in experiments. It is
shown through simulations that the proposed approach considers multiple
factors and can plan paths to avoid obstacles safely and smoothly. A
comparison is also made with a reactive path planning algorithm which
has been modified to follow the COLREGs.</p>
<h1 id="design-and-implementation">Design and Implementation</h1>
<p>  The overall scheme of obstacle avoidance is illustrated in
following figure. The decision-making module in the dashed frame
includes a two-layered distributed architecture of obstacle avoidance;
we primarily study the COLREGs-based obstacle avoidance approach.</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/science/LNDT_Architecture.png" /></p>
<p>  The LNDT algorithm includes six processes, as shown below. We first
integrates COLREGs rules into the obstacle avoidance approach of USVs.
When there is a collision risk, it would determine three key parameters
of the trajectory by a fixed procedure, and the primitive trajectory
would be rotated and translated to adapt the real collision scenario.
The USV then follows the planned trajectories. We would replan the
trajectory once USVs can not follow the planned trajectory.</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/LNDT_Architecture.png" /></p>
<p>  Besides, we propose a scalable and flexible obstacle avoidance
architecture. And we proposes six evaluation indicators to establish a
scientific and impartial obstacle avoidance behaviour assessment (OABA)
method in this paper.</p>
<h1 id="others">Others</h1>
<p>  The LNDT algorithm is mainly implemented in 2018, and it has not
been tested in complex sea trial, so there must be some drawbacks to
improve.<br />
  In order to put it into wide practice, I'm glad to discuss some topics
with you via email and polish this method, even share part of the source
code with you.</p>
<!--
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[LNDT] -- &gt;B(Integrate COLREGs Rules)</span><br><span class="line">B -- &gt; C(Check Collision Risk)</span><br><span class="line">C -- &gt; D(Determine Key Parameters)</span><br><span class="line">D -- &gt; E(Trajectory Rotation &amp; Translation)</span><br><span class="line">E -- &gt; F(USV Follows Trajectory)</span><br><span class="line">F -- &gt; G(Replan Trajectory)</span><br></pre></td></tr></table></figure>
<p>--&gt;</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.waylon.one/USV/Global-path-planning-based-on-electronic-chart/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="One's Way">
      <meta itemprop="description" content="sharing daily progress and life">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | One's Way">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/USV/Global-path-planning-based-on-electronic-chart/" class="post-title-link" itemprop="url">Research and Implementation of Global Path Planning for Unmanned Surface Vehicle Based on Electronic Chart</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-02-01 23:56:31" itemprop="dateCreated datePublished" datetime="2020-02-01T23:56:31+08:00">2020-02-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-19 20:12:32" itemprop="dateModified" datetime="2023-05-19T20:12:32+08:00">2023-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/USV/" itemprop="url" rel="index"><span itemprop="name">USV</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>1.6k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>6 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!--2019-03-12 23:56:31-->
<h1
id="基于电子海图的水面无人艇全局路径规划">基于电子海图的水面无人艇全局路径规划</h1>
<p>该论文已经在ICMIR2017会议上发表，附上springer的文献地址 <a
target="_blank" rel="noopener" href="https://link.springer.com/chapter/10.1007/978-3-319-65978-7_80#citeas">Research
and Implementation of Global Path Planning for Unmanned Surface Vehicle
Based on Electronic Chart</a>，以及arXiv上的 <a
target="_blank" rel="noopener" href="http://arxiv.org/abs/1802.03221">文献地址</a>。本文接下来主要对论文的实现原理进行分析，在最后给出程序代码，方便后来者研究和参考。</p>
<h1 id="摘要">摘要</h1>
<p>英文在中文之后 / English follows Chinese</p>
<p>水面无人艇(Unmanned Surface Vehicles,
USVs)是一种新型的水面智能载具，其中全局路径规划是USV研究的关键技术，它可以反映出USV的智能程度。为了解决USV的全局路径规划问题，本文基于电子海图提出航行代价寻优(sailing
cost
optimization)的改进A*算法。我们使用S-57电子海图实现八叉树网格的环境模型建立，并基于航行安全权重、引导量和路径曲线平滑处理，提出优化的A*算法来实现规划路径航行安全，减少规划时间，提高路径平滑度。仿真结果表明，环境建模方法和改进A*算法可以规划出安全合理的全局路径。</p>
<p>Unmanned Surface Vehicle (USV) is a new type of intelligent surface
boat, and global path planning is the key technology of USV research,
which can reflect the intelligent level of USV. In order to solve the
problem of global path planning of USV, this paper proposes an improved
A* algorithm for sailing cost optimization based on electronic chart.
This paper uses the S-57 electronic chart to realize the establishment
of the octree grid environment model, and proposes an improved A*
algorithm based on sailing safety weight, pilot quantity and path curve
smoothing to ensure the safety of the route, reduce the planning time,
and improve path smoothness. The simulation results show that the
environmental model construction method and the improved A* algorithm
can generate safe and reasonable global path.</p>
<h1 id="论文实现原理">论文实现原理</h1>
<p>水面无人艇的全局路径规划，是指在存在障碍物的复杂环境下，给定起始点和目标点，根据任务要求自主规划出一条能够安全避开环境中静态障碍物的最优路径。</p>
<p>本文提出基于电子海图的USV全局路径规划方案，分为电子海图解析、全局环境模型建立和路径搜索算法三部分。通过解析电子海图文件，提取其中的海域地理信息及碍航物等信息，将海图信息渲染成为自主航路规划系统能够识别的信息模式，建立由可航行网格和不可航行网格组成的环境模型。在此基础上，本文综合考虑航行安全性、航行距离、路径平滑度等因素，采用基于航行代价寻优的改进A*算法来搜索环境模型中的最优路径，实现水面无人艇的全局航路自主规划，提高水面无人艇的自主决策能力和智能化水平。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/ICMIR_Struct.png" width="600" height="120"></p>
<p>水面无人艇全局路径规划系统无法直接利用电子海图进行自主路径规划，所以需要研究矢量电子海图S-57数据结构，提取出全局路径规划需要的海洋环境信息，裁剪无关数据，将电子海图转换为全局航路规划系统能够直接使用的信息。其中，利用开源的TinyXML库保存到xml文件中，供路径规划系统的后续分析和处理。</p>
<p>在提取得到电子海图xml文件后，通过网格化的方法把感兴趣区域划分为若干块大小相等的矩形网格，然后利用Shapely开源地理库依次判断网格中是否存在从电子海图中解析的静态障碍物（如陆地、海岛、浅滩），从而将网格环境地图划分为可航区域和不可航区域。</p>
<p>在实现环境建模后，全局路径搜索算法优化的目标是在确保航行安全性的前提下，尽可能使规划的路径航行代价最小，最大程度地减小与最短路径、最小航行代价无关的计算量。其中，Hart等使用启发式函数来评估从初始点到目标点的代价，在Dijkstra算法基础上，结合启发式函数形成新的路径搜索策略--A*算法，通过减少搜索空间来提高搜索效率，所以更适合网格情形下的全局路径规划。本文对传统的A*算法进行改进，实现全局路径的初步搜索。</p>
<p>网格环境下，如果直接把A*算法搜索得到的节点顺序连接起来作为水面无人艇的全局规划路径，通常会出现阶梯或者锯齿状路径的情况，很明显规划的路径并不是两点间的期望路径。所以，本文提出去除多余航点的曲线平滑算法，在保证安全的前提下减少路径中不必要的航点，使多段折线化为直线，增加路径的光滑度，规划的路径会更加符合起止点之间的期望路径，符合水面无人艇的运动学特性。</p>
<h1 id="实现程序">实现程序</h1>
<p>因为程序是2017年4月份实现的，仍然不够完善，可能存在bug或者性能优化点，欢迎交流和改善。程序最新代码请参考本人github
<a target="_blank" rel="noopener" href="https://github.com/wylloong">wylloong</a>。</p>
<h2 id="电子海图解析">电子海图解析</h2>
<p>S-57电子海图解析中，本文在之前文章中已经进行详细的分析和讲解，并给出源代码，可以参见
<a
target="_blank" rel="noopener" href="https://github.com/wylloong/S57-Electronic-Chart-Reading-and-Storing">S57-Electronic-Chart-Reading-and-Storing</a>
和 <a
href="http://www.waylon.one/USV/ENC-analysis-store/">基于8211lib库对s57电子海图的解析和存储</a>。</p>
<h2 id="建立环境模型">建立环境模型</h2>
<p>该部分代码可详见github <a
target="_blank" rel="noopener" href="https://github.com/wylloong/GlobalPathPlanningforUSV/blob/master/GlobalEnviStructWithSquare.py">GlobalEnviStructWithSquare</a>，如有需要请备份，可能后期会删除掉部分程序。
### 改进A*算法和路径平滑处理</p>
<p>该部分代码可详见github <a
target="_blank" rel="noopener" href="https://github.com/wylloong/GlobalPathPlanningforUSV/blob/master/GlobalPathPlanWithSquare.py">GlobalPathPlanWithSquare</a>，如有需要请备份，可能后期会删除掉部分程序。</p>
<h2 id="程序示例">程序示例</h2>
<p>程序的全局路径规划示意图如下所示：</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/ICMIR2017.png" /></p>
<p>Note: It's been years since I last wrote electronic chart, all
examples may not be syntactically valid but the idea should be
correct.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.waylon.one/USV/IJVAS-USV-GlobalPathPlanning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="One's Way">
      <meta itemprop="description" content="sharing daily progress and life">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | One's Way">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/USV/IJVAS-USV-GlobalPathPlanning/" class="post-title-link" itemprop="url">Global Path Planning for Unmanned Surface Vehicle among Multiple Task Points</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-02-01 16:33:21" itemprop="dateCreated datePublished" datetime="2020-02-01T16:33:21+08:00">2020-02-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-19 20:12:32" itemprop="dateModified" datetime="2023-05-19T20:12:32+08:00">2023-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/USV/" itemprop="url" rel="index"><span itemprop="name">USV</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>1.6k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>6 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!--2019-10-20 16:33:21-->
<p>[toc]</p>
<h1 id="背景">背景</h1>
<p>  针对多任务点的全局路径规划，是指在存在静态障碍物的环境中，给定水面无人艇起始点、目标点以及多个任务点的情况下，设计从起始点出发，安全地遍历各个任务点，最终返回目标点的全局路径，要求行驶的航路代价总和最小。</p>
<p>多平台维护不易，最新文章更新于 <a
href="http://www.waylon.one/USV/IJVAS-USV-GlobalPathPlanning/">个人网站</a>，欢迎访问和留言。</p>
<p>  本文主要解决水面无人艇在对多个任务点进行全局路径规划时的设计和实现算方法，相关研究和设计已在
<a
target="_blank" rel="noopener" href="http://www.inderscience.com/jhome.php?jcode=ijvas">International
Journal of Vehicle Autonomous Systems (IJVAS)</a>
EI期刊发表。附InderScience Publiers - IJVAS的官方文献下载链接 <a
target="_blank" rel="noopener" href="http://www.inderscience.com/offer.php?id=93119">Design and
Implementation of Global Path Planning System for Unmanned Surface
Vehicle among Multiple Task Points</a>，以及arXiv的<a
target="_blank" rel="noopener" href="http://arxiv.org/abs/1807.08106">下载链接</a>。官方文献下载链接需要科学上网才可以打开。<br />
  本文主要讨论论文的实现原理，并给出部分程序源代码，方便后来者研究和参考。<br />
# 摘要 英文在中文之后 / English follows Chinese<br />
  全局路径规划是水面无人艇设计的关键技术之一。本文基于电子海图和六边形网格建立全局环境模型，并且证明六边形网格在有效性，安全性和快速性方面优于传统的正方形网格。此外，本文引入Cube坐标系来简化六边形坐标运算。进一步地，我们提出了一种改进的A*算法来实现两点之间的路径规划。在此基础上，我们构建了多个任务点的全局路径规划模型，并提出了一种改进的蚁群优化算法来准确实现多任务点的全局路径规划。仿真结果表明，全局路径规划系统可以安全、快速地规划出多个任务点的最优路径，在安全性，快速性和路径长度方面均优于传统方法。此外，全局规划路径可直接用于USV的实际场景。<br />
  Global path planning is the key technology in the design of unmanned
surface vehicles. This paper establishes global environment modelling
based on electronic charts and hexagonal grids which are proved to be
better than square grids in validity, safety and rapidity. Besides, we
introduce Cube coordinate system to simplify hexagonal algorithms.
Furthermore, we propose an improved A* algorithm to realize the path
planning between two points. Based on that, we build the global path
planning modelling for multiple task points and present an improved ant
colony optimization to realize it accurately. The simulation results
show that the global path planning system can plan an optimal path to
tour multiple task points safely and quickly, which is superior to
traditional methods in safety, rapidity and path length. Besides, the
planned path can directly apply to actual applications of USVs. #
论文实现原理
  本文提出的多任务点全局路径规划算法主要分为电子海图解析、六边形网格化建模、两点间路径搜索、多任务点的路径规划四部分。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/IJVAS_Struct.png" width="600" height="120"></p>
<p>  其中，通过解析电子海图文件，提取其中的海域地理信息及碍航物等信息，利用六边形进行网格化，建立由可航行六边形网格和不可航行六边形网格组成的环境模型。相关资料可以参考
<a
target="_blank" rel="noopener" href="https://www.cnblogs.com/DHUtoBUAA/p/6506906.html">基于8211lib库对s57电子海图的解析和存储</a>
和 <a
target="_blank" rel="noopener" href="https://www.cnblogs.com/DHUtoBUAA/p/7192315.html">正六边形网格化(Hexagonal
Grids)原理与实现</a>。<br />
  在实现环境建模后，两点间路径搜索算法优化的目标是在确保航行安全性的前提下，尽可能使规划的路径航行代价最小，最大程度地减小与最短路径、最小航行代价无关的计算量。本文设计综合多因素的航行代价，利用Hart提出的A*算法实现两点间的初步搜索，然后利用去除多余航点的曲线平滑算法，在保证安全的前提下减少路径中不必要的航点，使多段折线化为直线，增加路径的光滑度，规划的路径会更加符合起止点之间的期望路径，符合水面无人艇的运动学特性。相关资料可以参考
<a target="_blank" rel="noopener" href="https://www.cnblogs.com/DHUtoBUAA/p/8443815.html">Research and
Implementation of Global Path Planning for Unmanned Surface Vehicle
Based on Electronic Chart</a> 论文。<br />
  在多任务点设计中，本文分析了港口巡逻、水质采样、水文勘测等任务对于全局路径规划的具体要求，从中抽象出针对这些任务通用的路径规划需求：在存在障碍物的海洋环境中，在给定多个任务点坐标的情形下，要求水面无人艇从起始点出发，安全地巡行到各个任务点执行具体的任务，再返回到目标点，要求总体的航路代价和最小。如在水质采样中，航路任务要求水面无人艇从固定点出发，根据设定路线行驶到各个采样点，根据采样要求完成全自动采集水样后，返回到目标点进行下一步处理，该航路任务要求完全符合本文抽象出来的全局路径规划要求。<br />
  在水面无人艇复杂任务应用场景下，多任务点的路径规划可以抽象为网络最短路径问题，该网络本质上是一个有权值的有向图。多任务点的全局路径规划抽象模型--网络最短路径问题,可以近似为旅行商问题(Traveling
Salesman Problem, TSP)，是非常典型的NP (Nondeterministic
Polynomial)难问题。在应用蚁群算法解决多任务点的全局路径规划问题时，路径规划问题可以转化为在一个由节点和边组成的网络权重图（网络最短路径模型）中搜索最优闭环路径，如下图所示。相关资料可以参考
<a
target="_blank" rel="noopener" href="https://www.cnblogs.com/DHUtoBUAA/p/8478671.html">基于蚁群算法的机械臂打孔路径规划</a>。</p>
<p><img data-src="http://www.waylon.one/downloads/images/blog/ant_graph.png" /></p>
<h1 id="实现程序">实现程序</h1>
<p>  因为程序实现于2017年，在性能和流程中仍然不够完善，欢迎邮件进行交流和给出建议。程序最新代码请参考本人的GitHub
<a target="_blank" rel="noopener" href="https://github.com/wylloong">wylloong</a>。<br />
  程序运行结果如下，其中黑点为任务点，红色线段为最后规划的全局路径。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/science/USV_Global_Path_Planning_Multiple_points.png"
alt="程序运行结果" />
<figcaption aria-hidden="true">程序运行结果</figcaption>
</figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.waylon.one/USV/ENC-analysis-store/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="One's Way">
      <meta itemprop="description" content="sharing daily progress and life">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | One's Way">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/USV/ENC-analysis-store/" class="post-title-link" itemprop="url">解析和读取S-57电子海图的数据</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-01-30 08:20:18" itemprop="dateCreated datePublished" datetime="2020-01-30T08:20:18+08:00">2020-01-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-19 20:12:32" itemprop="dateModified" datetime="2023-05-19T20:12:32+08:00">2023-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/USV/" itemprop="url" rel="index"><span itemprop="name">USV</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>1.2k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>4 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!--2019-11-30 08:20:18-->
<p>[toc]</p>
<p>本文主要在S-57电子海图数据的理论模型和数据结构的基础上，实现对S-57电子海图数据文件的解析，将海图信息解析后保存到xml文件中，供下游程序调用和后续研究。</p>
<h1 id="什么是电子海图">什么是电子海图</h1>
<p>电子导航图 (Electronic Navigational Chart, ENC)
是为航海需要而绘制的包含海域地理信息和航海信息的一种数字化的专题地图，是由各个国家的航道官方部门根据国际航道组织的《数字海道测量数据传输标准》
(S-57标准) 而制作的。符合国际标准的电子海图数据统称为S-57电子海图，
它是一种面向对象的矢量格式的电子地图，其存储形式是二进制。<br />
电子海图的理论模型和数据结构，可以查看国际标准《数字海道测量数据传输标准》，这里不再详述，对应英文版是《IHO
TRANSFER STANDARD for DIGITAL HYDROGRAPHIC DATA》。<br />
S-57电子海图的结构如下图所示，来自 <a
href="http://www.waylon.one/download/papers/Research_and_implementation_of_global_path_planning_for_unmanned_surface_vehicle.pdf">Research
and Implementation of Global Path Planning for Unmanned Surface Vehicle
Based on Electronic Chart</a>。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/science/USV/ENC_struct.png"
alt="S57数据结构" />
<figcaption aria-hidden="true">S57数据结构</figcaption>
</figure>
<h1 id="iso-8211lib-和-ogr-简介">ISO 8211lib 和 OGR 简介</h1>
<p>S-57 标准封转格式是 ISO/IEC 8211
国际标准，封装标准的基础是文件，逻辑记录是封装标准的基本成分。<br />
ISO 8211lib 是 C++ 编写的开源库，专门用于读取符合 ISO 8211
封装标准的数据文件，如 S-57 电子海图数据格式和空间数据传输标准数据集
(SDTS)； GDAL 是一个开源栅格空间数据转换库，其中 OGR 是对 GDAL
的扩展，功能与 GDAL 类似，主要提供对矢量数据格式的读写，支持 S-57
电子海图格式，其中 S57reader 类是对 ISO 8211lib 库的封装，该类中包含读取
S-57 电子海图数据文件所用到的基本函数。</p>
<h1 id="程序实现">程序实现</h1>
<h2 id="读取-enc">读取 ENC</h2>
<p>OGR有关于S-57读取的官方文档 <a
target="_blank" rel="noopener" href="http://www.gdal.org/drv_s57.html">IHO S-57 (ENC)</a>，其中需要注意
OGR 的 S-57 驱动模块将处理 S-57 文件里所有的 feature 要素，其中 S-57
的特征物标 (feature objects) 转换为要素 (feature)，空间物标 (geometry
objects) 自动转换化对应要素下的空间几何对象。<br />
在OGR中，从S-57文件读取的所有要素根据物标类型 (OBJL)
归属于相应的图层，可以类比于 GIS 里的 shape 格式，对应的图层下有要素
(feature), 要素下面有字段 (field) 和几何对象
(geometry)，要素的几何形状可以从几何形状中获取，要素属性可以从字段中获取。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">layer according to OBJL</span><br><span class="line">  repeated feature</span><br><span class="line">    repeated field</span><br><span class="line">    repeated geometry</span><br></pre></td></tr></table></figure>
<p>其中，深度信息 (Depth soundings) 是S-57文件特有的，在读取 Depth
soundings 需要设置 S57 Control Options 中的 ADD_SOUNDG_DEPTH 选项为
ON，对于 S57 Control Options
读取和导出的深层次知识请阅读官网文档。<br />
最后，注意在程序中附加s57objectclasses.csv 和
s57attributes.csv文件，否则会缺少信息，如图层只有5层，无法读取等深线等。官方文档是这么解释的：
&gt; The S-57 reader depends on having two supporting files,
s57objectclasses.csv, and s57attributes.csv available at runtime in
order to translate features in an object class specific manner. These
should be in the directory pointed to by the environment variable
S57_CSV, or in the current working directory.</p>
<h2 id="保存到xml文件中">保存到xml文件中</h2>
<p>因为项目需要，需要把 S-57 文件里特定图层的信息提取出来，S-57
文件解析后，把感兴趣的信息保存到 xml 文件中，方便后续的处理。</p>
<p>在 C++ 中，对 XML 文件处理中，使用一个开源的解析 XML 的解析库 --
TinyXML，这个解析库的模型通过解析 XML
文件，然后在内存中生成DOM模型，从而让我们很方便的遍历这棵XML树。</p>
<h2 id="一些实现细节">一些实现细节</h2>
<p>如果无法得到一个object
class的属性或者值不正确，如VALDCO的值始终为0。根据论坛的讨论 <a
target="_blank" rel="noopener" href="http://osgeo-org.1560.x6.nabble.com/OGR-to-access-s57-file-missing-attributes-issue-td3742926.html">OGR
to access s57 file, missing attributes
issue</a>，注意是否加载了S-57的支持文件.csv。 &gt; The solution to that
is to set the GDAL_DATA environment variable to point the directory with
the s57objectclasses.csv and related files。</p>
<h1 id="代码和结果">代码和结果</h1>
<p>解析和存储效果如下图所示，按图层要素顺序依次组织。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/science/USV/ENC_result.png"
alt="S57结构" />
<figcaption aria-hidden="true">S57结构</figcaption>
</figure>
<p>程序实现源代码及示例，欢迎访问<a
target="_blank" rel="noopener" href="https://github.com/wylloong/S57-Electronic-Chart-Reading-and-Storing">Github:
wylloong/S57-Electronic-Chart-Reading-and-Storing</a>。<br />
程序开发环境是VS2015，其中需要在编译的时候修改两个位置，如下图所示，否则编译会报错。</p>
<figure>
<img data-src="http://www.waylon.one/downloads/images/science/USV/ENC_VS_2015_config_1.png"
alt="S57结构" />
<figcaption aria-hidden="true">S57结构</figcaption>
</figure>
<figure>
<img data-src="http://www.waylon.one/downloads/images/science/USV/ENC_VS_2015_config_2.png"
alt="S57结构" />
<figcaption aria-hidden="true">S57结构</figcaption>
</figure>
<p>如果有内容讨论，可以下面留言。</p>
<h1 id="references">References</h1>
<ul>
<li>《数字海道测量数据传输标准》</li>
<li><a target="_blank" rel="noopener" href="https://gdal.org/drivers/vector/s57.html">IHO S-57
(ENC)</a></li>
<li><a
href="http://www.waylon.one/download/papers/Research_and_implementation_of_global_path_planning_for_unmanned_surface_vehicle.pdf">Research
and Implementation of Global Path Planning for Unmanned Surface Vehicle
Based on Electronic Chart</a></li>
<li><a
target="_blank" rel="noopener" href="https://www.cnblogs.com/DHUtoBUAA/p/6506906.html">基于8211lib库对s57电子海图的解析和存储(目前停止维护)</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.waylon.one/website/add-video-in-blog/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="One's Way">
      <meta itemprop="description" content="sharing daily progress and life">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | One's Way">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/website/add-video-in-blog/" class="post-title-link" itemprop="url">Hexo博客如何加入B站视频/How to add bilibili shared video link in Hexo</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-01-23 11:18:21" itemprop="dateCreated datePublished" datetime="2020-01-23T11:18:21+08:00">2020-01-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-19 20:12:32" itemprop="dateModified" datetime="2023-05-19T20:12:32+08:00">2023-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/website/" itemprop="url" rel="index"><span itemprop="name">website</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>637</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>2 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>[toc]</p>
<p>Hexo搭建博客后，如果想在博客中分享视频，避免网站服务器带宽的限制，需要添加其他视频网站的外链播放器，具体该怎么操作呢？</p>
<h1 id="solution-1-hexo-tag-aplayer">Solution 1: hexo-tag-aplayer</h1>
<p><a
target="_blank" rel="noopener" href="https://github.com/MoePlayer/hexo-tag-dplayer">hexo-tag-dplayer</a>
是 <a target="_blank" rel="noopener" href="https://github.com/MoePlayer/DPlayer">DPlayer</a> 播放器的
Hexo 标签插件。</p>
<p>因为版本维护者不再支持新版本的更新，有些bug没有解决，所以对于高版本的Hexo支持不友好，甚至安装阶段就会报错。所以，我不是很支持继续使用该方法。</p>
<p>ps.想继续坚持使用该方法的，可以移步阅读 <a
target="_blank" rel="noopener" href="https://www.datablog.top/2019/04/25/hexo-with-music-and-movie/">在Hexo搭建的博客中插入音乐或者视频</a>。</p>
<h1 id="solution-2-视频网站外链">Solution 2: 视频网站外链</h1>
<p>Hexo 支持 <a
target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/tag-plugins#iframe">iframe</a>
的方式插入视频，所示我们可以把视频上传到哔哩哔哩、优酷、腾讯视频等，然后生成外链再拿来用。</p>
<p>大部分视频网站的外链播放器在视频开头都会加上30秒-2分钟的广告，于是选择B站，无广告，无广告，无广告！</p>
<h2 id="去b站获取视频外链">去B站获取视频外链</h2>
<p>选择视频下方“分享”里的嵌入代码，而不是视频地址。否则进入 Hexo
博客后，网页会自动跳转到 bilibili 的视频页面，而不是自己的博客页面。</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/Copy_bilibili_link.jpg" /></p>
<h2 id="在文章中插入视频外链">在文章中插入视频外链</h2>
<p>Markdown 中可以直接插入 html 代码，但是hexo给我们特意准备了一个 <a
target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/tag-plugins#Raw">raw</a>
标签来插入html代码，防止一些其他因素的干扰，这里我们就使用raw来插入视频外链。</p>

<iframe src="//player.bilibili.com/player.html?aid=90978812&cid=155358422&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<p>因为外链html没有和Hexo适配，所以在网页上打开，界面靠左并且窗口小，显得很难看，不够大气。</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/raw_video_demo.jpg" /></p>
<h2 id="美化播放器样式">美化播放器样式</h2>
<p>这里分享一个很巧妙的偷懒方法，我们可以去Hexo的 <a
target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/">官网</a>，看看作者是如何布局的，然后把代码抄回来。</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/hexo_pick_up_video_element.jpg" /></p>
<p>那么，我们只要把布局中的src，替换为自己的外链地址，就可以设置好视频的布局。</p>

<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=90978812&cid=155358422&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;" ></iframe></div>

<p>因为简书不支持 iframe，大家可以去我的网站看看效果。</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/video_demo.jpg" /></p>
<h1 id="references">References</h1>
<ul>
<li><a
target="_blank" rel="noopener" href="https://blog.csdn.net/yimagudao/article/details/89524210">hexo-tag-dplayer</a><br />
</li>
<li><a
target="_blank" rel="noopener" href="https://haokan.baidu.com/v?pd=wisenatural&amp;vid=5242915545602714565">hexo博客插入B站视频外链（raw实现）</a><br />
</li>
<li><a
target="_blank" rel="noopener" href="https://baijiahao.baidu.com/s?id=1623914788952059989&amp;wfr=spider&amp;for=pc">Hexo博客中加入B站视频播放器</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.waylon.one/website/commonweal-404-page/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="One's Way">
      <meta itemprop="description" content="sharing daily progress and life">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | One's Way">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/website/commonweal-404-page/" class="post-title-link" itemprop="url">Hexo博客添加腾讯404公益页面/Configure a 404 page for Hexo</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-01-19 23:09:26" itemprop="dateCreated datePublished" datetime="2020-01-19T23:09:26+08:00">2020-01-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-19 20:12:32" itemprop="dateModified" datetime="2023-05-19T20:12:32+08:00">2023-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/website/" itemprop="url" rel="index"><span itemprop="name">website</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>507</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>2 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="背景">背景</h1>
<p>当用户点击我们发布的一些旧链接，而 Hexo
的链接都是永久链接，如果该文章被我们删除或者更改了链接，那么用户便会显示
nginx 的 404 页面，这个页面不够友好并且不能帮我们跳转到首页。</p>
<p>其实，hexo 本身是具备自定义 404 页面的，并且 nginx
会自动拦截并显示指定的 404 Not Found 页面，我们可以通过配置 hexo 和
nginx 来跳转自定义界面。</p>
<p>你可以在我的域名下随便修改一个网址，查看自定义404页面展示效果，如 <a
target="_blank" rel="noopener" href="http://www.yanlongwang.net/123_404">http://www.yanlongwang.net/123_404</a>。</p>
<p><img data-src="https://www.yanlongwang.net/downloads/images/blog/404_demo.png" /></p>
<blockquote>
<p>希望新的一年每个家庭都能够幸福美满，充满孩子们的欢声笑语。我也想尽自己的所能，来帮助离家的孩子们能够回到温暖的父母身边。我在今天这个特殊的日子，在自己的博客添加了腾讯404公益页面，希望光顾我博客的朋友如果看到404页面的时候，能够有现实的意义。每一个孩子都不应该被放弃，如果有万分之一的希望。</p>
</blockquote>
<h1 id="设置-hexo-的-404-页面">设置 hexo 的 404 页面</h1>
<ol type="1">
<li>在 Hexo 命令行执行 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page 404</span><br></pre></td></tr></table></figure></li>
</ol>
<p>那么在 Hexo 的根目录下，创建一个文件夹：\404。</p>
<ol start="2" type="1">
<li>编辑 index.md，自动跳转腾讯公益。 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">title</span>&gt;</span>404<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js&quot;</span> <span class="attr">homePageName</span>=<span class="string">&quot;返回首页&quot;</span> <span class="attr">homePageUrl</span>=<span class="string">&quot;https://www.yanlongwang.net&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">true<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>其中，修改 homePageUrl 设置为自己的网站主页。</p>
<ol start="3" type="1">
<li>重新发布网站</li>
</ol>
<h1 id="设置-nginx-环境以支持-404-页面显示">设置 nginx 环境以支持 404
页面显示</h1>
<ol type="1">
<li>编辑服务器上 nginx 的配置文件, 将 error_page 设置为 hexo 的 404
页面。</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">## location in /etc/nginx/conf.d/xxx.conf</span><br><span class="line">location / &#123;</span><br><span class="line">   root /your_root;</span><br><span class="line">   index index.html index.htm;</span><br><span class="line">   error_page 404 /404/index.html;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>重启 nginx 并检查 nginx 状态</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">## 重启 nginx</span><br><span class="line">- systemctl restart nginx </span><br><span class="line">## 检查重启后 nginx 的状态</span><br><span class="line">- nginx -t</span><br><span class="line">  * nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span><br><span class="line">  * nginx: configuration file /etc/nginx/nginx.conf test is successful</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://www.waylon.one/English/elementary-English-reading/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="One's Way">
      <meta itemprop="description" content="sharing daily progress and life">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | One's Way">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/English/elementary-English-reading/" class="post-title-link" itemprop="url">Elementary English Grammar</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-01-06 21:35:59" itemprop="dateCreated datePublished" datetime="2020-01-06T21:35:59+08:00">2020-01-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-19 20:12:32" itemprop="dateModified" datetime="2023-05-19T20:12:32+08:00">2023-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/English/" itemprop="url" rel="index"><span itemprop="name">English</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>977</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>4 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>[toc]</p>
<h1 id="音标">音标</h1>
<!--![国际音标分类图](Elementary-English-Grammar/international_phonetic_system.jpg)-->
<figure>
<img data-src="https://www.yanlongwang.net/downloads/images/blog/international_phonetic_system.jpg"
alt="国际音标分类图" />
<figcaption aria-hidden="true">国际音标分类图</figcaption>
</figure>
<!--![发音原理](Elementary-English-Grammar/phonetic_categories.jpg)-->
<figure>
<img data-src="https://www.yanlongwang.net/downloads/images/blog/phonetic_categories.jpg"
alt="发音原理" />
<figcaption aria-hidden="true">发音原理</figcaption>
</figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[音标_48个] --&gt; B(元音音标_20个)</span><br><span class="line">A --&gt; C(辅音音标_28个)</span><br><span class="line">B --&gt; D(元音是构成英文单词发音的基本元素)</span><br><span class="line">D --&gt; E(单元音)</span><br><span class="line">D --&gt; F(双元音)</span><br><span class="line">B --&gt; G(发音时声带振动且气流在通路上不受发音器官阻挡的是元音)</span><br><span class="line">C --&gt; H(发音时气流在通路上受到发音器官阻挡的是辅音)</span><br><span class="line"></span><br><span class="line">G --&gt; I(舌位不移动,在发音过程中没有摩擦,不受发音器官的任何阻碍)</span><br><span class="line">F --&gt; J(双元音的发音要领是发音饱满,舌行和唇形都要到位)</span><br><span class="line">C --&gt; K(辅音依元音而存在,与元音配合产生音节)</span><br><span class="line">H --&gt; L(清辅音)</span><br><span class="line">L --&gt; M(发音时声带不振动,送气的叫清辅音)</span><br><span class="line">H --&gt; N(浊辅音)</span><br><span class="line">N --&gt; O(发音时声带振动,不送气的叫浊辅音)</span><br></pre></td></tr></table></figure>
<!-- [PPT点读](https://zhuanlan.zhihu.com/p/28925020) -->
<h1 id="名词复数变化及发音规则">名词复数变化及发音规则</h1>
<ul>
<li><p>一般在词尾加-s。s在元音或浊辅音后读[z]，在清辅音后面读成[s]，在[t]后与[t]在一起读成[ts]，在[d]后与[d]一起读成[dz]。</p></li>
<li><p>以 s, sh, ch, x 结尾的词在词尾加-es，读[iz]。</p></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">watch -&gt; watches  </span><br><span class="line">class -&gt; classes</span><br><span class="line">box -&gt; boxes</span><br></pre></td></tr></table></figure>
<ul>
<li>以"元音字母＋y"结尾的词，加-s，读作[z]；以"辅音字母＋y"结尾的词，变y为i，再加-es，读[iz]。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">boy -&gt; boys</span><br><span class="line">factory -&gt; factories</span><br></pre></td></tr></table></figure>
<ul>
<li>以o结尾的词，多数加-s，读[z]。
<ul>
<li>以元音字母+o结尾的词一律加-s，读[z]。</li>
<li>少数以o结尾的词，在词尾加-es，读[z]。</li>
</ul></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tobacco -&gt; tobaccos</span><br><span class="line">radio -&gt; radios</span><br><span class="line">hero -&gt; heroes</span><br><span class="line">tomato -&gt; tomatoes</span><br><span class="line">potato -&gt; potatoes</span><br></pre></td></tr></table></figure>
<ul>
<li>以f或fe结尾的词，多数把f,fe变为v，再加-es，读[vz]。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">thief -&gt; thieves</span><br><span class="line">shelf -&gt; shelves</span><br><span class="line">knife -&gt; knives</span><br></pre></td></tr></table></figure>
<ul>
<li>不规则名词的复数形式
<ul>
<li>通过变化单词内部元音字母，构成复杂形式。 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">man -&gt; men</span><br><span class="line">mouse -&gt; mice</span><br></pre></td></tr></table></figure></li>
<li>单数形式和复数形式相同 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sheep, deer, Chinese, Japanese</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ul>
<p>Reference to <a
target="_blank" rel="noopener" href="https://m.hujiang.com/en/p95953/">沪江英语_名词复数变化及发音规则</a></p>
<h1
id="动词第三人称单数的变化规则及发音规律">动词第三人称单数的变化规则及发音规律</h1>
<ul>
<li>大多数动词在词尾加"s"，在清辅音后发音为[s]，在浊辅音及元音后发音为[z]。
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stop -&gt; stops [s] make -&gt; makes [s]</span><br><span class="line">read -&gt; reads [z] play -&gt; plays [z]</span><br></pre></td></tr></table></figure></li>
<li>以辅音字母加"y"结尾的，要先将"y"变为"i"，然后再加"es"，读[iz]。
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fly -&gt; flies [iz] carry -&gt; carries [iz]</span><br></pre></td></tr></table></figure></li>
<li>以"s, x, ch, sh"结尾的，在词尾加"es"，发音为[iz]。
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">teach -&gt; teaches [iz] watch -&gt; watches [iz]</span><br></pre></td></tr></table></figure></li>
<li>以"o"结尾的动词，加"es"，读[z]。 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go -&gt; goes [z] do -&gt; does [z]</span><br></pre></td></tr></table></figure></li>
</ul>
<p>Reference to <a
target="_blank" rel="noopener" href="https://www.weibo.com/p/230418864e42750102v7hk?pids=Pl_Official_CardMixFeedv6__4&amp;feed_filter=2">动词第三人称单数的变化规则及发音规律</a></p>
<h1
id="动词的过去式过去分词及发音规则">动词的过去式、过去分词及发音规则</h1>
<blockquote>
<p>规则动词的过去分词的构成规则与规则动词的过去式的构成规则相同。</p>
</blockquote>
<h2 id="词尾变化">词尾变化</h2>
<ul>
<li>规则动词的过去式词尾变化有几种：
<ul>
<li>一般动词，在词尾直接加-ed。 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watched, planted, watered, pulled, climbed, picked</span><br></pre></td></tr></table></figure></li>
<li>以不发音的e结尾的动词，只在词尾加d。 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">liked, moved, tasted</span><br></pre></td></tr></table></figure></li>
<li>以“辅音字母+y”结尾的动词，变y为i，再加ed。 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">study —&gt; studied</span><br></pre></td></tr></table></figure></li>
<li>以1个元音字母加1个辅音字母结尾的重读闭音节，末尾只有一个辅音字母(r、y、x、w除外)，先双写该辅音字母，再加ed。
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stop -&gt; stopped drop —&gt; dropped</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ul>
<h2 id="发音规则">发音规则</h2>
<ul>
<li>在浊辅音和元音后, -ed读[d]。 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lived, watered, listened, played</span><br></pre></td></tr></table></figure></li>
<li>在清辅音后,-ed读[t]。 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">liked, helped, watched</span><br></pre></td></tr></table></figure></li>
<li>在[t],[d]音后,-ed读[id]。 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">planted, wanted, handed</span><br></pre></td></tr></table></figure></li>
<li>在"辅音字母+y"结尾后，-ed读[ɪd]或[aɪd]。
<ul>
<li>如果y的发音为[ɪ]，则整体词尾发作[ɪd]。 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">studied、carried、hurried</span><br></pre></td></tr></table></figure></li>
<li>如果y的发音为[aɪ]，则整体词尾发作[aɪd]。 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dried、cried、fried</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ul>
<p>Reference to <a
target="_blank" rel="noopener" href="http://www.59edu.com/xuexiao/primary/201102/23602.html">规则动词的过去式及发音规则</a><br />
<a
target="_blank" rel="noopener" href="https://wenku.baidu.com/view/06ad08d6360cba1aa811dae5.html">动词过去式和过去分词的变化及发音规则</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Nobody</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Word count total">258k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">15:38</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6129496365361356"
     crossorigin="anonymous"></script>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>






  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"waylondotone/blog_comment","issue_term":"pathname","theme":"github-light"}</script>
<script src="/js/third-party/comments/utterances.js"></script>

</body>
</html>
